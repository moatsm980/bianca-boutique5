!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}!function(t){var n=function(t){var n,r=Object.prototype,o=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r=d;return function(o,a){if(r===m)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw a;return P()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=A(i,n);if(c){if(c===b)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=m;var u=f(e,t,n);if("normal"===u.type){if(r=n.done?h:p,u.arg===b)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(e,n,i),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",m="executing",h="completed",b={};function y(){}function v(){}function g(){}var O={};l(O,i,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(I([])));E&&E!==r&&o.call(E,i)&&(O=E);var C=g.prototype=y.prototype=Object.create(O);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(t,n){function r(a,i,c,u){var l=f(t[a],t,i);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"===e(d)&&o.call(d,"__await")?n.resolve(d.__await).then((function(e){r("next",e,c,u)}),(function(e){r("throw",e,c,u)})):n.resolve(d).then((function(e){s.value=e,c(s)}),(function(e){return r("throw",e,c,u)}))}u(l.arg)}var a;this._invoke=function(e,t){function o(){return new n((function(n,o){r(e,t,n,o)}))}return a=a?a.then(o,o):o()}}function A(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,A(e,t),"throw"===t.method))return b;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var o=f(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,b;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,b):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,b)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:n,done:!0}}return v.prototype=g,l(C,"constructor",g),l(g,"constructor",v),v.displayName=l(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,u,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},w(T.prototype),l(T.prototype,c,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new T(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(C),l(C,u,"Generator"),l(C,i,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=I,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return c.type="throw",c.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=o.call(i,"catchLoc"),l=o.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;R(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:I(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),b}},t}(t.exports);try{regeneratorRuntime=n}catch(t){"object"===("undefined"==typeof globalThis?"undefined":e(globalThis))?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}}({exports:{}});var n=t();n.withExtraArgument=t;var r=n,o="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:21;return function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r="",o=n;o--;)r+=e[Math.random()*e.length|0];return r}},i=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=e;n--;)t+=o[64*Math.random()|0];return t};function c(){var e={};function t(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];1===arguments.length&&!0===arguments[0]&&(t=!0),e=Number.isInteger(e)&&e>0?e:10;var n=(!0===t?a("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",3*e):i.bind(null,3*e))();return n.replace(/_/g,"-").replace(/(^[-\d]+?|-+?$)/g,"").slice(0,e)}return(c=function(){for(var n=t();n in e&&(n=t()););return e[n]=1,n})()}var u=c(),l=c(),s=c(),f=c(),d=c(),p=c(),m=c(),h=c(),b=c(),y=c(),v=c(),g=c(),O=c(),_=c(),E=c(),C=c();function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function T(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(){}function R(e){return e}function j(e){return function(){return e}}function I(e){return"string"==typeof e}function P(e){return"boolean"==typeof e}function N(e){return"function"==typeof e}function D(e){return"[object Object]"===Object.prototype.toString.call(e)}function M(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object.defineProperties(e,D(t)?Object.keys(t).reduce((function(e,r){return e[r]={enumerable:!0,writable:!0===n,value:t[r]},e}),{}):{})}function k(e,t){var n=N(t)?t.length?{setter:t}:{getter:t}:D(t)?t:{},r=n.getter,o=n.setter,a=n.extendable,i=void 0===a?arguments[2]:a;Object.defineProperty(this,e,{enumerable:!0,configurable:!0===i,get:N(r)?r.bind(this):S,set:N(o)?o.bind(this):S})}function x(e,t){return N(e)?e:N(t)?t:S}function $(e,t){return e instanceof RegExp&&t&&e.test(String(t).trim())&&t.trim()||null}function L(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return[!0,"true",1,"1"].indexOf(e)>=0||!([!1,"false",0,"0"].indexOf(e)>=0)&&!0===L(t)}function U(e,t){t=(t?String(t):String()).replace(/\[((?:['"])?)([^[\]]*)\1\]/g,(function(e,t,n){return".".concat(Number(n)||String(n))})).split(/\.+/).filter(Boolean);var n,r=e,o=T(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;try{if(void 0===(r=(r instanceof Object||D(r))&&a in r?r[a]:r[r instanceof Array?Number(a):a]))break}catch(e){r=void 0;break}}}catch(e){o.e(e)}finally{o.f()}return r}function V(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this||Object.create(null);if(D(e)){var r=k.bind(n);Object.keys(e).forEach((function(t){r(t,e[t])}))}return!1===t||n===this?n:Object.freeze(n)}function F(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];function n(e){var t,n=this;function r(){return t}function o(e){t=e}return arguments.length&&(I(e)||"symbol"===w(e))&&D(n)&&(o=function(r){t!==r&&(n[e]instanceof Array&&n[e].forEach((function(e){N(e)&&e(r,t)})),t=r)}),{getter:r,setter:o}}return F=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=D(e);return V.call(this,[].concat(r?Object.keys(e):e).reduce((function(t,o){return(I(o)||"symbol"===w(o))&&(t[o]=r?n.call(e,o):n()),t}),{}),t)},F(e,t)}function B(e){return[].concat(e).filter(Boolean)}function H(e,t){return(e=B(e)).concat(e.indexOf(t)<0?t:[])}function G(e,t){var n=(e=B(e)).indexOf(t);return n=~n?n:e.length,e.slice(0,n).concat(e.slice(n+1))}function z(){var e=Object.create(null);return M(e,{NAME:"dcc",Reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=D(t.payload)?t.payload:{};if(t.type===b){var r=n.dcc;return r||null}return e}}),z=e}var W=function(){var e=2147483647,t=-2147483648;function n(e){return(1<<e)-1}function r(e,t){return t?e&n(t):e}return{MAX_NUMBER:e,MIN_NUMBER:t,clamp:function(e,t){return Math.min(e,n(t))},difference:function(e,t,n){return r(e,n)^r(t,n)},maxima:n,overflows:function(e,t){return e!==r(e,t)},size:function(n){return n>=t&&n<=e?n>=0?Math.ceil(Math.log2(n+1)):31:null},truncate:r}}();var K=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:module);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}var Y=function(){return Math.random().toString(36).substring(7).split("").join(".")},Z={INIT:"@@redux/INIT"+Y(),REPLACE:"@@redux/REPLACE"+Y(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Y()}};function Q(e){if("object"!==q(e)||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function J(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function X(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];"function"==typeof e[o]&&(n[o]=e[o])}var a,i=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:Z.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:Z.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+Z.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,o={},c=0;c<i.length;c++){var u=i[c],l=n[u],s=e[u],f=l(s,t);if(void 0===f){var d=J(u,t);throw new Error(d)}o[u]=f,r=r||f!==s}return(r=r||i.length!==Object.keys(e).length)?o:e}}function ee(e,t){return function(){return t(e.apply(this,arguments))}}function te(e,t){if("function"==typeof e)return ee(e,t);if("object"!==q(e)||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":q(e))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=ee(o,t))}return n}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(n,!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var ie=V({localStorage:function(){try{if("localStorage"in self){var e,t="___".concat(Date.now()).concat(String(1e5*Math.random()).split(".")[1],"___");return localStorage.setItem(t,"1"),e=localStorage.getItem(t),localStorage.removeItem(t),"1"===e}}catch(e){}return!1},matchMedia:function(){return"matchMedia"in self},performance:function(){return"performance"in self&&N(performance.now)},worker:function(){return"Worker"in self}});function ce(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var le=["no-preference","light","dark"],se=V({browser:function(){var e=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,t="undefined"!=typeof InstallTrigger,n=/constructor/i.test(window.HTMLElement)||(i=!window.safari||n.pushNotification,"[object SafariRemoteNotification]"===i.toString()),r=!!document.documentMode,o=!r&&!!window.StyleMedia,a=!!window.chrome&&!!window.chrome.webstore;var i;return withProperties(Object.create(null),{chrome:a,edge:o,firefox:t,ie:r,opera:e,safari:n})},cookies:fe,darkMode:function(){return"dark"===de()},isMobile:function(){return e=navigator.userAgent||navigator.vendor||window.opera,/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4));var e},thirdPartyCookies:function(){return fe()&&ie.localStorage}});function fe(){return"navigator"in self&&navigator.cookieEnabled}function de(){if(ie.matchMedia){var e,t=ce(le);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(matchMedia("(prefers-color-scheme: ".concat(n,")")).matches)return"no-preference"!==n?n:null}}catch(e){t.e(e)}finally{t.f()}}return null}function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){he(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be,ye,ve,ge={darkMode:!1,overrideSystem:!1},Oe=0;function _e(){var e=Object.create(null),t=this.dispatch;function n(){return W.truncate(Oe,2)}function r(e){Oe=W.truncate(e,2)}function o(){return!!(1&n())}function a(){return function(t){e.STATE.overrideSystem?N(be)&&be((function(){be=void 0})):N(be)||(be=function(e){if(ie.matchMedia){var t,n,r,o,a;function i(e){e.matches||c(u)}function c(e){r(i),N(e)&&e()}function u(){var c=t;t=de()||"no-preference",a=matchMedia("(prefers-color-scheme: ".concat(t,")")),void 0===o&&(o=N(a.addEventListener)),o?(n=a.addEventListener.bind(a,"change"),r=a.removeEventListener.bind(a,"change")):(n=a.addListener.bind(a),r=a.removeListener.bind(a)),n(i),void 0!==c&&e(t,c)}return e=x(e),u(),c}}((function(e){t({type:v,payload:{dark:"dark"===e}})})))}}function i(t){return function(o){var a=e.STATE,i=a.darkMode;a.overrideSystem&&(t=!0===t)!==i&&(o({type:v,payload:{dark:t}}),r(1^n()))}}function c(t){return function(o){var i=e.STATE.overrideSystem;(t=!0===t)!==i&&(o({type:g,payload:{override:t}}),r(2^n()),o(a()))}}return M(e,{NAME:"color",Reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0,n=D(t.payload)?t.payload:{};switch(t.type){case v:var r=n.dark,a=e.darkMode;return(r=!0===r)!==a?me(me({},e),{},{darkMode:r}):e;case g:var i=n.override,c=e.overrideSystem;return(i=!0===i)!==c?{darkMode:i?o():se.darkMode,overrideSystem:i}:e;default:return e}},actions:M(Object.create(null),{updateDarkMode:i,updateOverrideSystem:c}),exposedActions:M(Object.create(null),{AutoColorMode:te({on:function(){return function(e){e(c(!1))}},off:function(){return function(e){e(c(!0))}}},t),DarkMode:te({on:function(){return function(e){e(i(!0))}},off:function(){return function(e){e(i(!1))}}},t)})}),setTimeout((function(){var e=!!(2&n());t({type:g,payload:{override:e}}),t({type:v,payload:{dark:e?o():se.darkMode}}),t(a())}),0),_e=e}function Ee(){var e=Object.create(null),t=0;return M(e,{NAME:"error",Reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=D(t.payload)?t.payload:{};if(t.type===y){var r=n.error;return(I(r)?r.trim():"")||null}return e},actions:M(Object.create(null),{updateErrorMessage:function(e,n){var r=arguments;return function(o,a){var i=U(a(),"error");((I(e)?e.trim():"")||null)!==i&&(n=r.length>1?isNaN(n=Number(n))?1/0:Math.round(1e3*Math.max(n,10)):1/0,t&&(clearTimeout(t),t=0),o({type:y,payload:{error:e}}),n!==1/0&&(t=setTimeout((function(){clearTimeout(t),t=0,o({type:y})}),n)))}}})}),Ee=e}function Ce(){var e=Object.create(null),t=this.data;return M(e,{NAME:"amount",Reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U(t,"amount")||null,n=arguments.length>1?arguments[1]:void 0,r=D(n.payload)?n.payload:{};if(n.type===h){var o=r.amount;return+o||e}return e},actions:M(Object.create(null),{updateChargeAmount:function(e){return function(t){t({type:h,payload:{amount:U(e,"charge_amount")||e}}),t({type:b,payload:{dcc:U(e,"dcc")}})}}})}),Ce=e}function we(e){return e=D(e)?e:{},M(Object.create(null),Object.keys(e).reduce((function(t,n){var r=e[n];return t[n]=j(null==r?null:r),t}),{}))}function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){Se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(){var e,t=Object.create(null),n=this.data,r={new_amount:U(n,"new_amount"),is_discounted:U(n,"is_discounted"),discount:U(n,"discount"),discounted_value:U(n,"discounted_value"),discount_type:U(n,"discount_type")};U(n,"campaign")&&(e=Ae(Ae({},U(n,"campaign")),r));var o=we(Ae({},e));return M(t,{NAME:"campaign",Reducer:X(Ae({},o))}),Re=t}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}je(ye={},1,"TEXT"),je(ye,2,"CLASS"),je(ye,4,"STYLE"),je(ye,8,"PROPS"),je(ye,16,"FULL_PROPS"),je(ye,32,"HYDRATE_EVENTS"),je(ye,64,"STABLE_FRAGMENT"),je(ye,128,"KEYED_FRAGMENT"),je(ye,256,"UNKEYED_FRAGMENT"),je(ye,512,"NEED_PATCH"),je(ye,1024,"DYNAMIC_SLOTS"),je(ye,2048,"DEV_ROOT_FRAGMENT"),je(ye,-1,"HOISTED"),je(ye,-2,"BAIL"),je(ve={},1,"STABLE"),je(ve,2,"DYNAMIC"),je(ve,3,"FORWARDED");var Ie=Object.prototype.toString,Pe=function(e){return"[object Object]"===(t=e,Ie.call(t));var t},Ne=Object.freeze(function(){try{return new DOMException("Aborted","AbortError")}catch(e){return Me("Aborted","AbortError")}}()),De=Object.freeze(Me("Timeout","TimeoutError"));function Me(e,t){var n=new Error(e);return n.name=t,n}function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function xe(){}function $e(e){return function(){return e}}function Le(e){return e&&"function"==typeof e}function Ue(e){return e&&"object"===ke(e)&&Le(e.then)&&e instanceof Promise}function Ve(e){return e&&"[object Object]"===Object.prototype.toString.call(e)}function Fe(e){return Ve(e)&&0===Object.getOwnPropertyNames(e).length}function Be(e){return e&&"object"===ke(e)&&Le(e.clone)&&e instanceof Response}function He(e){return e&&"object"===ke(e)&&"boolean"==typeof e.aborted&&e instanceof AbortSignal}function Ge(e){return He(e)&&e.aborted}function ze(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=!0===t,Object.defineProperties(this,Object.keys(e).reduce((function(n,r){return n[r]={writable:t,value:e[r]},n}),Object.create(null)))}var We=Object.freeze(new Promise(xe)),Ke=Object.freeze(Promise.reject.bind(Promise)),qe=Object.freeze(Promise.resolve.bind(Promise));function Ye(){var e=new AbortController;return{signal:e.signal,abort:e.abort.bind(e)}}function Ze(e){return He(e)&&!Ge(e)?new Promise((function(t,n){e.addEventListener("abort",(function(){return n(Ne)}))})):We}var Qe=1e4,Je=["cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal"];var Xe="RF-OPTRY",et=Object.freeze($e(0)),tt=rt((function(e){return 10*ot(e)})),nt=rt((function(e){return 10*(1<<Math.max(e>>2,10))}));function rt(e){return e=Le(e)?e:et,Object.freeze((function(t){var n;return e!==et&&void 0!==e["RF-OPTRY"]&&(n=e["RF-OPTRY"]),t=Math.min(Math.max(0,t),10)||1,function(r){var o=(r=Math.max(0,Math.min(r,1/0))||0)>=n?Qe:Math.min(e(r),Qe);if(o>=Qe&&void 0===n)try{e!==et&&Object.defineProperty(e,Xe,{value:r})}finally{n=r}return o*t}}))}function ot(e){var t=[];return ot=function e(n){switch(!0){case n>0&&t[n]:return t[n];case n<=0:return t[n]=0;case n<=2:return t[n]=1;default:return t[n]=e(n-1)+e(n-2)}},ot(e)}function at(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return Ke(De)},n=0,r=Ye(),o=r.signal,a=r.abort,i=Ge(o)?c(Ke):new Promise((function(r,a){n=setTimeout((function(){c((function(){r(Le(t)?t():t)}))}),e),o.addEventListener("abort",(function(){c(a)}))}));return Object.defineProperty(i,"clear",{value:a});function c(e){return n&&clearTimeout(n),n=0,(c=function(e){return Le(e)&&e()})(e)}}function it(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e=Math.max(0,e=+parseFloat(e)),e=Number.isFinite(e)?e:+parseFloat(t),Number.isFinite(e)?e:0}function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function st(e){return function(e){if(Array.isArray(e))return ft(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ft(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var pt=Object.freeze(["delay","init","limit","many","one","retry","timeout"].reduce((function(e,t){return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e="$".concat(e),lt({},!0===t?"get":"value",(function(){try{if(Le(Object.getPrototypeOf(this.$context)[e])){var t,n=(t=this.$context.$$clone())[e].apply(t,arguments);return bt.call(n)}}catch(e){}return this}))}(t,["many","one"].indexOf(t)>=0),e}),{})),mt=Object.freeze(ze.call(Object.create(null),{$delay:function(e){if(!Le(e))if(0===(e=it(e)))e=et;else e=$e(e);return Le(e)&&e!==this.retryDelaySequence&&(this.retryDelaySequence=e),this},$init:function(e){var t=Ve(e)?e:{},n=t.headers,r=dt(t,["headers"]),o=Object.keys(r).reduce((function(e,t){if(Je.indexOf(t)>=0){var n=r[t];void 0!==n&&e.push(function(e,t){var n=Je.indexOf(e)>=0&&"headers"!==e,r=arguments.length>1;return n&&r?function(n){Ve(n)&&!Object.hasOwnProperty(n,e)&&(n[e]=t)}:xe}(t,n))}return e}),[]);return void 0!==n&&o.push(function(e){return Ve(e)&&!Fe(e)&&(e=new Headers(e)),e instanceof Headers?function(t){if(Ve(t)){var n=t.headers;(n=new Headers(Ve(n)?n:{}))instanceof Headers&&(e.forEach((function(e,t){try{n.has(t)||n.set(t,e)}catch(e){}})),t.headers=n)}}:xe}(n)),this.initResolvers=o,this},$limit:function(e){return e=0==(e=+e)?0:Math.max(0,e),Number.isInteger(e)&&this.limit!==(e=0===e?1/0:e)&&(this.limit=e),this},$many:function(){return!1===this.multiple&&(this.multiple=!0),this},$one:function(){return!0===this.multiple&&(this.multiple=!1),this},$retry:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=(t=t.filter(Le)).length;return(r||0===r&&r!==this.retryPredicates.length)&&(this.retryPredicates=t),this},$timeout:function(e){return e=0==(e=+e)?0:Math.max(50,Math.min(e,1e5)),Number.isFinite(e)&&this.timeout!==e&&(this.timeout=e),this},$$clone:function(){return ht.call(this)}}));function ht(){var e=this,t=Ve(e)&&Object.getPrototypeOf(e)===mt;return ze.call(Object.create(mt),{limit:t?e.limit:1,timeout:t?e.timeout:0,multiple:!t||e.multiple,initResolvers:st(t?e.initResolvers:[]),retryPredicates:st(t?e.retryPredicates:[]),retryDelaySequence:t?e.retryDelaySequence:et},!0)}function bt(){var e,t,n=this,r=n.timeout>0,o=!0!==n.multiple;function a(){var n=Ye();e=n.abort,(t=n.signal).addEventListener("abort",a)}function i(e,r){e=Le(e)?e:noop,r=[].concat(r).filter(Ue);var o=0;return function(a){return function(e){return Promise.all(n.retryPredicates.map((function(t){return qe(t(Be(e)?e.clone():e)).then(Boolean,(function(){return!1}))}))).then((function(e){return e.reduce((function(e,t){return e||t}),!1)}))}(a).then((function(i){return i&&++o<n.limit&&a!==Ne?new Promise((function(a,i){var c=at(it(n.retryDelaySequence(o)),e);Promise.race([c,Ze(t)].concat(st(r))).catch((function(e){return e===Ne&&Le(c.clear)&&c.clear(),Ke(e)})).then(a,i)})):(Be(a)?qe:Ke)(a)}))}}function c(e){return e=Ve(e)?e:{},n.initResolvers.forEach((function(t){return t(e)})),e}function u(){o&&e();for(var u=arguments.length,l=new Array(u),s=0;s<u;s++)l[s]=arguments[s];var f=l[0],d=l[1],p=c(d),m=p.signal,h=dt(p,["signal"]),b=Ze(m),y=i(v,[b]);return v();function v(){if(Ge(m))return Ke(Ne);Ge(t)&&a();var e=Ye(),o=r?at(n.timeout):We;return Promise.race([o,Ze(t),b,fetch(f,ut(ut({},h),{},{signal:e.signal}))]).catch((function(t){return(t===Ne||t===De)&&e.abort(),Ke(t)})).finally((function(){r&&Le(o.clear)&&o.clear()})).then(y,y)}}return a(),Object.defineProperties(Object.defineProperty(u,"abort",{enumerable:!0,get:function(){return e}}),pt),Object.defineProperty(u,"$context",{value:Object.freeze(n)})}function yt(){return bt.call(ht())}var vt=Object.freeze((function(e){return!Be(e)})),gt=Object.freeze((function(e){return!(Be(e)||e===Ne||e===De)})),Ot=Object.freeze((function(e){return e===De}));Object.defineProperties(yt,["delay","init","limit","many","one","retry","timeout"].reduce((function(e,t){return e[t]={get:function(){return yt()[t]}},e}),{})),ze.call(yt,{ABORT_ERROR:Ne,TIMEOUT_ERROR:De,FibonacciDelay:tt,ProgressiveDelay:nt,RetryOnError:vt,RetryOnNetworkError:gt,RetryOnTimeout:Ot});var _t,Et,Ct,wt,Tt=/^[a-z]{2}$/i,At=/^[^\s@]+@[^\s@]+\.[^\s@]+$/i,St=/^flwpubk(?:_test)?-[\da-f]{32}-x$/i,Rt=/^[\da-f]{32}(?:[\da-f]{8}(?:[\da-f]{24})?)?$/i,jt=/((?:\*\d+)(?:\*\d+(?:\+\d+)*)+#)(?:\|(\d+))?/,It=/^(?:(?:[1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}(?:[1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])$/,Pt={AED:1,ALL:1,ARS:1,AUD:1,BGN:1,BHD:1,BIF:5,BND:1,BRL:1,BWP:1,CAD:1,CDF:1,CFA:1,CHF:1,CLP:5,CNY:1,COP:1,CRC:1,CVE:1,CZK:1,DJF:4,DKK:1,DOP:1,DZD:1,EGP:1,ETB:1,EUR:3,GBP:3,GHS:1,GMD:1,GNF:5,GTQ:1,HKD:1,HNL:1,HUF:1,IDR:1,ILS:1,INR:1,IQD:1,ISK:5,JOD:1,JPY:5,KES:1,KHR:1,KMF:4,KRW:5,KWD:1,LBP:1,LKR:1,LRD:1,LYD:1,MAD:1,MOP:1,MUR:1,MWK:1,MXN:1,MYR:1,MZN:1,NGN:3,NOK:1,NZD:1,OMR:1,PAB:1,PEN:1,PHP:1,PLN:1,PYG:5,QAR:1,RUB:1,RWF:5,SAR:1,SDD:1,SEK:1,SGD:1,SLL:1,STD:1,SVC:1,SYP:1,THB:1,TND:5,TRY:1,TWD:1,TZS:1,UGX:5,USD:3,UYI:4,VEF:1,VND:5,VUV:4,XAF:5,XOF:5,XPF:4,YER:1,ZAR:3,ZMK:1,ZMW:1,ZWD:1},Nt=/^\s*[a-z]{3}\s*$/i,Dt="CurrencyValidationError",Mt=Ut("ERR_EMPTY_CURRENCY"),kt=Ut("ERR_ABNORMAL_CURRENCY"),xt=Ut("ERR_UNSUPPORTED_CURRENCY"),$t=function(){function e(e){var t=Bt(e),n=Ft(e),r=t?n:"XXX",o=Pt[r]||0;Object.defineProperties(this,{isEmpty:{value:j(!n)},isCurrencyLike:{value:j(t)},toString:{value:j(r)},valueOf:{value:j(o)}})}return Object.defineProperties(e.prototype,{test:{value:function(e){return!!this.isCurrencyLike()&&(this&(e=Number.isInteger(e)?7&Math.max(e,0):0))===e}}}),function(t){return new e(t)}}(),Lt=(_t=Vt(),Et=_t.supported,Ct=_t.rounded,wt=_t.dcc,Object.freeze(M(Object.create(null),{DCC:wt,ROUNDED:Ct,SUPPORTED:Et,NONE:"XXX",VALIDATION_ERR:Dt,FLAG_DCC:2,FLAG_ROUNDED:4,FLAG_SUPPORTED:1,from:$t,validate:Wt,defaultValidate:Kt,isCurrencyLike:Bt,isSupported:Ht,isDCCTarget:Gt,usesRoundedAmount:zt})));function Ut(e){var t,n=new TypeError((t=e,I(t)&&(t=t.toLowerCase().trim())?t.replace(/[^a-z0-9_]+/g,"_").replace(/^_+|_+(?=_)|_+$/g,""):String()).toUpperCase()||void 0);return n.name=Dt,Object.freeze(n)}function Vt(){var e=[],t=[],n=[];return Object.keys(Pt).forEach((function(r){var o=Pt[r=Ft(r)]||0;o&&(1&o&&e.push(r),2&o&&n.push(r),4&o&&t.push(r))})),(Vt=j({supported:Object.freeze(e),rounded:Object.freeze(t),dcc:Object.freeze(n)}))()}function Ft(e){return I(e)?e.trim().toUpperCase():""}function Bt(e){return Nt.test(String(e))}function Ht(e){return $t(e).test(1)}function Gt(e,t){return $t(e).test(2|(!0===t&&1))}function zt(e,t){return $t(e).test(4|(!0===t&&1))}function Wt(e,t){var n,r=t,o=D(e)?e:{currency:e};e=o.currency,n=o.support,t=o.silent,e=$t(e),t=P(r)?r:!0===t,n=!1!==n&&(7&n||1);try{if(e.isEmpty())throw Mt;if(!e.isCurrencyLike())throw kt;if(n&&!e.test(n))throw xt;return!!t||String.call(null,e)}catch(e){if(t)return!1;throw e}}function Kt(e,t){try{return Wt(e,t)}catch(e){switch(e){case Mt:e="Currency not provided or could not be resolved.";break;case kt:e="Currency not provided in three-letter code format.";break;case xt:e="Currency not supported for payments at this time."}if(I(e)){var n=new TypeError(e);throw n.name=Dt,n}throw new Error("Currency validation failed.")}}function qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||Zt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(e){return function(e){if(Array.isArray(e))return Qt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Zt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zt(e,t){if(e){if("string"==typeof e)return Qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qt(e,t):void 0}}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jt,Xt,en,tn=256,nn=1024,rn=1536,on=2048,an=4096,cn={amount:10241,campaign_id:0,country:64,currency:129,customer_email:3,customer_firstname:0,customer_fullname:0,customer_lastname:0,customer_phone:4,custom_description:0,custom_logo:8,custom_narration:0,custom_title:0,default_account:0,disable_pwb:tn,exclude_banks:5120,custom_pwbt_expiry:rn,include_discount_amount:768,init_url:8,integrity_hash:32,checkout_hash:32,payload_hash:32,is_event_tx:nn,mobilemoney_network:0,payment_method:0,payment_options:an,payment_page:0,payment_plan:on,PBFPubKey:17,recurring_stop:0,redirect_no_json:tn,redirect_post:tn,redirect_url:8,settlement_token:0,txref:1,custom_session_duration:rn,custom_retry:on},un=function e(t,n){var r,o=I(n)&&n.trim()||null,a=fn.bind((this.value=o||n,this));if(t)try{if(1&t&&null===o)throw new TypeError("Missing parameter value.");if(t&rn&&null!==o)try{var i=Number(parseFloat(o));if(isNaN(i)&&(i<60||i>31536e3))throw"DURATION_ERR";return i}catch(e){throw a("valid expiration period value")}if(t&an){var c=e.bind(Object.create(null),t^an);return Object.freeze([].concat(o.split(/\s*,\s*/)).filter(Boolean).map(c))}if(2&t)try{return $(At,o).toLowerCase()}catch(e){throw a("valid email")}if(8&t)try{return new URL(decodeURIComponent(o)).href}catch(e){throw a("valid url")}if(16&t)try{return $(St,o).toUpperCase().replace(/-[\da-f]{32}-/gi,N(r=String.prototype.toLowerCase)?Function.prototype.call.bind(r):r)}catch(e){throw a("valid public key")}if(32&t)try{return $(Rt,o).toLowerCase()}catch(e){throw a("valid checksum value")}if(64&t)try{return $(Tt,o).toUpperCase()}catch(e){throw a("2-character country-like code")}if(128&t)return Lt.defaultValidate(o);if(t&tn)return L(o,!!(512&t));if(t&nn)try{return $(/^[+-]?\d+(?:\.\d+)?$/,o).slice()}catch(e){throw a("valid numeric value")}if(8192&t)try{var u=Number(parseFloat(o));if(isNaN(u)||u<=0)throw"AMOUNT_ERR";return u}catch(e){throw a("amount")}if(t&on)try{var l=Number(parseInt(o));if(isNaN(l)||l<=0)throw"NUMBER_ERR";return l}catch(e){throw a("number")}return o}catch(e){if(1&t)throw e;return null}return o}.bind(Object.create(null)),ln=(Jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Xt=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,en=Object.freeze(Object.create(null,{encode:{value:function(e){return function(e){for(var t,n,r,o,a="",i=0,c=(e=String(e)).length%3;i<e.length;){if((n=e.charCodeAt(i++))>255||(r=e.charCodeAt(i++))>255||(o=e.charCodeAt(i++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");a+=Jt.charAt((t=n<<16|r<<8|o)>>18&63)+Jt.charAt(t>>12&63)+Jt.charAt(t>>6&63)+Jt.charAt(63&t)}return c?a.slice(0,c-3)+"===".substring(c):a}(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))}},decode:{value:function(e){return decodeURIComponent(escape(function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!Xt.test(e))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");e+="==".slice(2-(3&e.length));for(var t,n,r,o="",a=0;a<e.length;)t=Jt.indexOf(e.charAt(a++))<<18|Jt.indexOf(e.charAt(a++))<<12|(n=Jt.indexOf(e.charAt(a++)))<<6|(r=Jt.indexOf(e.charAt(a++))),o+=64===n?String.fromCharCode(t>>16&255):64===r?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,255&t);return o}(e)))}}})),function(){var e;try{e=en.decode(new URLSearchParams(window.location.search).get("__").replace(/\s/g,"+")).replace(/([+])/g,(function(e,t){return encodeURIComponent(t)}))}catch(t){e=new URLSearchParams(window.location.search.replace(/([+])/g,(function(e,t){return encodeURIComponent(t)})))}return new URLSearchParams(e)}),sn=function(){var e,t=Object.create(null),n=Object.create(null),r=ln(),o=Yt(r.keys()),a=Object.fromEntries(Yt(r.entries()).sort((function(e,t){var n=qt(e,1)[0],r=qt(t,1)[0];return(n=n.toLowerCase())>(r=r.toLowerCase())?1:n<r?-1:0})));for(var i in cn){var c=String(),u=RegExp("^".concat(i,"$"),"i"),l=o.findIndex(u.test.bind(u));l>=0&&(c=r.get(o[l])||c,o.splice(l,1));try{n[i]=(void 0,un((e=i)in cn?cn[e]:0,c))}catch(e){t[i]=e.message}}return Object.freeze(M(Object.create(null),{get:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.every(I))throw new TypeError("Expects parameter name to be a string.");var o=t.reduce((function(e,t){return e[t]=n[t],e}),Object.create(null));return 1===t.length?o[t[0]]:o},getError:function(){for(var e,n,r=0,o=Object.keys(t);r<o.length;r++){var a=o[r];if(e=t[n=a])break}var i=e&&e.replace(/(?:(parameter) value\.\s*)((?:.*?(?=, but got))?).*$/,(function(e,t,r){return"".concat(t,"(`").concat(n,"`): Kindly terminate this session and reconfirm the data.")})),c=i.includes(":")?i.split(":"):i;return c[1].includes("Kindly terminate")&&(c[0].includes("Missing")?i="init.missing.parameter.".concat(n):c[0].includes("Invalid")&&(i="init.invalid.parameter.".concat(n))),i},hasErrors:function(){return!Fe(t)},raw:Object.freeze(a),parsed:Object.freeze(n)}))}();function fn(e){return e="".concat(["a","e","i","o","u"].indexOf(String(e)[0])>=0?"an":"a"," ").concat(e),new TypeError("Invalid parameter value. Expected ".concat(e,", but got ").concat(""===this.value?"nothing":'"'.concat(this.value,'" instead'),"."))}function dn(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var o=0,a=n;o<a.length;o++){var i=a[o],c=String(i).split("::"),u=qt(c,2),l=u[0],s=u[1],f=void 0===s?l:s;l&&(e[l]=f)}var d=sn.get.apply(sn,Yt(Object.keys(e)));return 1===Object.keys(e).length?d:Object.keys(d).reduce((function(t,n){return t[e[n]]=d[n],t}),{})}function pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hn(e){return hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hn(e)}var bn,yn,vn=Function.prototype.call.bind(Object.prototype.toString);function gn(e){return"object"===hn(e)&&"[object Object]"===vn(e)}function On(e,t){if(e&&"object"===hn(e)){for(var n,r=0,o=Object.entries(e);r<o.length;r++){var a=pn(o[r],2),i=a[0],c=a[1];i===t&&(n=c)}return n}}function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){Cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}bn=!1,yn=function(e){!0!==bn&&(bn=!0),e},addEventListener("on:CurrentViewChange",(function(e){var t=e.detail;setTimeout(yn,0,t)})),Object.defineProperties(function e(t){try{if(!(t instanceof HTMLSelectElement&&t.classList.contains("selectbox__native")))throw new Error;if(!(this instanceof e))return new e(t);var n=t.closest(".selectbox");if(!n||n===t)throw new Error;this.$select=t,this.$options=t.options,this.$container=n,this.$updatePlaceholder=this.updatePlaceholder.bind(this),t.addEventListener("change",this.$updatePlaceholder,!1),this.updateElements()}catch(e){throw console.log(e),new Error("Expects a <select> element that meets all selectbox requirements.")}}.prototype,{updateElements:{value:function(){var e=this.$container.querySelector("select.selectbox__native"),t=this.$container.querySelector(".selectbox__placeholder");e&&t&&(this.$select!==e&&(e.addEventListener("change",this.$updatePlaceholder,!1),this.$select.removeEventListener("change",this.$updatePlaceholder,!1),this.$select=e,this.$options=e.options),this.$placeholder!==t&&(this.$placeholder=t),this.updatePlaceholder())}},updatePlaceholder:{value:function(){var e=this.$options[this.$select.selectedIndex].textContent;e!==this.$placeholder.textContent&&(this.$placeholder.textContent=e)}}});var wn,Tn,An,Sn=$e(null),Rn={method:"POST",headers:{"Content-Type":"application/json"}},jn=[function(e){return Be(e)&&!(Pn(e)&&e.ok)},yt.RetryOnNetworkError,yt.RetryOnTimeout],In=5e3;function Pn(e){if(Be(e))try{var t=e.headers.get("content-type");return/\bapplication\/json\b/i.test(t)}catch(e){}return!1}function Nn(e){var t=Object.getOwnPropertyDescriptors(e);return Object.defineProperties((function(t,n){var r=gn(n)?n:{},o=U(ed.getState(),"locale")||xo(sn.get("currency"));return e(t,En(En({},r),{},{headers:{"x-flw-lang":o.toUpperCase()}}))}),t)}function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){kn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $n,Ln,Un="".concat("https://api.ravepay.co","/v3/checkout/initialize"),Vn=(($n=new Error("INITIALIZATION_FAILED")).name="ERR_INITIALIZATION_FAILURE",Object.freeze($n)),Fn=Nn((wn=yt.one.limit(5).init(Rn)).retry.apply(wn,(Ln=jn,function(e){if(Array.isArray(e))return xn(e)}(Ln)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(Ln)||function(e,t){if(e){if("string"==typeof e)return xn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xn(e,t):void 0}}(Ln)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).timeout(1e4)),Bn=["card","paypal","applepay","googlepay","ussd","account","banktransfer","internetbanking","enaira","mobilemoneyfranco","mobilemoneyghana","mobilemoneymalawi","mobilemoneyrwanda","mobilemoneytanzania","mobilemoneyuganda","mobilemoneyzambia","mpesa","1voucher","qr","barter","opay","bankreference","fawrypay","payattitude","paga","nqr","credit","wechat","cryptocurrency","mcash","alipay"];function Hn(){return Tn?Promise.resolve(Tn):(sn.hasErrors()?new Promise((function(e,t){setTimeout(t,100)})):Fn(Un,{body:JSON.stringify(Mn(Mn({},dn("amount","country","currency","customer_email","disable_pwb","init_url","integrity_hash","checkout_hash","payload_hash","payment_plan","payment_method","payment_options","PBFPubKey::public_key","txref::tx_ref")),{},{last_used_payment_option:ie.localStorage?localStorage.getItem("lastUsedOption"):null,payment_options_sequence:"".concat(Bn)}))}).then((function(e){return An=null,Pn(e)?e.json().then((function(e){try{if("error"===e.status)return An=e.message||null,Promise.reject(Vn)}catch(e){}if(D(e)&&D(e.data)){var t=Mn({},e.data),n="custom_retry"in sn.raw?sn.get("custom_retry")||0:null;return null!==n&&ie.localStorage&&localStorage.setItem("retryAttempts",btoa(String(100*Math.round(Number(n))))),Object.defineProperty(t,"get",{value:function(e){var n=U(t,e);return void 0===n?null:n}}),Tn=t}return Promise.reject(Vn)})):Promise.reject(Vn)}))).catch((function(){var e=An||"Initialization failed";return e&&(e=e.replace(/\.?\s*?$/,"").trim())&&setTimeout((function(){var t="".concat(e,": Kindly terminate this session and try again.");if("Initialization failed"===e)t="init.generic.notice";sn.hasErrors()||ed.dispatch(Ee.actions.updateErrorMessage(t))}),100),Tn=Object.create(null,{get:{value:function(){return null}}})}))}var Gn=null;function zn(){return Promise.resolve(function(){if(Gn)return Gn;if(ie.worker){var e=new Worker("/js".concat("/workers/fingerprint.js"));return new Promise((function(t){e.postMessage(null),e.onmessage=function(n){return n.data?t(Gn=n.data):e.postMessage(null)}})).finally((function(){e.terminate()}))}return null}())}function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach((function(t){qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Zn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jn(e){return Object.prototype.toString.call(e).replace(/^\[object\s+(.+?)]$/i,"$1").toLowerCase()}function Xn(e){return D(e)?e:N(e)?{onComplete:e}:{}}function er(e,t){var n,r,o=Xn(e);n=o.data,e=Yn(o,["data"]);var a=Xn(t);r=a.data,t=Yn(a,["data"]),Object.keys(t).forEach((function(n){var r=e[n],o=t[n];N(o)&&(e[n]=N(r)?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.call.apply(o,[this].concat(t)),r.call.apply(r,[this].concat(t))}:o)}));try{Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return Kn(Kn({},D(n)?n:{}),D(r)?r:{})}})}catch(e){}return e}function tr(e){return function(e){if(Array.isArray(e))return nr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rr=Object.freeze(j(!1));function or(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=(t=tr(t)).length;function o(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(a===r)return 0;try{var i=t[a],c=e[i],u=n[i];return"number"!=typeof c&&"number"!=typeof u&&(c=String(c).toLowerCase(),u=String(u).toLowerCase()),c>u?1:c<u?-1:o(e,n,++a)}catch(e){return-1}}return function(e,t){return o(e,t,0)}}function ar(e){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ar(e)}var ir=Function.prototype.call.bind(Object.prototype.hasOwnProperty);function cr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=M(Object.create(null),t.reduce((function(e,t){return(I(t)||"symbol"===ar(t))&&(e[t]=[]),e}),{}),!0);return Object.defineProperties(F.call(this,r,!1),{$subscribe:{value:function(e){if(ir(r,e)){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];n.forEach((function(t){N(t)&&(r[e]=H(r[e],t))}))}}},$unsubscribe:{value:function(e){if(ir(r,e)){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];n.forEach((function(t){r[e]=G(r[e],t)}))}}}})}function ur(e){if(!D(e)||!Object.isExtensible(e))throw new Error("Cannot setup reactive fields without appropriate context object.");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return cr.call.apply(cr,[e].concat(n))}var lr=Nn(yt.one.limit(5).timeout(6e3).init(Rn).retry(jn)),sr=Object.freeze(M(Object.create(null),{toString:function(){var e=this.masked_pan;return I(e)?e.replace(/^[*\d]+?(\d{4})$/,(function(e,t){return"**** ".concat(t)})):e}})),fr=Object.create(null),dr=[];function pr(e){return!0!==U(this,"preferences[blacklist_saved_cards]")&&(!N(e)||e())}function mr(){var e=this,t=ie.localStorage?localStorage.getItem("device_mobile_key"):null;return Promise.resolve(pr.call(this,(function(){return Object.isFrozen(fr)||(null!==t?lr(new URL("/v2/gpx/users/lookup","https://api.ravepay.co"),{body:JSON.stringify({modalauditid:U(e,"modalauditid"),public_key:U(e,"PBFPubKey"),device_key:t})}).then((function(e){if(Pn(e)&&e.ok)return e.json().then((function(e){var t=!1,n=!1,r=D(e)?e:{},o=r.data;return"success"===r.status&&"array"===Jn(o)&&(o.forEach((function(e){if(D(e)){if(!n){var t=e.device,r=e.mobile_number,o=e.email,a=M(Object.create(null),{id:t,email:o,phone:r});M(fr,{device:Object.freeze(a)}),n=!0}var i=e.card,c=e.card_hash,u=D(i)?i:{},l=u.card_brand,s=u.masked_pan,f=String(s).substring(0,6);/\d{6}/.test(f)&&!/^(506(?:099|1(?:[0-9][0-8]|[0-8]9))|6500(?:[0-2][2-7]|[01][89]|[12][01]))$/.test(f)&&dr.push(M(Object.create(sr),{brand:l,hash:c,masked_pan:s}))}})),Object.freeze(dr)&&V.call(fr,{cards:function(){return dr}},!1),!0!==t&&(t=!0)),!(!0!==t||!Object.freeze(fr))}))})).catch(rr):void 0)})))}function hr(e){var t=this,n=null;return Promise.resolve(pr.call(this,(function(){return(n=br(dr,e))&&lr(new URL("/v2/gpx/users/remove","https://api.ravepay.co"),{body:JSON.stringify({public_key:U(t,"PBFPubKey"),mobile_number:U(fr,"device.phone"),card_hash:U(n,"hash")})}).then((function(e){if(Pn(e)&&e.ok)return e.json().then((function(e){var t=D(e)?e:{},r=t.message;return"success"===t.status&&"USER-REMOVED"===r&&(dr=G(dr,n),!!Object.freeze(dr))}))})).catch(rr)})))}function br(e,t){if("array"!==Jn(e))return null;if(e.indexOf(t)<0){var n=D(t),r=n?t:{hash:t=String(t),masked_pan:t},o=r.hash,a=r.masked_pan;o=null!=o&&(o=RegExp("^".concat(o.replace(/\*/g,"\\*")),"i")),a=null!=a&&(a=RegExp("^".concat(a.replace(/\*/g,"\\*")),"i")),t=e.find((function(e){if(D(e)){if(String(e).replace(/\s/g,"")===String(t).replace(/\s/g,""))return!0;var r=e.hash,i=e.masked_pan,c=o||a?1:0;return n?(o&&(c&=o.test(r)),a&&(c&=a.test(i))):c&=!!o&&o.test(r)||!!a&&a.test(i),c}}))}return t||null}function yr(e,t){if(!D(e)||!Object.isExtensible(e))throw new Error("Cannot setup input fields without appropriate context object.");return setTimeout((function(){var n=e.DATA,r=U(n,"saved_cards"),o=pr.call(n),a=D(r)?r:{},i=a.device,c=a.cards,u=ur(Object.create(null),"CARDS"),l=M(Object.create(null),{enabled:o,fetch:function(){if(o){var e=!1,t=mr.bind(n);return function(){e||t().then((function(){var t=U(n,"saved_cards"),r=D(t)?t:{};i=r.device,c=r.cards,u.CARDS=c,e=!0}))}}return rr}(),remove:function(){if(o){var e=hr.bind(n);return function(t){U(c,"length")>0&&e(t).then((function(){var e=U(n,"saved_cards"),t=D(e)?e:{};c=t.cards,u.CARDS=c}))}}return rr}()});V.call(l,{cards:function(){return c},device:function(){return i}},!1),u.CARDS=c,Object.defineProperties(l,{$subscribe:{value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.$subscribe.apply(u,["CARDS"].concat(t))}},$unsubscribe:{value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.$unsubscribe.apply(u,["CARDS"].concat(t))}}}),M(e,{$savedCards:l}),N(t)&&t.call(e)}),0),e}var vr=yt.one.limit(5).timeout(6e3).retry(jn),gr=or("name","code"),Or=or("label","name"),_r=M(Object.create(null),{GH:Object.freeze([{name:"AIRTEL",identifier:"TIGO",label:"AIRTEL/TIGO"},{name:"MTN",identifier:"MTN",label:"MTN"},{name:"VODACOM",identifier:"VODAFONE",label:"VODAFONE"}].sort(Or)),KE:Object.freeze([{name:"AIRTEL",identifier:"AIRTEL",label:"AIRTEL"},{name:"MPESA",identifier:"SAFARICOM",label:"M-PESA"}].sort(Or)),TZ:Object.freeze([{name:"AIRTEL",identifier:"AIRTEL",label:"AIRTEL"},{name:"VODACOM",identifier:"VODAFONE",label:"VODACOM"},{name:"TIGOPESA",identifier:"TIGOPESA",label:"TIGO"},{name:"HALOPESA",identifier:"HALOPESA",label:"HALOPESA"}].sort(Or)),ZM:Object.freeze([{name:"AIRTEL",identifier:"AIRTEL",label:"AIRTEL"},{name:"MTN",identifier:"MTN",label:"MTN"},{name:"ZAMTEL",identifier:"ZAMTEL",label:"ZAMTEL"}].sort(Or))}),Er=Object.freeze([{name:"Burkina Faso",code:"BF",currency:"XOF"},{name:"Cameroon",code:"CM",currency:"XAF"},{name:"Côte d'Ivoire",code:"CI",currency:"XOF"},{name:"Senegal",code:"SN",currency:"XOF"}].sort(gr));function Cr(e){return Promise.resolve(Object.isFrozen(_r)||vr(new URL("/services/fetch/mobilemoneyfranco/networks","https://checkout.flutterwave.com")).then((function(e){if(Pn(e)&&e.ok)return e.json().then((function(e){var t=!1,n=D(e)?e:{},r=n.data;return"00"===n.response_code&&"array"===Jn(r)&&r.forEach((function(e){if(D(e)){var n=e.operators,r=e.country_code;if(/^[a-z]{2}$/i.test(r)&&"array"===Jn(n)&&(n=n.reduce((function(e,t){if(D(t)){var n=t.name,r=t.code;n&&r&&I(n)&&I(r)&&e.push({name:n,identifier:r,label:n})}return e}),[])).length>0)try{M(_r,(o={},a=r.toUpperCase(),i=Object.freeze(n.sort(Or)),a in o?Object.defineProperty(o,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[a]=i,o)),!0!==t&&(t=!0)}catch(e){}}var o,a,i})),!(!0!==t||!Object.freeze(_r))}))})).catch((function(){setTimeout((function(){["XAF","XOF"].includes(U(e,"DATA.currency"))&&e.dispatch(Ee.actions.updateErrorMessage("network.fetch.error"))}),100)})))}function wr(e,t){if("array"!==Jn(e))return null;if(e.indexOf(t)<0){var n=D(t)?t:/^[A-Z]{2}$/.test(t)?{code:t}:{name:String(t)},r=n.name,o=n.code;t=e.find((function(e){if(D(e)){var t=e.name,n=e.code,a=void 0!==r,i=void 0!==o,c=a||i?1:0;return a&&(c&=r===t),i&&(c&=o===n),c}}))}return t||null}function Tr(e,t){if("array"!==Jn(e))return null;if(e.indexOf(t)<0){var n=D(t),r=n?t:{name:t=String(t),identifier:t},o=r.name,a=r.identifier;t=e.find((function(e){if(D(e)){var t=e.name,r=e.identifier,i=void 0!==o,c=void 0!==a,u=i||c?1:0;return n?(i&&(u&=o===t),c&&(u&=a===r)):u&=i&&o===t||c&&a===r,u}}))}return t||null}var Ar=M(Object.create(null),null),Sr=Nn(yt.one.limit(5).timeout(6e3).retry(jn));function Rr(e,t){if("array"!==Jn(e))return null;if(e.indexOf(t)<0){var n=D(t)?t:/^\d{2,}$/.test(t)?{code:t}:{name:String(t)},r=n.name,o=n.code;t=e.find((function(e){if(D(e)){var t=e.name,n=e.code,a=void 0!==r,i=void 0!==o,c=a||i?1:0;return a&&(c&=r===t),i&&(c&=o===n),c}}))}return t||null}var jr,Ir,Pr,Nr,Dr=Object.freeze([{name:"QR",identifier:"QR",label:"QR"},{name:"Token",identifier:"TOKEN",label:"Token"},{name:"Direct Wallet Debit",identifier:"DIRECT_WALLET_DEBIT",label:"Direct Wallet Debit"}]);function Mr(e,t){if("array"!==Jn(e))return null;if(e.indexOf(t)<0){var n=D(t),r=n?t:{name:t=String(t),identifier:t},o=r.name,a=r.identifier;t=e.find((function(e){if(D(e)){var t=e.name,r=e.identifier,i=void 0!==o,c=void 0!==a,u=i||c?1:0;return n?(i&&(u&=o===t),c&&(u&=a===r)):u&=i&&o===t||c&&a===r,u}}))}return t||null}function kr(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return xr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $r="AED ALL AUD BGN BHD BND CAD CHF CLP CNY COP CRC CZK DKK DOP DZD EGP EUR GBP GHS GMD GTQ HKD HNL HUF IDR ILS INR IQD ISK JOD JPY KHR KRW KWD LBP LKR LYD MAD MOP MYR NGN NOK NZD OMR PAB PHP PYG QAR SAR SDD SEK SGD SLL SVC SYP THB TND TWD TZS UGX USD VND YER ZAR ZMK ZMW".split(" ");function Lr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(I(e)&&D(Ir)){var o=[].concat(e.split(/\s*\|\s*/).filter(Boolean));o.forEach((function(e){e in Ir&&n.forEach((function(t){Ir[e]=G(Ir[e],t)}))}))}}function Ur(e){if(Ir=D(e)?e:{},sn.hasErrors()){var t=Object.create(null);Object.keys(Ir).forEach((function(e){t[e]=Object.freeze([])})),Ir=t}!0===U(zr,"allowApplePay")||function(){try{return"ApplePaySession"in window&&!0===window.ApplePaySession.canMakePayments()}catch(e){return!1}}()||$r.forEach((function(e){e in Ir&&Lr(e,"applepay")})),Lr("NGN","credit","internetbanking","qr","payattitude"),Lr("USD | EUR","banktransfer"),Lr("KES","wechat"),Lr("USD","account"),jr=Object.keys(Ir).filter((function(e){return sn.get("currency")===(e=String(e).toUpperCase())||Lt.DCC.indexOf(Lt)>=0})),Pr=jr.reduce((function(e,t){if(!sn.hasErrors()){var n,r=kr(Ir[t]);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.indexOf(o)<0&&e.push(o)}}catch(e){r.e(e)}finally{r.f()}}return e}),[])}var Vr=[],Fr=[],Br=[];function Hr(e){var t="test"!==this.get("env");e="array"===Jn(e)?e:[];[{name:"Access Bank",code:"044",availability:7},{name:"Ecobank",code:"050",availability:2},{name:"First City Monument Bank (FCMB)",code:"214",availability:2},{name:"Fidelity Bank",code:"070",availability:6},{name:"First Bank of Nigeria",code:"011",availability:3},{name:"FSDH Merchant Bank Limited",code:"601",availability:0},{name:"GTBank",code:"058",availability:7},{name:"Heritage Bank",code:"030",availability:2},{name:"Keystone Bank",code:"082",availability:2},{name:"Lotus Bank",code:"303",availability:2},{name:"Polaris Bank",code:"076",availability:0},{name:"Premium Trust Bank",code:"105",availability:2},{name:"Providus Bank",code:"101",availability:!t&&1},{name:"Stanbic IBTC Bank",code:"221",availability:2|(!t&&1)},{name:"Sterling Bank",code:"232",availability:3},{name:"United Bank for Africa",code:"033",availability:3},{name:"Union Bank",code:"032",availability:2},{name:"Unity Bank",code:"215",availability:2|(!t&&1)},{name:"VFD Microfinance Bank",code:"090110",availability:2},{name:"Wema Bank",code:"035",availability:2},{name:"Zenith Bank",code:"057",availability:3}].sort(or("name","code")).forEach((function(t){var n=t.name,r=t.code,o=t.availability,a=Object.freeze({name:n,code:r});o&&(1&o&&e.indexOf(r)<0&&Vr.push(a),4&o&&Fr.push(a),2&o&&Br.push(a))})),Object.freeze(Vr),Object.freeze(Fr),Object.freeze(Br)}function Gr(e,t){if("array"!==Jn(e))return null;if(e.indexOf(t)<0){var n=D(t)?t:/^\d{2,}$/.test(t)?{code:t}:{name:String(t)},r=n.name,o=n.code;t=e.find((function(e){if(D(e)){var t=e.name,n=e.code,a=void 0!==r,i=void 0!==o,c=a||i?1:0;return a&&(c&=r===t),i&&(c&=o===n),c}}))}return t||null}var zr,Wr,Kr=Object.freeze([{id:1,sortname:"AF",name:"Afghanistan",phoneCode:93},{id:2,sortname:"AL",name:"Albania",phoneCode:355},{id:3,sortname:"DZ",name:"Algeria",phoneCode:213},{id:4,sortname:"AS",name:"American Samoa",phoneCode:1684},{id:5,sortname:"AD",name:"Andorra",phoneCode:376},{id:6,sortname:"AO",name:"Angola",phoneCode:244},{id:7,sortname:"AI",name:"Anguilla",phoneCode:1264},{id:8,sortname:"AQ",name:"Antarctica",phoneCode:0},{id:9,sortname:"AG",name:"Antigua And Barbuda",phoneCode:1268},{id:10,sortname:"AR",name:"Argentina",phoneCode:54},{id:11,sortname:"AM",name:"Armenia",phoneCode:374},{id:12,sortname:"AW",name:"Aruba",phoneCode:297},{id:13,sortname:"AU",name:"Australia",phoneCode:61},{id:14,sortname:"AT",name:"Austria",phoneCode:43},{id:15,sortname:"AZ",name:"Azerbaijan",phoneCode:994},{id:16,sortname:"BS",name:"Bahamas The",phoneCode:1242},{id:17,sortname:"BH",name:"Bahrain",phoneCode:973},{id:18,sortname:"BD",name:"Bangladesh",phoneCode:880},{id:19,sortname:"BB",name:"Barbados",phoneCode:1246},{id:20,sortname:"BY",name:"Belarus",phoneCode:375},{id:21,sortname:"BE",name:"Belgium",phoneCode:32},{id:22,sortname:"BZ",name:"Belize",phoneCode:501},{id:23,sortname:"BJ",name:"Benin",phoneCode:229},{id:24,sortname:"BM",name:"Bermuda",phoneCode:1441},{id:25,sortname:"BT",name:"Bhutan",phoneCode:975},{id:26,sortname:"BO",name:"Bolivia",phoneCode:591},{id:27,sortname:"BA",name:"Bosnia and Herzegovina",phoneCode:387},{id:28,sortname:"BW",name:"Botswana",phoneCode:267},{id:29,sortname:"BV",name:"Bouvet Island",phoneCode:0},{id:30,sortname:"BR",name:"Brazil",phoneCode:55},{id:31,sortname:"IO",name:"British Indian Ocean Territory",phoneCode:246},{id:32,sortname:"BN",name:"Brunei",phoneCode:673},{id:33,sortname:"BG",name:"Bulgaria",phoneCode:359},{id:34,sortname:"BF",name:"Burkina Faso",phoneCode:226},{id:35,sortname:"BI",name:"Burundi",phoneCode:257},{id:36,sortname:"KH",name:"Cambodia",phoneCode:855},{id:37,sortname:"CM",name:"Cameroon",phoneCode:237},{id:38,sortname:"CA",name:"Canada",phoneCode:1},{id:39,sortname:"CV",name:"Cape Verde",phoneCode:238},{id:40,sortname:"KY",name:"Cayman Islands",phoneCode:1345},{id:41,sortname:"CF",name:"Central African Republic",phoneCode:236},{id:42,sortname:"TD",name:"Chad",phoneCode:235},{id:43,sortname:"CL",name:"Chile",phoneCode:56},{id:44,sortname:"CN",name:"China",phoneCode:86},{id:45,sortname:"CX",name:"Christmas Island",phoneCode:61},{id:46,sortname:"CC",name:"Cocos (Keeling) Islands",phoneCode:672},{id:47,sortname:"CO",name:"Colombia",phoneCode:57},{id:48,sortname:"KM",name:"Comoros",phoneCode:269},{id:49,sortname:"CG",name:"Republic Of The Congo",phoneCode:242},{id:50,sortname:"CD",name:"Democratic Republic Of The Congo",phoneCode:242},{id:51,sortname:"CK",name:"Cook Islands",phoneCode:682},{id:52,sortname:"CR",name:"Costa Rica",phoneCode:506},{id:53,sortname:"CI",name:"Cote D''Ivoire (Ivory Coast)",phoneCode:225},{id:54,sortname:"HR",name:"Croatia (Hrvatska)",phoneCode:385},{id:55,sortname:"CU",name:"Cuba",phoneCode:53},{id:56,sortname:"CY",name:"Cyprus",phoneCode:357},{id:57,sortname:"CZ",name:"Czech Republic",phoneCode:420},{id:58,sortname:"DK",name:"Denmark",phoneCode:45},{id:59,sortname:"DJ",name:"Djibouti",phoneCode:253},{id:60,sortname:"DM",name:"Dominica",phoneCode:1767},{id:61,sortname:"DO",name:"Dominican Republic",phoneCode:1809},{id:62,sortname:"TP",name:"East Timor",phoneCode:670},{id:63,sortname:"EC",name:"Ecuador",phoneCode:593},{id:64,sortname:"EG",name:"Egypt",phoneCode:20},{id:65,sortname:"SV",name:"El Salvador",phoneCode:503},{id:66,sortname:"GQ",name:"Equatorial Guinea",phoneCode:240},{id:67,sortname:"ER",name:"Eritrea",phoneCode:291},{id:68,sortname:"EE",name:"Estonia",phoneCode:372},{id:69,sortname:"ET",name:"Ethiopia",phoneCode:251},{id:70,sortname:"XA",name:"External Territories of Australia",phoneCode:61},{id:71,sortname:"FK",name:"Falkland Islands",phoneCode:500},{id:72,sortname:"FO",name:"Faroe Islands",phoneCode:298},{id:73,sortname:"FJ",name:"Fiji Islands",phoneCode:679},{id:74,sortname:"FI",name:"Finland",phoneCode:358},{id:75,sortname:"FR",name:"France",phoneCode:33},{id:76,sortname:"GF",name:"French Guiana",phoneCode:594},{id:77,sortname:"PF",name:"French Polynesia",phoneCode:689},{id:78,sortname:"TF",name:"French Southern Territories",phoneCode:0},{id:79,sortname:"GA",name:"Gabon",phoneCode:241},{id:80,sortname:"GM",name:"Gambia The",phoneCode:220},{id:81,sortname:"GE",name:"Georgia",phoneCode:995},{id:82,sortname:"DE",name:"Germany",phoneCode:49},{id:83,sortname:"GH",name:"Ghana",phoneCode:233},{id:84,sortname:"GI",name:"Gibraltar",phoneCode:350},{id:85,sortname:"GR",name:"Greece",phoneCode:30},{id:86,sortname:"GL",name:"Greenland",phoneCode:299},{id:87,sortname:"GD",name:"Grenada",phoneCode:1473},{id:88,sortname:"GP",name:"Guadeloupe",phoneCode:590},{id:89,sortname:"GU",name:"Guam",phoneCode:1671},{id:90,sortname:"GT",name:"Guatemala",phoneCode:502},{id:91,sortname:"XU",name:"Guernsey and Alderney",phoneCode:44},{id:92,sortname:"GN",name:"Guinea",phoneCode:224},{id:93,sortname:"GW",name:"Guinea-Bissau",phoneCode:245},{id:94,sortname:"GY",name:"Guyana",phoneCode:592},{id:95,sortname:"HT",name:"Haiti",phoneCode:509},{id:96,sortname:"HM",name:"Heard and McDonald Islands",phoneCode:0},{id:97,sortname:"HN",name:"Honduras",phoneCode:504},{id:98,sortname:"HK",name:"Hong Kong S.A.R.",phoneCode:852},{id:99,sortname:"HU",name:"Hungary",phoneCode:36},{id:100,sortname:"IS",name:"Iceland",phoneCode:354},{id:101,sortname:"IN",name:"India",phoneCode:91},{id:102,sortname:"ID",name:"Indonesia",phoneCode:62},{id:103,sortname:"IR",name:"Iran",phoneCode:98},{id:104,sortname:"IQ",name:"Iraq",phoneCode:964},{id:105,sortname:"IE",name:"Ireland",phoneCode:353},{id:106,sortname:"IL",name:"Israel",phoneCode:972},{id:107,sortname:"IT",name:"Italy",phoneCode:39},{id:108,sortname:"JM",name:"Jamaica",phoneCode:1876},{id:109,sortname:"JP",name:"Japan",phoneCode:81},{id:110,sortname:"XJ",name:"Jersey",phoneCode:44},{id:111,sortname:"JO",name:"Jordan",phoneCode:962},{id:112,sortname:"KZ",name:"Kazakhstan",phoneCode:7},{id:113,sortname:"KE",name:"Kenya",phoneCode:254},{id:114,sortname:"KI",name:"Kiribati",phoneCode:686},{id:115,sortname:"KP",name:"Korea North",phoneCode:850},{id:116,sortname:"KR",name:"Korea South",phoneCode:82},{id:117,sortname:"KW",name:"Kuwait",phoneCode:965},{id:118,sortname:"KG",name:"Kyrgyzstan",phoneCode:996},{id:119,sortname:"LA",name:"Laos",phoneCode:856},{id:120,sortname:"LV",name:"Latvia",phoneCode:371},{id:121,sortname:"LB",name:"Lebanon",phoneCode:961},{id:122,sortname:"LS",name:"Lesotho",phoneCode:266},{id:123,sortname:"LR",name:"Liberia",phoneCode:231},{id:124,sortname:"LY",name:"Libya",phoneCode:218},{id:125,sortname:"LI",name:"Liechtenstein",phoneCode:423},{id:126,sortname:"LT",name:"Lithuania",phoneCode:370},{id:127,sortname:"LU",name:"Luxembourg",phoneCode:352},{id:128,sortname:"MO",name:"Macau S.A.R.",phoneCode:853},{id:129,sortname:"MK",name:"Macedonia",phoneCode:389},{id:130,sortname:"MG",name:"Madagascar",phoneCode:261},{id:131,sortname:"MW",name:"Malawi",phoneCode:265},{id:132,sortname:"MY",name:"Malaysia",phoneCode:60},{id:133,sortname:"MV",name:"Maldives",phoneCode:960},{id:134,sortname:"ML",name:"Mali",phoneCode:223},{id:135,sortname:"MT",name:"Malta",phoneCode:356},{id:136,sortname:"XM",name:"Man (Isle of)",phoneCode:44},{id:137,sortname:"MH",name:"Marshall Islands",phoneCode:692},{id:138,sortname:"MQ",name:"Martinique",phoneCode:596},{id:139,sortname:"MR",name:"Mauritania",phoneCode:222},{id:140,sortname:"MU",name:"Mauritius",phoneCode:230},{id:141,sortname:"YT",name:"Mayotte",phoneCode:269},{id:142,sortname:"MX",name:"Mexico",phoneCode:52},{id:143,sortname:"FM",name:"Micronesia",phoneCode:691},{id:144,sortname:"MD",name:"Moldova",phoneCode:373},{id:145,sortname:"MC",name:"Monaco",phoneCode:377},{id:146,sortname:"MN",name:"Mongolia",phoneCode:976},{id:147,sortname:"MS",name:"Montserrat",phoneCode:1664},{id:148,sortname:"MA",name:"Morocco",phoneCode:212},{id:149,sortname:"MZ",name:"Mozambique",phoneCode:258},{id:150,sortname:"MM",name:"Myanmar",phoneCode:95},{id:151,sortname:"NA",name:"Namibia",phoneCode:264},{id:152,sortname:"NR",name:"Nauru",phoneCode:674},{id:153,sortname:"NP",name:"Nepal",phoneCode:977},{id:154,sortname:"AN",name:"Netherlands Antilles",phoneCode:599},{id:155,sortname:"NL",name:"Netherlands The",phoneCode:31},{id:156,sortname:"NC",name:"New Caledonia",phoneCode:687},{id:157,sortname:"NZ",name:"New Zealand",phoneCode:64},{id:158,sortname:"NI",name:"Nicaragua",phoneCode:505},{id:159,sortname:"NE",name:"Niger",phoneCode:227},{id:160,sortname:"NG",name:"Nigeria",phoneCode:234},{id:161,sortname:"NU",name:"Niue",phoneCode:683},{id:162,sortname:"NF",name:"Norfolk Island",phoneCode:672},{id:163,sortname:"MP",name:"Northern Mariana Islands",phoneCode:1670},{id:164,sortname:"NO",name:"Norway",phoneCode:47},{id:165,sortname:"OM",name:"Oman",phoneCode:968},{id:166,sortname:"PK",name:"Pakistan",phoneCode:92},{id:167,sortname:"PW",name:"Palau",phoneCode:680},{id:168,sortname:"PS",name:"Palestinian Territory Occupied",phoneCode:970},{id:169,sortname:"PA",name:"Panama",phoneCode:507},{id:170,sortname:"PG",name:"Papua new Guinea",phoneCode:675},{id:171,sortname:"PY",name:"Paraguay",phoneCode:595},{id:172,sortname:"PE",name:"Peru",phoneCode:51},{id:173,sortname:"PH",name:"Philippines",phoneCode:63},{id:174,sortname:"PN",name:"Pitcairn Island",phoneCode:0},{id:175,sortname:"PL",name:"Poland",phoneCode:48},{id:176,sortname:"PT",name:"Portugal",phoneCode:351},{id:177,sortname:"PR",name:"Puerto Rico",phoneCode:1787},{id:178,sortname:"QA",name:"Qatar",phoneCode:974},{id:179,sortname:"RE",name:"Reunion",phoneCode:262},{id:180,sortname:"RO",name:"Romania",phoneCode:40},{id:181,sortname:"RU",name:"Russia",phoneCode:70},{id:182,sortname:"RW",name:"Rwanda",phoneCode:250},{id:183,sortname:"SH",name:"Saint Helena",phoneCode:290},{id:184,sortname:"KN",name:"Saint Kitts And Nevis",phoneCode:1869},{id:185,sortname:"LC",name:"Saint Lucia",phoneCode:1758},{id:186,sortname:"PM",name:"Saint Pierre and Miquelon",phoneCode:508},{id:187,sortname:"VC",name:"Saint Vincent And The Grenadines",phoneCode:1784},{id:188,sortname:"WS",name:"Samoa",phoneCode:684},{id:189,sortname:"SM",name:"San Marino",phoneCode:378},{id:190,sortname:"ST",name:"Sao Tome and Principe",phoneCode:239},{id:191,sortname:"SA",name:"Saudi Arabia",phoneCode:966},{id:192,sortname:"SN",name:"Senegal",phoneCode:221},{id:193,sortname:"RS",name:"Serbia",phoneCode:381},{id:194,sortname:"SC",name:"Seychelles",phoneCode:248},{id:195,sortname:"SL",name:"Sierra Leone",phoneCode:232},{id:196,sortname:"SG",name:"Singapore",phoneCode:65},{id:197,sortname:"SK",name:"Slovakia",phoneCode:421},{id:198,sortname:"SI",name:"Slovenia",phoneCode:386},{id:199,sortname:"XG",name:"Smaller Territories of the UK",phoneCode:44},{id:200,sortname:"SB",name:"Solomon Islands",phoneCode:677},{id:201,sortname:"SO",name:"Somalia",phoneCode:252},{id:202,sortname:"ZA",name:"South Africa",phoneCode:27},{id:203,sortname:"GS",name:"South Georgia",phoneCode:0},{id:204,sortname:"SS",name:"South Sudan",phoneCode:211},{id:205,sortname:"ES",name:"Spain",phoneCode:34},{id:206,sortname:"LK",name:"Sri Lanka",phoneCode:94},{id:207,sortname:"SD",name:"Sudan",phoneCode:249},{id:208,sortname:"SR",name:"Suriname",phoneCode:597},{id:209,sortname:"SJ",name:"Svalbard And Jan Mayen Islands",phoneCode:47},{id:210,sortname:"SZ",name:"Swaziland",phoneCode:268},{id:211,sortname:"SE",name:"Sweden",phoneCode:46},{id:212,sortname:"CH",name:"Switzerland",phoneCode:41},{id:213,sortname:"SY",name:"Syria",phoneCode:963},{id:214,sortname:"TW",name:"Taiwan",phoneCode:886},{id:215,sortname:"TJ",name:"Tajikistan",phoneCode:992},{id:216,sortname:"TZ",name:"Tanzania",phoneCode:255},{id:217,sortname:"TH",name:"Thailand",phoneCode:66},{id:218,sortname:"TG",name:"Togo",phoneCode:228},{id:219,sortname:"TK",name:"Tokelau",phoneCode:690},{id:220,sortname:"TO",name:"Tonga",phoneCode:676},{id:221,sortname:"TT",name:"Trinidad And Tobago",phoneCode:1868},{id:222,sortname:"TN",name:"Tunisia",phoneCode:216},{id:223,sortname:"TR",name:"Turkey",phoneCode:90},{id:224,sortname:"TM",name:"Turkmenistan",phoneCode:7370},{id:225,sortname:"TC",name:"Turks And Caicos Islands",phoneCode:1649},{id:226,sortname:"TV",name:"Tuvalu",phoneCode:688},{id:227,sortname:"UG",name:"Uganda",phoneCode:256},{id:228,sortname:"UA",name:"Ukraine",phoneCode:380},{id:229,sortname:"AE",name:"United Arab Emirates",phoneCode:971},{id:230,sortname:"GB",name:"United Kingdom",phoneCode:44},{id:231,sortname:"US",name:"United States",phoneCode:1},{id:232,sortname:"UM",name:"United States Minor Outlying Islands",phoneCode:1},{id:233,sortname:"UY",name:"Uruguay",phoneCode:598},{id:234,sortname:"UZ",name:"Uzbekistan",phoneCode:998},{id:235,sortname:"VU",name:"Vanuatu",phoneCode:678},{id:236,sortname:"VA",name:"Vatican City State (Holy See)",phoneCode:39},{id:237,sortname:"VE",name:"Venezuela",phoneCode:58},{id:238,sortname:"VN",name:"Vietnam",phoneCode:84},{id:239,sortname:"VG",name:"Virgin Islands (British)",phoneCode:1284},{id:240,sortname:"VI",name:"Virgin Islands (US)",phoneCode:1340},{id:241,sortname:"WF",name:"Wallis And Futuna Islands",phoneCode:681},{id:242,sortname:"EH",name:"Western Sahara",phoneCode:212},{id:243,sortname:"YE",name:"Yemen",phoneCode:967},{id:244,sortname:"YU",name:"Yugoslavia",phoneCode:38},{id:245,sortname:"ZM",name:"Zambia",phoneCode:260},{id:246,sortname:"ZW",name:"Zimbabwe",phoneCode:26}]);function qr(e,t){if("array"!==Jn(e))return null;if(e.indexOf(t)<0){var n=D(t),r=n?t:{name:t=String(t),identifier:t},o=r.name,a=r.sortname;t=e.find((function(e){if(D(e)){var t=e.name,r=e.sortname,i=void 0!==o,c=void 0!==a,u=i||c?1:0;return n?(i&&(u&=o===t),c&&(u&=a===r)):u&=i&&o===t||c&&a===r,u}}))}return t||null}function Yr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||eo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(n),!0).forEach((function(t){Jr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xr(e){return function(e){if(Array.isArray(e))return to(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||eo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eo(e,t){if(e){if("string"==typeof e)return to(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?to(e,t):void 0}}function to(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function no(e){return no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},no(e)}function ro(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var oo="__CheckoutInitAddress";function ao(e){return zr||(zr=Object.create(null)),M(zr,dn("amount","campaign_id","country","currency","default_account","customer_email::email","mobilemoney_network","payment_page","payment_plan","PBFPubKey","customer_phone::phone","recurring_stop","redirect_url","settlement_token","txref")),ho.call(zr),new Promise((function(t){var n=[];try{n.push({metaname:oo,metavalue:new URL(decodeURIComponent(zr.init_url)).href})}catch(e){n.push({metaname:oo,metavalue:"N/A"})}if(Object.defineProperty(zr,"meta",{configurable:!0,value:n}),self.parent!==self)return self.parent.postMessage({name:"readytorecieve"},"*"),void addEventListener("message",(function r(o){var a=o.data;if(o.source===self.parent){var i=D(a)?a:{},c=i.name,u=ro(i,["name"]);if("updategotten"===c){removeEventListener("message",r);var l=u.applepay,s=u.billing,f=u.meta,d=u.subaccounts;u.theme;var p=u.v3;try{f.forEach((function(e){if(D(e)){var t=e.metaname,r=e.metavalue;if(r&&D(r)){if(r.metaname&&r.metaname!==oo&&r.metavalue&&([!0,!1].includes(r.isRequired)&&delete r.isRequired,I(r.metaname)&&{string:!0,number:!0,boolean:!0}[no(r.metavalue)])){for(var o=0,a=n.length;o<a;o++)if(r.metaname===n[o].metaname)return;n.push(r)}}else if(I(t)&&t){if(!r)return;for(var i=0,c=n.length;i<c;i++)if(t===n[i].metaname)return;n.push(e)}}}))}catch(e){}if(D(s)){try{M(zr,"billing_metadata",{value:Object.freeze(["billingaddress","billingcity","billingstate","billingzip","billingcountry","shippingname","shippingaddress","shippingcity","shippingstate","shippingzip","shippingcountry"].reduce((function(e,t){return e[t]=s[t],e}),Object.create(null)))})}catch(e){}}M(zr,{subaccounts:d,meta:n.filter(Boolean),use_v3:!0===Boolean(+p),allowApplePay:!0===l}),t(e)}}}));t(e)}))}function io(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return[].concat(t).filter(Boolean)[0]||null}function co(){var e,t=sn.get("customer_firstname"),n=sn.get("customer_lastname");e=(I(e=sn.get("customer_fullname"))?e:String()).split(/\b[^a-z-]+?\b/i).map((function(e){return e.trim()||null}));var r=e=Array.from(new Array(Math.max(2,e.length)),(function(t,n){return null==e[n]?void 0:e[n]})),o=r.length,a=r[0],i=void 0===a?t:a,c=r[o-1],u=void 0===c?n:c;M(this,{firstname:i,lastname:u,names:[i].concat(Xr(e.slice(1,-1)),[u])})}function uo(e){var t=e.get("ip"),n=D(t)?t:I(t)?{ipv4:t}:{},r=n.ipv4,o=n.country;r=$(It,r),o=$(/^[a-z]{2}$/i,o),M(this,{ip:r,ip_country:r&&o&&o.toUpperCase()})}function lo(e){var t=[].concat(sn.get("exclude_banks"),un(cn.exclude_banks,e.get("exclude_banks"))).filter(Boolean);Hr.call(e,t),M(this,{banks:Object.freeze(M(Object.create(null),{account:Vr,internet:Fr,ussd:Br}))})}function so(){var e=sn.get("custom_pwbt_expiry"),t=sn.raw;e||(e=t.bank_transfer_expiry),this.expires=io(e)}function fo(){this.session_duration=io(sn.get("custom_session_duration"))}function po(e){if(e.get("campaignMeta")&&e.get("discount")&&e.get("discount").apply_discount){var t=e.get("campaignMeta");M(this,{campaign:Qr(Qr({},e.get("discount").campaign),t),new_amount:e.get("discount").amount_to_pay,discount:e.get("discount").discount_to_apply,discounted_value:e.get("discount").discounted_value,discount_type:e.get("discount").discount_type})}}function mo(e){var t,n=this;this.merchant_name=io(sn.get("custom_title"),e.get("merchant.name"),"Flutterwave Merchant"),this.banktransfer_beneficiary_name=io(sn.get("custom_narration"),this.merchant_name),this.merchant_logo=io(sn.get("custom_logo"),e.get("merchant.logo"),new URL("/assets/img/rave-logo.png","https://checkout.flutterwave.com").href),M(t=D(t=e.get("preferences"))?t:{},{merchant_bears_fees:L(e.get("initial.merchant_bearing"),!1),use_dynamic_currency_conversion:L(e.get("enabled_for_dcc"),!1),use_old_saved_card_flow:L(e.get("use_old_saved_card_flow"),!1),use_secureauth_for_card:L(null,!1)}),D(t)&&!Fe(t)&&Object.keys(t).forEach((function(e){e in n.preferences&&(n.preferences[e]=L(t[e],n.preferences[e]))}))}function ho(){var e=null;if(self===self.top)e=self.location.href;else try{var t=window.opener||window.parent;e=t&&t!==window.self?null:(self.top||self).location.href}catch(e){}M(this,{init_url:io(e,sn.get("init_url"))})}function bo(e){var t=Yr(String(e.get("powered_by_title")||e.get("poweredbytitle")).match(/^(\d+)(?::([^:]*))?$/)||[],3),n=t[1],r=t[2];M(zr,{mpesaPaybill:n,canSendSTKPushNotification:"NOSTK"!==r,description:io(sn.get("custom_description")),integrity_hash:io(e.get("integrity_hash"),sn.get("integrity_hash")),narration:io(sn.get("custom_narration")),charge_type:e.get("charge_type"),cycle:e.get("cycle"),include_discount_amount:L(sn.get("include_discount_amount"),!1),modalauditid:e.get("id"),forter_site_id:e.get("forter_site_id"),use_authm_control:L(e.get("authm_control"),!0),preferences:M(Object.create(null),{blacklist_saved_cards:!1,can_switch_to_paymob:!1,ignore_mpesa_fallback:!1,merchant_bears_fees:!1,prefers_reduced_tracking:!1,prefers_hidden_email:!1,prefers_language_translation:!1,should_redirect_on_fail:!1,use_dynamic_currency_conversion:!1,use_old_saved_card_flow:!1,use_secureauth_for_card:!1},!0)}),k.call(zr,"currencies",(function(){return jr})),k.call(zr,"payment_options",(function(){return Pr})),k.call(zr,"currency_options",(function(){return Ir})),k.call(zr,"device_fingerprint",(function(){return Gn})),k.call(zr,"initial_currency",(function(){return Nr.currency||sn.get("currency")})),k.call(zr,"initial_method",(function(){return Nr.option||(Ir[zr.initial_currency]||[])[0]||null})),M(zr,{mobilemoneyfranco_countries:Er}),k.call(zr,"mobilemoney_networks",(function(){return _r})),k.call(zr,"saved_cards",(function(){return fr})),k.call(zr,"enaira_payment_options",(function(){return Dr})),k.call(zr,"iso_countries_options",(function(){return Kr})),k.call(zr,"sa_banks",(function(){return Ar})),co.call(zr),uo.call(zr,e),lo.call(zr,e),so.call(zr),fo.call(zr),po.call(zr,e),mo.call(zr,e),function(e){if(D(e)&&!Fe(e)){var t=e.get("initial.payment_option"),n=$(/^[a-z]{2}$/i,sn.get("country"))||"NG",r=$(/^[a-z]{3}$/i,e.get("initial.currency"));n=n&&n.toUpperCase(),r=r&&r.toUpperCase(),Ur.call(this,e.get("payment_options")),t=(r=jr.indexOf(r)>=0?r:null)&&(Pr.indexOf(t)>=0?t:null),Nr||(Nr=Object.create(null)),M(Nr,{country:n,currency:r,option:t}),Object.freeze(jr),Object.freeze(Ir),Object.freeze(Pr),Object.freeze(Nr)}}(e),Wr=Object.freeze(zr),ko.initializedModal.call(zr)}function yo(){return e=function(){return zr},(Wr?Promise.resolve():Hn().then(ao).then(bo)).then(x(e));var e}function vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vo(Object(n),!0).forEach((function(t){Oo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _o,Eo=yt.many.init(Rn),Co=new URL("https://flw-events-ge.myflutterwave.com/event/create");function wo(e){return function(e){return Promise.resolve(_o||yo().then((function(e){var t=e.modalauditid;return _o=M(Object.create(null),{actor:sn.get("customer_email"),context:/Mobi/.test(navigator.userAgent)?"mobile":"web",label:t,modalauditid:t,token:"flw_event_wt_e5fe4da063edacb29ec19f"})}))).then((function(t){return JSON.stringify(go(go(go({},D(e)?e:{}),t),{},{date:Date.now()}))}))}(e).then((function(e){var t=0,n=0;return function r(){return t<10&&setTimeout((function(){return Eo(Co,{body:e}).then((function(e){return Pn(e)&&e.ok||Promise.reject()})).catch(r)}),1e3*(n+=t++))}()}))}function To(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var So=yt.many.init(Rn),Ro="https://api.ravepay.co".concat("/v3/checkout/non-translated-messages");function jo(e){var t=0,n=0,r=sn.get("PBFPubKey"),o=JSON.stringify(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?To(Object(n),!0).forEach((function(t){Ao(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):To(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({channel:"Checkout",public_key:r},e));return function e(){return t<5&&setTimeout((function(){return So(Ro,{body:o}).then((function(e){return Pn(e)?e.json().then((function(e){"error"===e.status&&"Message has already been logged"===e.message&&(t=5)})):Promise.reject()})).catch(e)}),1e3*(n+=t++))}()}var Io=!0;function Po(e,t,n,r){return wo({action:e,object:t,comment:n,data:r})}function No(e){return I(e)?e:String()}function Do(e){return No(e).toLowerCase()}function Mo(e){return No(e).replace(/(.*?)(\b[A-Z]+\b)(.*?)/g,(function(e,t,n,r){return"".concat(Do(t)).concat(n).concat(Do(r))}))}var ko=M(Object.create(null),{closeModal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!0===e?"Closed modal after successful payment":"Closed modal";return Po("closed","modal",t)},initializedModal:function(){try{var e=D(this)?this:{},t=e.init_url,n=e.ip,r=e.txref,o=e.currency,a={ref:r,amount:e.amount,currency:o,ip:n};return Po("loaded","modal","Initiated Checkout".concat(t?" from ".concat(decodeURIComponent(t)):""),a)}catch(e){return Po("loaded","modal","Initiated Checkout")}},transactionSuccessful:function(){return Po("completion","TRANSACTION","Transaction Completed!")},transactionFailed:function(){return Po("failure","TRANSACTION","Transaction Failed!")},transactionTimeout:function(){return Po("timeout","TRANSACTION","Transaction Session Timeout!")},paypalPendingMerchantAction:function(){return Po("charge","PAYPAL","Charge processing completed: Pending merchant action.")},redirectingToMerchant:function(e){return Po("redirect","REDIRECT_URL","Redirecting to merchant",e)},selectedOption:function(e,t){return Po("selected",e,"Selected ".concat(t))},startedInput:function(e){return Po("typing",e,"Entering ".concat(Mo(e)))},stoppedInput:function(e){return Po("typing",e,"Stopped entering ".concat(Mo(e)))},switchedMethod:function(e){return!0===Io?(Io=!1,Po("launched","modal","Launched ".concat(e," as initial payment option"))):Po("switched","modal","Switched to ".concat(e," option"))},eNairaOptionSelected:function(e){return Po("eNaira option selected","modal","Selected eNaira ".concat(e))},startEnairaTokenValidation:function(){return Po("eNaira token validation","modal","Starting eNaira token validation")},customerOpenedRedirectURL:function(e,t){return Po("".concat(e," redirect URL opened"),"modal","Customer opened ".concat(t," verification page"))},customerAttemptingCharge:function(e){return Po("".concat(e," charge"),"modal","Attempting ".concat(e," charge"))},customerReturnedFromVerificationPage:function(){return Po("verification page","modal","Customer returned returned from verification page")},chargeRequestStatus:function(e){return Po("charge request","modal","Charge request ".concat(e))},changedLanguage:function(e){return Po("locale change","modal","Changed language to ".concat(e))},logUntranslatedError:function(e){return jo(e)}}),xo=function(e){return["CFA","XAF","XOF"].includes(e)?"fr":"en"};function $o(){var e=Object.create(null),t=this.data,n=this.dispatch,r=U(t,"currency"),o=xo(r);function a(e){return function(t){t({type:_,payload:{locale:e||o}}),ko.changedLanguage(e)}}return M(e,{NAME:"locale",Reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U(t,"locale")||o,n=arguments.length>1?arguments[1]:void 0,r=Pe(n.payload)?n.payload:{};if(n.type===_){var a=r.locale;return a||e}return e},actions:M(Object.create(null),{updateLocale:a}),exposedActions:M(Object.create(null),{CurrentLocale:te({switch:a},n)})}),$o=e}function Lo(){Object.defineProperty(this,"list",{value:[]})}Object.defineProperties(Lo.prototype,{empty:{get:function(){return this.list.length<=0}},peek:{get:function(){if(!this.empty)return this.list[this.list.length-1]}},pop:{value:function(){return this.list.pop()}},push:{value:function(e){return this.list.push(e),this}}});var Uo=function(){return Math.random().toString(36).substring(7).split("").join(".")},Vo={INIT:"@@redux/INIT".concat(Uo()),REPLACE:"@@redux/REPLACE".concat(Uo()),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION".concat(Uo())}};function Fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fo(Object(n),!0).forEach((function(t){Ho(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ho(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Go(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wo=Function.prototype.call.bind(Object.prototype.hasOwnProperty);function Ko(e){var t,n,r,o,a=!1,i=this.$inputs,c=this.dispatch,u=Object.create(null),l=Object.create(null),s=new Lo,f=M(Object.create(null),[].concat(e).reduce((function(e,t){var n=Go(String(t).split("::"),2),r=n[0],o=n[1],a=void 0===o?r:o;if(Wo(i,r)){if(e[a=a.trim()||r]=i[r],Wo(l,a))throw new Error("Duplicate local view input key(`".concat(a,"`) not allowed."));M(l,Ho({},a,r)),i.$subscribe(r,m)}return e}),{}),!0),d=Object.keys(f);function p(){var e=d.reduce((function(e,t){var n=l[t];return i.$available(n)&&(e=Bo(Bo({},e),{},Ho({},t,f[t]))),e}),{});n=M(Object.create(null),Bo({},e),!0),r=Object.keys(n),o=r.length}function m(){t&&clearTimeout(t),t=setTimeout(h,0),!a&&(a=!0)}function h(){c({type:C}),t&&clearTimeout(t),t=void 0}function b(){return a&&(d.forEach((function(e){var t=l[e];f[e]!==i[t]&&(f[e]=i[t])})),p(),a=!1),n}return p(),M(u,{inputs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:case Vo.REPLACE:return b();default:return e}}}),Object.defineProperties(u,{$focusin:{value:function(e){var t=l[e];s.empty&&i.$available(t)&&(s.push(t),"PLAIN"===n[e].type&&ko.startedInput(e))}},$focusout:{value:function(e){var t=l[e];if(!s.empty&&i.$available(t)&&s.peek===t){s.pop(t);var r=n[e];"PLAIN"===r.type?ko.stoppedInput(e):"SELECTION"===r.type&&ko.selectedOption(e,r.value)}}},$loggingCompleted:{get:function(){return s.empty}},$update:{value:function(e){e=D(e)?e:1===o?Ho({},r[0],e):null,D(e)&&r.forEach((function(t){if(Wo(e,t))try{var n=l[t];i.$update(n,e[t])}catch(e){}}))}},$unsubscribe:{value:function(){d.forEach((function(e){var t=l[e];i.$unsubscribe(t,m)}))}}})}function qo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yo=Function.prototype.call.bind(Object.prototype.hasOwnProperty);function Zo(e){var t=this,n=[],r=D(e)?Object.keys(e).reduce((function(r,o,a){if(I(o)){var i=e[o],c=(i=D(i)?i:I(i)?{prop:i}:{}).prop;if(!(c=c.trim())||!Yo(t,c))throw new Error("Reactive property".concat(c?"(`".concat(c,"`)"):""," not found for key(`").concat(o,"`)."));var u=(Yo(i,"initialValue")?function(){return i.initialValue}:function(){return t[c]})();null==u&&(u=null);var l="".concat(o,"_$").concat(a);if(N(t.$subscribe)&&N(t.$unsubscribe)){var s=function(e,n){e!==n&&t.dispatch({type:C,payload:qo({},l,e)})};t.$subscribe(c,s),n.push((function(){return t.$unsubscribe(c,s)}))}r[o]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0,n=D(t.payload)?t.payload:{};if(t.type===C){if(Yo(n,l)){var r=n[l];return r!==e?null==r?null:r:e}return e}return e}}return r}),Object.create(null)):Object.create(null);return Object.defineProperties(r,{$unsubscribe:{value:function(){n.forEach((function(e){return N(e)&&e()}))}}})}function Qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qo(Object(n),!0).forEach((function(t){Xo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ea(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ta(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ta(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function na(e){var t=e=D(e)?e:{},n=t.NAME,r=t.constants,o=t.inputs,a=t.mutables,i=x(e.back),c=x(e.code),u=x(e.next),l=x(e.switch);function s(){var t=S,f=S,d=S,p=S,m=j(!0),h=this,b=Object.create(null);function y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){return b.ACTIVE&&m()&&i.call.apply(i,[h].concat(t))}}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){return b.ACTIVE&&m()&&c.call.apply(c,[h].concat(t))}}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){return b.ACTIVE&&m()&&u.call.apply(u,[h].concat(t))}}function O(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(){var e;return b.ACTIVE&&(e=t).call.apply(e,[h].concat(n))}}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){var e;return b.ACTIVE&&(e=f).call.apply(e,[h].concat(t))}}function E(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){var e;return b.ACTIVE&&(e=d).call.apply(e,[h].concat(t))}}function C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){return b.ACTIVE&&m()&&l.call.apply(l,[h].concat(t))}}return M(b,{Reducer:null},!0),N(e.mount)&&M(b,{$mount:e.mount.bind(h)}),s=M(b,{NAME:n,setup:function(){var n=this.$inputs,i=this.dispatch,c={},u=D(n)?Object.keys(n):[];u=[].concat(o).filter((function(e){if(I(e)){var t=ea(e.split("::"),1)[0];return u.indexOf(t)>=0}}));var l=we(Jo({$actions:M(Object.create(null),te({back:y,code:v,focusin:_,focusout:E,next:g,update:O,switch:C},i))},D(r)?r:{})),s=Zo.call(this,a);if(u.length){var m=Ko.call(this,u);c=Jo(Jo({},c),m),t=x(m.$update),f=x(m.$focusin),d=x(m.$focusout),p=x(m.$unsubscribe)}b.Reducer=M(X(Jo(Jo(Jo({},l),s),c)),{teardown:function(){s.$unsubscribe(),p(),b.Reducer=null}}),N(e.afterSetup)&&e.afterSetup.call(h)}.bind(h)})}return s}function ra(){var e=D(this)?this:Object.create(null);return na({NAME:"CONFIRMING_VIEW"}).call(e)}var oa,aa,ia,ca,ua,la,sa,fa,da=(oa=/[^\x00-\x7F]/,function(e){return oa.test(e)?encodeURIComponent(e):e});function pa(e){return cryptico.encrypt("string"==typeof e?e:function(e){return JSON.stringify(e,(function(e,t){if("meta"===e)try{t=t.map((function(e){return{metaname:da(e.metaname),metavalue:da(e.metavalue)}}))}catch(e){}else if("QUERY_STRING_DATA"===e)try{t=Object.keys(t).reduce((function(e,n){return e[n]=da(t[n]),e}),{})}catch(e){}return t}))}(e),"baA/RgjURU3I0uqH3iRos3NbE8fT+lP8SDXKymsnfdPrMQAEoMBuXtoaQiJ1i5tuBG9EgSEOH1LAZEaAsvwClw==").cipher}function ma(e){return cryptico.publicKeyID("string"==typeof e?e:JSON.stringify(e))}function ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ba(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ya(e){return new Promise((function(t,n){Promise.resolve(aa).then((function(r){!0===r&&N(e)&&e(t,n)})).finally(t)}))}var va,ga=M(Object.create(null),{init:function(){(P(aa)?Promise.resolve(aa):yo().then((function(e){return la=(U(e,"email")||"").trim().toLowerCase().replace(/^([^@]+)(?=@|$)/,(function(e,t){return ma(t)})),sa=ma(U(e,"firstname")||""),fa=ma(U(e,"lastname")||""),ua=U(e,"merchant_name"),ca=U(e,"txref"),aa=!U(e,"preferences[prefers_reduced_tracking]")}))).then((function(e){var t,n,r,o,a,i;!0===e&&(!0!==ia&&(t=document,(n=window.mixpanel||[]).__SV||(window.mixpanel=n,n._i=[],n.init=function(e,t,r){function o(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var c=n;for(void 0!==r?c=n[r]=[]:r="mixpanel",c.people=c.people||[],c.toString=function(e){var t="mixpanel";return"mixpanel"!==r&&(t+="."+r),e||(t+=" (stub)"),t},c.people.toString=function(){return c.toString(1)+".people (stub)"},a="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" "),i=0;i<a.length;i++)o(c,a[i]);var u="set set_once union unset remove delete".split(" ");c.get_group=function(){function e(e){t[e]=function(){call2_args=arguments,call2=[e].concat(Array.prototype.slice.call(call2_args,0)),c.push([n,call2])}}for(var t={},n=["get_group"].concat(Array.prototype.slice.call(arguments,0)),r=0;r<u.length;r++)e(u[r]);return t},n._i.push([e,t,r])},n.__SV=1.2,(r=t.createElement("script")).type="text/javascript",r.async=!0,r.src="undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===t.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",(o=t.getElementsByTagName("script")[0]).parentNode.insertBefore(r,o)),mixpanel.init("eeb0103404a2857dec4c324d2f2108c5",{batch_requests:!0}),ia=!0),ia&&ya((function(e,t){try{var n=ed.getState(),r=U(n,"amount"),o=U(n,"currency.current"),a=U(n,"method.current");mixpanel.track("Payment initiated on Flutterwave Checkout",{$email:la,$merchant_name:ua,$amount:r,payment_method:a,$currency:o,$txref:ca,$first_name:sa,$last_name:fa},{transport:"xhr",send_immediately:!0},e)}catch(e){t(e)}})))}))},completedPayment:function(){return ya((function(e,t){try{var n=ed.getState(),r=U(n,"amount"),o=U(n,"currency.current"),a=U(n,"method.current");mixpanel.track("Payment made on Flutterwave Checkout",{$email:la,$merchant_name:ua,$amount:r,payment_method:a,$currency:o,$txref:ca,$first_name:sa,$last_name:fa},{transport:"xhr",send_immediately:!0},e)}catch(e){t(e)}}))},paymentFailed:function(e){return ya((function(t,n){try{var r=ed.getState(),o=U(r,"amount"),a=U(r,"currency.current"),i=U(r,"method.current");mixpanel.track("Payment failed on Flutterwave Checkout",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ha(Object(n),!0).forEach((function(t){ba(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ha(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({$email:la,$merchant_name:ua,$amount:o,payment_method:i,$currency:a,$txref:ca,$first_name:sa,$last_name:fa},e&&{$error_message:e}),{transport:"xhr",send_immediately:!0},t)}catch(e){n(e)}}))},paymentTimeout:function(){return ya((function(e,t){try{var n=ed.getState(),r=U(n,"amount"),o=U(n,"currency.current"),a=U(n,"method.current");mixpanel.track("Payment session timeout on Flutterwave Checkout",{$email:la,$merchant_name:ua,$amount:r,payment_method:a,$currency:o,$txref:ca,$first_name:sa,$last_name:fa},{transport:"xhr",send_immediately:!0},e)}catch(e){t(e)}}))},mixpanelInitialized:function(){return ia}});function Oa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||Ca(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ea(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Ca(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Ca(e,t){if(e){if("string"==typeof e)return wa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wa(e,t):void 0}}function wa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ta(e){var t=Ia(e,"vbvrespmessage","acctvalrespmsg","chargeResponseMessage","response_message"),n=t.vbvrespmessage,r=t.acctvalrespmsg,o=t.chargeResponseMessage,a=t.response_message;return n&&"N/A"!==String(n).toUpperCase()&&!String(n).startsWith("*")&&!String(n).endsWith("#")&&n||r&&"N/A"!==String(r).toUpperCase()&&r||o&&"N/A"!==String(o).toUpperCase()&&o||a&&a.trim()||null}function Aa(e){var t=Ia(e,"chargeResponseCode","response_code","code"),n=t.chargeResponseCode,r=t.response_code,o=t.code;return n||r||o||null}function Sa(e){var t=Ia(e,"flwRef","flw_reference"),n=t.flwRef,r=t.flw_reference;return n||r||null}function Ra(e){var t=Ia(e,"orderRef","transaction_reference"),n=t.orderRef,r=t.transaction_reference;return n||r||null}function ja(e){return Ia(e,"txRef").txRef||sn.get("txref")||null}function Ia(e){var t=["data","tx","err_tx","transactionobject"];Ia=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];r=r.reduce((function(e,t){return I(t)&&(e=H(e,t)),e}),[]);for(var a=Object.create(null);D(e)&&r.length;){var i,c=Ea(r);try{for(c.s();!(i=c.n()).done;){var u=i.value,l=u.split("::"),s=_a(l,2),f=s[0],d=s[1],p=U(e,f);if(p){var m=d||f;Object.prototype.hasOwnProperty.call(a,m)?a[m]=p:M(a,Oa({},m,p),!0)}}}catch(e){c.e(e)}finally{c.f()}var h,b=Ea(t);try{for(b.s();!(h=b.n()).done;){var y=h.value;if(D(e=U(e,y)))break}}catch(e){b.e(e)}finally{b.f()}}return a};for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return Ia.apply(void 0,[e].concat(r))}var Pa=!(!(va=window.opener||window.parent)||va===window),Na=!(!window.opener||window.opener!==va);function Da(){var e=D(this)?this:Object.create(null);return na({NAME:"SUCCESS_VIEW",mount:function(){e.dispatch(Ee.actions.updateErrorMessage());var t=U(e,"STATE.method.current");ie.localStorage&&t&&localStorage.setItem("lastUsedOption",t);var n,r=this.$$data,o=this.data,a=D(r)?r:D(o)?o:null,i=("vbvcomplete"===U(a,"name")?Ia(a,"transactionobject").transactionobject:Ia(a,"tx").tx||Ia(a,"data").data||a)||null;ko.transactionSuccessful(),ie.localStorage&&localStorage.removeItem("retryAttempts"),n=function(){if(Pa||Na)try{return void va.postMessage({name:a.name||"opop",data:a,tx:i,success:!0},"*")}catch(e){}setTimeout((function(){yo().then((function(e){try{var t=U(e,"redirect_url"),n=U(e,"txref");if(t&&n){var r=new URL(t),o=r.searchParams;if(!0===e.use_v3){var c=Ia(i,"id::transaction_id","status"),u=c.transaction_id,l=c.status;o.set("status",l||"failed"),o.set("tx_ref",n),o.set("transaction_id",u),ko.redirectingToMerchant(i).finally((function(){return window.location.href=r.href}))}else{var s=dn("redirect_post","redirect_no_json"),f=s.redirect_post,d=s.redirect_no_json,p=+f?"POST":"GET";if("GET"===p&&+d)return void ko.redirectingToMerchant(i).finally((function(){return window.location.href=r.href}));var m=document.createElement("form"),h=document.createElement("textarea");h.setAttribute("name","resp"),h.setAttribute("hidden","hidden"),h.setAttribute("readonly","readonly"),h.classList.add("sr-only"),h.value=JSON.stringify(a),m.setAttribute("method",p),m.setAttribute("action",r.href),m.setAttribute("hidden","hidden"),m.classList.add("sr-only"),m.appendChild(h),document.body.appendChild(m),ko.redirectingToMerchant(i).finally((function(){return m.submit()}))}}}catch(e){}}))}),5e3)},ga.mixpanelInitialized()?ga.completedPayment().finally((function(){return n()})):Promise.resolve().then((function(){return n()}))}}).call(this)}function Ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ka(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xa(){var e=D(this)?this:Object.create(null);return na({NAME:"FAILURE_VIEW",mount:function(){var t,n,r=this.$$data,o=this.data,a=D(r)?r:D(o)?o:null,i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ma(Object(n),!0).forEach((function(t){ka(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ma(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({status:"failed",id:null},("vbvcomplete"===U(a,"name")?Ia(a,"transactionobject").transactionobject:Ia(a,"tx").tx||Ia(a,"data").data||a)||null);if(i&&"string"==typeof i)t=i;else{var c=i.chargeResponseMessage,u=i.vbvrespmessage,l=i.acctvalrespmsg,s=i.$error,f=[null,"N/A"];t=-1===f.indexOf(u)?u:-1===f.indexOf(l)?l:-1===f.indexOf(c)?c:s}void 0!==t&&e.dispatch(Ee.actions.updateErrorMessage(t)),ko.transactionFailed(),ie.localStorage&&localStorage.removeItem("retryAttempts"),n=function(){if(Pa||Na)try{return void va.postMessage({name:a.name||"opop",data:a,tx:i,success:!1},"*")}catch(e){}setTimeout((function(){yo().then((function(e){try{var t=U(e,"redirect_url"),n=U(e,"txref");if(t&&n){var r=new URL(t),o=r.searchParams;if(!0===e.use_v3){var c=Ia(i,"id::transaction_id","status"),u=c.transaction_id,l=c.status;o.set("status",l||"failed"),o.set("tx_ref",n),o.set("transaction_id",u||null),ko.redirectingToMerchant(i).finally((function(){return window.location.href=r.href}))}else{var s=dn("redirect_post","redirect_no_json"),f=s.redirect_post,d=s.redirect_no_json,p=+f?"POST":"GET";if("GET"===p&&+d)return void ko.redirectingToMerchant(i).finally((function(){return window.location.href=r.href}));var m=document.createElement("form"),h=document.createElement("textarea");h.setAttribute("name","resp"),h.setAttribute("hidden","hidden"),h.setAttribute("readonly","readonly"),h.classList.add("sr-only"),h.value=JSON.stringify(a),m.setAttribute("method",p),m.setAttribute("action",r.href),m.setAttribute("hidden","hidden"),m.classList.add("sr-only"),m.appendChild(h),document.body.appendChild(m),ko.redirectingToMerchant(i).finally((function(){return m.submit()}))}}}catch(e){}}))}),5e3)},ga.mixpanelInitialized()?ga.paymentFailed().finally((function(){return n()})):Promise.resolve().then((function(){return n()}))}}).call(this)}function $a(){var e=Object.create(null);return M(e,{NAME:"info",Reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=gn(t.payload)?t.payload:{};if(t.type===E){var r=n.info;return r||null}return e},actions:M(Object.create(null),{updateInfo:function(e){return function(t){t({type:E,payload:{info:e}})}}})}),$a=e}function La(e){var t=D(e)?e:{},n=t.key,r=t.actions,o=t.initialState,a=t.onSwitchedOff,i=t.onSwitchedOn,c=D(r)?r:{},u=c.on,l=c.off;if(u&&l&&u!==l){var s=this,f=t(a),d=t(i),p=M(Object.create(null),function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n||"switch",e(o)));function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e=!0===e,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case u:return!0!==t||t;case l:return!0!==t&&t;default:return t}}}function t(e){return N(e)?e.bind(s):S}return Object.defineProperty(p,"actions",{value:Object.freeze(M(Object.create(null),{off:function(){return function(e){e({type:l}),f()}},on:function(){return function(e){e({type:u}),d()}}}))})}throw new TypeError("Unique action identifiers are required for switch state.")}function Ua(){var e=Object.create(null),t=La.call(this,{actions:{on:p,off:m},initialState:!1,key:"processing"});return M(e,{NAME:"processing",Reducer:t.processing,actions:M(Object.create(null),t.actions)}),Ua=e}var Va={exports:{}};function Fa(e){return Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(e)}!function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),i=new R(r||[]);return a._invoke=function(e,t,n){var r=f;return function(o,a){if(r===p)throw new Error("Generator is already running");if(r===m){if("throw"===o)throw a;return I()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=T(i,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=s(e,t,n);if("normal"===u.type){if(r=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=m,n.method="throw",n.arg=u.arg)}}}(e,n,i),a}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",p="executing",m="completed",h={};function b(){}function y(){}function v(){}var g={};g[a]=function(){return this};var O=Object.getPrototypeOf,_=O&&O(O(j([])));_&&_!==n&&r.call(_,a)&&(g=_);var E=v.prototype=b.prototype=Object.create(g);function C(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var u=s(e[o],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"===Fa(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=s(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function j(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:I}}function I(){return{value:t,done:!0}}return y.prototype=E.constructor=v,v.constructor=y,y.displayName=u(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},C(w.prototype),w.prototype[i]=function(){return this},e.AsyncIterator=w,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new w(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(E),u(E,c,"Generator"),E[a]=function(){return this},E.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}(Va);var Ba,Ha=Va.exports,Ga="checkout.close",za="checkout.method.switch";function Wa(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Ka(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qa,Ya,Za,Qa=Nn((Ba=yt.one.limit(1/0).init(Rn)).retry.apply(Ba,function(e){return function(e){if(Array.isArray(e))return Ka(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ka(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ka(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(jn)));function Ja(){var e=Xa.bind(this);return addEventListener(Ga,e,!1),function(){return removeEventListener(Ga,e,!1)}}function Xa(){this.$charge.cancel()}function ei(){Ya&&!Ya.aborted||(qa=new AbortController,Ya=qa.signal)}function ti(){var e,t=this.$state.method.current;return e="enaira"===t?"/flwv3-pug/getpaidx/api/enaira/complete":"/flwv3-pug/getpaidx/api/verify/".concat(("banktransfer"===t?"pwbt":"payattitude"===t&&"payattitude")||"mpesa"),new URL(e,"https://api.ravepay.co")}function ni(e,t,n){ei();var r=this,o=Boolean(8&r.flags),a=Ja.call(n),i=0,c=er(t),u=c.onBegin,l=c.onCancel,s=c.onComplete,f=c.onConfirming,d=c.onDataResponse,p=c.onError,m=c.onFailure,h=c.onSuccessful;u=x(u),l=x(l),s=x(s),f=x(f),d=x(d),p=x(p,S),m=x(m),h=x(h);var b,y,v,g=ti.call(r),O=(b={modalauditid:r.$chargeData.modalauditid,PBFPubKey:r.$chargeData.PBFPubKey},v=e,(y=!0===o?"order_ref":"flw_ref")in b?Object.defineProperty(b,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):b[y]=v,b);"banktransfer"===r.$state.method.current&&(O.is_v3_verify=!0);var _={body:JSON.stringify(O)};function E(e){return Promise.resolve(e).then(s.bind(r))}return u.call(r),function e(){return Ya.aborted?(i=0,ei(),a(),Promise.resolve()):Qa(g,_).then(function(){var t,n=(t=Ha.mark((function t(n){var r,o,a,c,u;return Ha.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Pn(n)||!n.ok){t.next=12;break}return t.next=3,n.json();case 3:if(r=t.sent,o=Ia(r,"status","chargeResponseCode","paymentType"),a=o.status,c=o.chargeResponseCode,u=o.paymentType,d(r),!(["00"].indexOf(c)>=0||["success","successful"].indexOf(String(a).toLowerCase())>=0)){t.next=8;break}return t.abrupt("return",(h(r),E(r)));case 8:if("failed"!==a){t.next=10;break}return t.abrupt("return",(m(r),E(r)));case 10:if(!("02"===c&&["cryptocurrency","account-ach-us"].indexOf(String(u).toLowerCase())>=0)){t.next=12;break}return t.abrupt("return",(f(r),E(r)));case 12:if(!(++i<1/0)){t.next=14;break}return t.abrupt("return",setTimeout((function(){return e()}),1500));case 14:throw new RangeError("Too many polling attempts");case 15:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){Wa(a,r,o,i,c,"next",e)}function c(e){Wa(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}(),e)}().catch(p),function(e){qa&&qa.abort(),N(e)&&e()}.bind(null,l)}function ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ai(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ci=Object.freeze(new Error),ui=Object.freeze(new Error),li=Object.freeze(new Error),si=!1,fi=!1;function di(){!0===fi&&(removeEventListener(Ga,di,!1),fi=!1),si=!0}var pi=Nn((Za=yt.one.limit(10)).retry.apply(Za,function(e){return function(e){if(Array.isArray(e))return ii(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ii(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ii(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(jn)));function mi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return Number.isInteger(+e)?Math.min(1e4,Math.max(500,+e)):+t||1e3}function hi(e,t){var n,r,o=1500;e=N(e)?e:j(null),r={delay:["number",o],iterations:["number",1/0],url:"string"},n=D(n=t)?n:{},t=D(r)?Object.keys(n).reduce((function(e,t){var o=n[t],a=Zn([].concat(r[t]),2),i=a[0],c=a[1];return c=(i="string"===Jn(i)?i.trim():void 0)&&Jn(c)===i?c:void 0,e[t]=i||Jn(o)===i?o:c,e}),{}):n;var a=0,i=mi(t.delay,o),c=t.url,u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;return Number.isInteger(+e)?Math.max(0,Math.min(+e,1/0)):1/0}(t.iterations),l=function(e){if("function"==typeof e){var t=!1;return function(){if(!t&&(t=!0))return e.apply(void 0,arguments)}}return e}((function(e){i=mi(e,o)}));return function(){return c&&++a<=u?new Promise((function(t,n){setTimeout((function(){pi(c).then((function(r){return Pn(r)&&r.ok?t(r.json().then(e).then((function(e){return l(o),e}))):n(ci)})).catch(n)}),Math.floor(i*function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Number.isInteger(+e)?Math.min(Math.pow(1.5,Math.floor(Math.log(Math.max(1,+e))/Math.log(2.5))),5):1}(a)))})):Promise.reject(ui)}}function bi(e){return!0!==fi&&(addEventListener(Ga,di,!1),fi=!0),e=x(e),function(t){var n=D(t)?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ri(Object(n),!0).forEach((function(t){oi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t):{},r=n.maxPingIterations,o=n.onBadResponse,a=n.onDataResponse,i=ai(n,["maxPingIterations","onBadResponse","onDataResponse"]);function c(){this.pingHandler=null}return o=x(o,S),Object.defineProperty(c.prototype,"handle",{value:function(t){if(D(t)){var n,c=function(e){try{var t=e.data;return"response_parsed"in t?t.response_parsed:t}catch(e){return null}}(t);if("LONG-REQ"===t.message||t.data&&"response_parsed"in t.data&&!c||t.data&&"ping_url"in t.data&&!1===si)return N(this.pingHandler)||(this.pingHandler=hi(this.handle.bind(this),{iterations:+r,delay:+c.wait,url:c.ping_url})),N(this.pingHandler)?this.pingHandler():Promise.reject(li);if(c||(c=Object.create(null)),["error","failed","failure"].indexOf(String(t.status).toLowerCase())>=0&&(n=t),!0===L(U(c,"is_err"),!1)&&(n=c),n){var u=Ia(n,"error","err","message"),l=u.error,s=u.err,f=u.message,d=l||s||f;(d=I(d)&&d.trim()||null)&&M(c,{$error:d},!0)}var p=M(Object.create(null),{data:c},!0),m=M(Object.keys(i).reduce((function(e,t){return M(e,oi({},t,x(i[t])))}),Object.create(null)),{onBadResponse:o,onDataResponse:a,maxPingIterations:r});return a.call(p),e.call(M(Object.create(null),{context:p,response:t,options:m}))}return o(t)}}),function(e){return(new c).handle(e)}}}function yi(e){var t,n=this.onBadResponse,r=this.onDataResponse,o=this.onRequireValidation,a=this.onValidateFailed,i=this.onValidateSuccessful;return(t={onBadResponse:n,onDataResponse:r,onRequireValidation:o,onValidateFailed:a,onValidateSuccessful:i},bi((function(){var e=this.context,t=this.options,n=t.onValidateFailed,r=t.onValidateSuccessful,o=t.onRequireValidation,a=e.data;M(e,{reference:M(Object.create(null),{charge:Sa(a),order:Ra(a),transaction:ja(a)})});var i=Ia(a,"status","acctvalrespcode","responsecode"),c=i.status,u=i.acctvalrespcode,l=i.responsecode,s=Aa(a),f=String(c).toLowerCase(),d=l||u;if(["00"].indexOf(d)>=0||["00"].indexOf(s)>=0||["success","successful"].indexOf(f)>=0)return r.call(e);var p=Ia(a,"authModelUsed::authModel","responsemessage","acctvalrespmessage","chargeResponseMessage","message","paymentType"),m=p.authModel,h=p.responsemessage,b=p.acctvalrespmessage,y=p.chargeResponseMessage,v=p.message,g=h||b;return M(e,{auth:m||null,charge_code:s,payment_type:p.paymentType,validation_code:d,message:M(Object.create(null),{charge:y||null,validation:g||null,fallback:v||null})}),f.indexOf("fail")<0&&("02"===d||"02"===s)?("RANDOM_DEBIT"===m&&"RR"===d?n:o).call(e):n.call(e)}))(t))(e)}function vi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vi(Object(n),!0).forEach((function(t){Oi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _i=Nn(yt.one.init(Rn));function Ei(){var e=Boolean(4&this.flags),t=Boolean(2&this.flags),n="/flwv3-pug/getpaidx/api/validate".concat(String.apply(null,["charge"].slice(!t))),r=new URL(n,"https://api.ravepay.co");return!0===e&&r.searchParams.set("use_polling",1),r}function Ci(e,t){var n=this,r=t=er(t),o=r.onBegin,a=r.onComplete,i=r.onError;o=x(o),a=x(a),i=x(i,S);var c=yi.bind(M(Object.create(null),gi({},t)));return Promise.resolve(n.$chargeData).then((function(t){return o.call(n),_i(Ei.call(n),{body:JSON.stringify(gi(gi({},D(e)?e:{}),{},{modalauditid:t.modalauditid,PBFPubKey:t.PBFPubKey}))}).then((function(e){return Pn(e)?e.json().then(c):Promise.reject(new Error)})).catch(i).finally(a.bind(n))}))}function wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ai(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Si(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Si(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ri,ji={amount:1,custom_campaign_id:0,charge_type:0,country:1,currency:1,"customer_phone::phone":3,cycle:0,device_fingerprint:0,email:0,custom_pwbt_expiry:0,custom_narration:0,firstname:0,ip:0,lastname:0,meta:1,modalauditid:1,payment_page:0,payment_plan:0,payment_type:1,PBFPubKey:0,redirect_url:0,subaccounts:0,transaction_charge:0,transaction_charge_type:0,"txRef::txref":0,QUERY_STRING_DATA:0},Ii=!0;function Pi(){return yo().then((function(e){var t=D(e)?e:{},n=Object.create(null);return Ii=!Object.isFrozen(t),Object.keys(ji).forEach((function(r){var o,a=Ai(r.split("::"),2);r=a[0];var i=a[1],c="QUERY_STRING_DATA"===(o=void 0===i?r:i)?sn.raw:t[o]||void 0;if(M(n,Ti({},r,c)),"custom_pwbt_expiry"===r){var u=sn.get("custom_pwbt_expiry"),l=sn.raw;u||(u=l.bank_transfer_expiry),M(n,{expires:u})}if("custom_narration"===r){var s=sn.get("custom_narration");s&&M(n,{narration:s})}if("custom_campaign_id"===r){var f=U(e,"campaign.campaign_id")||null;M(n,{campaign_id:f,is_discounted:null!==f?1:0})}if("customer_phone"===r){var d=sn.get("customer_phone");d&&M(n,{phonenumber:d})}})),Ri=Object.freeze(n)}))}function Ni(){return Promise.resolve(!0===Ii?Pi.call(this):Ri||Pi.call(this)).then((function(e){return e||Object.freeze(Object.create(null))}))}function Di(e){return Ni.call(this).then((function(t){e=D(e)?e:{};var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wi(Object(n),!0).forEach((function(t){Ti(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),r=Object.keys(ji);return Object.keys(e).forEach((function(t){var o=r.find((function(e){return RegExp("/^".concat(t,"(?:::.+)?$/")).test(e)}));(!o||1&ji[o])&&(n[t]=e[t])})),n}))}function Mi(e){return bi((function(){var e=this.context,t=this.options,n=this.response,r=e.data,o=t.onChargeFailed,a=t.onChargeSuccessful,i=t.onRequireDiscount,c=t.onRequireRedirection,u=t.onRequireSuggestedAuth,l=t.onRequireValidation;if(D(r)&&"apply_discount"in r)return i.call(e);if(["AUTH_SUGGESTION","auth_suggestion","V-COMP"].includes(n.message)&&D(r)&&"suggested_auth"in r){var s=r.suggested_auth,f=null;switch(s){case"PIN":case"AVS":case"AVS_VBVSECURECODE":case"NOAUTH_INTERNATIONAL":f="PIN"===s?s:"AVS"}return u.call(M(e,{auth:f,suggested_auth:s}))}M(e,{reference:M(Object.create(null),{charge:Sa(r),order:Ra(r),transaction:ja(r)})});var d=Aa(r),p=Ia(r,"charge_type::chargeType","paymentType","status::chargeStatus"),m=p.chargeStatus,h=p.chargeType,b=p.paymentType;if(["00"].indexOf(d)>=0||"pending-capture"===d&&"card"===b&&"preauth"===h)return a.call(e);if("02"===d){ko.chargeRequestStatus("successful - Pending verification");var y=Ia(r,"acctvalrespcode::validationCode","authModelUsed::authModel","type::validationType","response_message::responseMessage"),v=y.validationCode,g=y.authModel,O=y.validationType,_=y.responseMessage;if(M(e,{auth:g||null,charge_code:d,charge_type:h,payment_type:b,validation_code:v,validation_type:O}),"RANDOM_DEBIT"===g&&"RR"===v)return ko.chargeRequestStatus("failed"),o.call(e);if(["PIN","OTP","GTB_OTP","ACCESS_OTP","MVISA-QR"].indexOf(g)>=0||["twofactorvalidate","callback","paymentcode"].indexOf(O)>=0)return l.call(e);try{var E=new URL(function(e){var t=Ia(e,"auth_url","authurl","redirect_url","link"),n=t.auth_url,r=t.authurl,o=t.redirect_url,a=t.link;return n||r||o||a||null}(r));return c.call(M(e,{url:E}))}catch(t){return O&&"redirect"===O||!("pending"===m||String(m).toLowerCase().indexOf("pending")>=0||String(_).toLowerCase().indexOf("in progress")>=0)?Promise.reject(new Error("charge.redirect.error")):l.call(e)}}return o.call(e)}))(e)}function ki(e){return Mi({onBadResponse:this.onBadResponse,onChargeFailed:this.onChargeFailed,onChargeSuccessful:this.onChargeSuccessful,onDataResponse:this.onDataResponse,onRequireDiscount:this.onRequireDiscount,onRequireRedirection:this.onRequireRedirection,onRequireSuggestedAuth:this.onRequireSuggestedAuth,onRequireValidation:this.onRequireValidation})(e)}function xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Li=!1,Ui=!1,Vi=Nn(yt.one.init(Rn));function Fi(){!0===Ui&&(removeEventListener(Ga,Fi,!1),Ui=!1),Li=!0}function Bi(){var e=Boolean(1&this.flags),t=new URL("/flwv3-pug/getpaidx/api/charge","https://api.ravepay.co");return!0===e&&t.searchParams.set("use_polling",1),t}function Hi(e,t){!0!==Ui&&(addEventListener(Ga,Fi,!1),Ui=!0);var n=this,r=t=er(t),o=r.onBegin,a=r.onComplete,i=r.onError;o=x(o),a=x(a),i=x(i,S);var c=ki.bind(M(Object.create(null),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(n),!0).forEach((function(t){$i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)));return Di.call(n,e).then((function(e){return o.call(n),Vi(Bi.call(n),{body:JSON.stringify({modalauditid:e.modalauditid,PBFPubKey:e.PBFPubKey,client:pa(e)})}).then((function(e){return!1===Li&&Pn(e)?e.json().then(c):Promise.reject(new Error)})).catch(i).finally(a.bind(n))}))}function Gi(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!0===t?0:2;return Number(new Intl.NumberFormat("en-US",{style:"decimal",useGrouping:!1,minimumFractionDigits:n,maximumFractionDigits:n}).format(e))}function zi(e){if(e=Number("string"==typeof e?e.trim():e),Number.isNaN(e)||e<0)throw new TypeError("Invalid amount.");return e}function Wi(e){return function(t){try{this[e]=zi(t)}finally{return this}}}function Ki(e,t){this.base=zi(e),this.currency=function(e,t){try{var n=Lt.validate({currency:e,support:!1});if((t=(t=[].concat(t).filter(Boolean)).length?t:Lt.SUPPORTED).indexOf(n)>=0)return n}catch(e){}throw new TypeError("Invalid currency.")}(t),this.usesRounded=Lt.ROUNDED.indexOf(this.currency)>=0,Object.defineProperty(this,"computed",{configurable:!0,enumerable:!0,get:function(){return this.base}})}function qi(e,t){Ki.call(this,e,t),this.fee=0,this.discount=0,Object.defineProperty(this,"computed",{configurable:!0,enumerable:!0,get:function(){return this.base+this.fee-this.discount}})}function Yi(){var e=this;return function(){if(D(this)){var t=this.data,n=this.reference,r=U(e.STATE,"method.current");switch(e.$$data=t,e.reference=n,r){case"1voucher":var o=U(t,"meta_data.change_voucher");if(D(o)){var a=o.amount,i=o.pin,c=o.serial,u=o.expiry;if(a&&i&&c&&u){var l=new Ki(a,"ZAR");e.CHANGE_VOUCHER=V({amount:function(){return l},pin:function(){return i},serial:function(){return c},expiry:function(){return u}});break}}e.CHANGE_VOUCHER=!1;break;default:Da&&Da.activate.call(e)}}}}Object.defineProperties(Ki.prototype,{valueOf:{enumerable:!0,value:function(){return Gi(this.computed,this.usesRounded)}},toString:{enumerable:!0,value:function(){return"".concat(this.currency," ").concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Intl.NumberFormat("en-US",{style:"decimal",useGrouping:!0}).format(Gi(e,t))}(this.computed,this.usesRounded))}}}),qi.prototype=M(Object.create(Ki.prototype),{constructor:qi,updateFee:Wi("fee"),updateDiscount:Wi("discount")});var Zi={"authorize.momo":"Dial on your mobile phone to authorize this payment. It may take a few minutes to confirm this payment","mpesa.notification":"A push notification has been sent to your phone, complete the transaction by entering your PIN.","mpesa.secondary.without.fallbackDuration":"Please complete your transaction on M-PESA pay bill using the following details:","mpesa.secondary.with.fallbackDuration":"If you do not receive it after seconds, please complete your transaction on M-PESA pay bill using the following details:"},Qi={"authorize.momo":"Composez sur votre téléphone mobile pour autoriser ce paiement. La confirmation de ce paiement peut prendre quelques minutes","mpesa.notification":"Une notification push a été envoyée sur votre téléphone, terminez la transaction en saisissant votre code PIN","mpesa.secondary.without.fallbackDuration":"Veuillez compléter votre transaction sur M-PESA payer la facture en utilisant les détails suivants","mpesa.secondary.with.fallbackDuration":"Si vous ne le recevez pas après quelques secondes, veuillez compléter votre transaction sur M-PESA pay bill en utilisant les détails suivants:"};function Ji(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ec=Nn(yt.one.init(Rn));function tc(){var e=this;return function(){if(D(this)){var t=this.data,n=this.reference,r=this.validation_type,o=U(e.STATE,"method.current"),a=U(e.STATE,"locale");switch(e.$$data=t,e.reference=n,o){case"banktransfer":var i=U(t,"amount"),c=U(e.DATA,"currency")||"NGN",u=U(e.DATA,"banktransfer_beneficiary_name"),l=U(e.DATA,"expires");if("NGN"===c||"USD"===c){var s=U(t,"accountnumber"),f=U(t,"bankname");if(s&&i&&f){var d=new Ki(i,c);e.TRANSFER_DETAILS=V({account:function(){return s},amount:function(){return d},bank:function(){return f},beneficiary:function(){return u},expiryTime:function(){return l}})}}else{var p=U(t,"data.amount"),m=U(t,"data.payment_code"),h=U(e.DATA,"expires");if(p&&m){var b=new Ki(p,c),y=V({amount:function(){return b},beneficiary:function(){return u},payment_code:function(){return m},expiryTime:function(){return h}},!1);M(y,"GBP"===c?{account_number:"43271228",sort_code:"040053"}:{iban:"GB11PAYR00997500000697",bic_swift:"PAYRGB21"}),e.TRANSFER_DETAILS=Object.freeze(y)}}break;case"enaira":switch(U(e.$inputs,"eNairaPaymentOption[value].identifier")){case"QR":var v=U(t,"qr_image");v&&(e.QR_CODE=v);break;case"TOKEN":e.SHOULD_VALIDATE_CHARGE=!0}break;case"mobilemoneyghana":case"mobilemoneyrwanda":case"mobilemoneytanzania":case"mobilemoneyuganda":case"mobilemoneyzambia":case"mpesa":case"payattitude":var g,O=U(e.$inputs,"[network].value.identifier");if("mobilemoneyghana"===o){if("MTN"===O)e.MOMO_INSTRUCTIONS="Please dial *170# to confirm your transaction if the prompt fails.";else{g=U(t,"validateInstructions");var _=Ji([].concat(String(g).match(/[*#][\d*#]+[*#]/g)).filter(Boolean),1)[0],E=void 0===_?"#144#":_;e.MOMO_INSTRUCTIONS="Dial ".concat(E," on your mobile phone to authorize this payment.")}var C=Ji([].concat(String(g).match(/[*#][\d*#]+[*#]/g)).filter(Boolean),1)[0],w=void 0===C?"#144#":C,T=On("en"===a?Zi:Qi,"authorize.momo").split(" ");T.splice(1,0,w),e.MOMO_INSTRUCTIONS=T.join(" ")}if("mpesa"===o){var A=On("en"===a?Zi:Qi,"mpesa.notification"),S=!1;if(e.MPESA_SECONDARY_INSTRUCTION=null,"SAFARICOM"===O){var R=Boolean(U(e.DATA,"canSendSTKPushNotification")),j=U(e.DATA,"mpesaPaybill");S=!0!==U(e.DATA,"preferences[ignore_mpesa_fallback]"),e.MPESA_INSTRUCTION=R?A:null;var I=e.reference.order,P=j||U(t,"data.business_number"),N=U(t,"charged_amount");if(S&&I&&P&&N){var k=R?20:0,x=new Ki(N,U(e.DATA,"currency")),$="en"===a?Zi:Qi,L=On($,"mpesa.secondary.with.fallbackDuration").split(" ");L.splice(7,0,k),e.MPESA_SECONDARY_INSTRUCTION=k?L.join(" "):On($,"mpesa.secondary.without.fallbackDuration"),e.FALLBACK_DETAILS=V({account:function(){return I},amount:function(){return x},business:function(){return P}}),e.mpesaOverrideTimeout=setTimeout((function(){!0!==e.mpesaPollingCompleted&&Promise.resolve(ec(new URL("/v2/gpx/mpesa/authoverride","https://api.ravepay.co"),{body:JSON.stringify({modalauditid:U(e.DATA,"modalauditid"),public_key:U(e.DATA,"PBFPubKey"),id:U(t,"id")})}).then((function(e){return Pn(e)&&e.ok})).catch(rr))}),1e3*k)}}else e.MPESA_INSTRUCTION=A}break;case"mobilemoneyfranco":if("twofactorvalidation"===r)e.SHOULD_VALIDATE_CHARGE=!0;else if("callback"===r){if("BF"!==U(e.DATA,"country")){var F=U(t,"data.note"),B=Ji([].concat(String(F).match(/[*#][\d*#]+[*#]/g)).filter(Boolean),1)[0],H=void 0===B?"#144#":B,G=On("en"===a?Zi:Qi,"authorize.momo").split(" ");G.splice(1,0,H),e.CONFIRM_INSTRUCTION=G.join(" ")}e.SHOULD_VALIDATE_CHARGE=!1}break;case"paga":"twofactorvalidation"===r&&(e.PAGA_INSTRUCTION=U(t,"data.note")||null,e.SHOULD_VALIDATE_CHARGE=!0);break;case"nqr":case"qr":case"wechat":var z=U(t,"qr_image");z&&(e.QR_CODE=z);break;case"ussd":var W=U(t,"data.note"),K=Ji(String(W).match(jt)||[],3),q=K[1],Y=K[2],Z=(Y?(q||String()).replace(/#$/,"*".concat(Y,"#")):q)||null;Z&&(e.USSD_CODE=Z);break;case"fawrypay":var Q=U(t,"flwRef");Q&&(e.FAWRY_REFERENCE=Q)}}}}function nc(){var e=Object.create(null);return M(e,{NAME:"backgroundProcessing",Reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=D(t.payload)?t.payload:{};if(t.type===O){var r=n.processing;return P(r)&&r!==e?r:e}return e},actions:M(Object.create(null),{updateBackgroundProcessing:function(e){return function(t){t({type:O,payload:{processing:e}})}}})}),nc=e}function rc(){var e=D(this)?this:Object.create(null);return na({NAME:"PENDING_VIEW",mount:function(){e.dispatch(Ee.actions.updateErrorMessage())}}).call(e)}var oc={"init.missing.parameter.amount":"Missing parameter (`amount`): Kindly terminate this session and reconfirm the data.","init.invalid.parameter.amount":"Invalid parameter (`amount`): Kindly terminate this session and reconfirm the data.","init.missing.parameter.currency":"Missing parameter (`currency`): Kindly terminate this session and reconfirm the data.","init.invalid.parameter.currency":"Invalid parameter (`currency`): Kindly terminate this session and reconfirm the data.","init.missing.parameter.customer_email":"Missing parameter (`customer_email`): Kindly terminate this session and reconfirm the data.","init.invalid.parameter.customer_email":"Invalid parameter (`customer_email`): Kindly terminate this session and reconfirm the data.","init.missing.parameter.PBFPubKey":"Missing parameter (`PBFPubKey`): Kindly terminate this session and reconfirm the data.","init.invalid.parameter.PBFPubKey":"Invalid parameter (`PBFPubKey`): Kindly terminate this session and reconfirm the data.","init.missing.parameter.txref":"Missing parameter (`txref`): Kindly terminate this session and reconfirm the data.","init.invalid.parameter.txref":"Invalid parameter (`txref`): Kindly terminate this session and reconfirm the data.","init.generic.notice":"Initialization failed: Kindly terminate this session and reconfirm the data.","close.checkout.notice":"Are you sure you want to cancel this payment?","iframe.close.text":"Close"},ac={"init.missing.parameter.amount":"Paramètre (`amount`) manquant: veuillez mettre fin à cette session et reconfirmer les données.","init.invalid.parameter.amount":"Paramètre (`amount`) non valide: veuillez mettre fin à cette session et reconfirmer les données.","init.missing.parameter.currency":"Paramètre (`currency`) manquant: veuillez mettre fin à cette session et reconfirmer les données.","init.invalid.parameter.currency":"Paramètre (`currency`) non valide: veuillez mettre fin à cette session et reconfirmer les données.","init.missing.parameter.customer_email":"Paramètre (`customer_email`) manquant: veuillez mettre fin à cette session et reconfirmer les données.","init.invalid.parameter.customer_email":"Paramètre (`customer_email`) non valide: veuillez mettre fin à cette session et reconfirmer les données.","init.missing.parameter.PBFPubKey":"Paramètre (`PBFPubKey`) manquant: veuillez mettre fin à cette session et reconfirmer les données.","init.invalid.parameter.PBFPubKey":"Paramètre (`PBFPubKey`) non valide: veuillez mettre fin à cette session et reconfirmer les données.","init.missing.parameter.txref":"Paramètre (`txref`) manquant: veuillez mettre fin à cette session et reconfirmer les données.","init.invalid.parameter.txref":"Paramètre (`txref`) non valide: veuillez mettre fin à cette session et reconfirmer les données.","init.generic.notice":"Échec de l'initialisation: veuillez mettre fin à cette session et reconfirmer les données.","close.checkout.notice":"Voulez-vous vraiment annuler ce paiement?","iframe.close.text":"Fermer"};function ic(e,t,n,r){var o,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,l=ie.localStorage?atob(localStorage.getItem("retryAttempts")):null,s=null!==l?Number(l)/100:0;null!==s&&0===s?t&&t.activate.call(r):s>0?(--s,localStorage.setItem("retryAttempts",btoa(String(100*Number(s)))),o=function(){if(hasParent||isWindowOpen)try{return void parentWindow.postMessage({name:$data.name||"opop",data:$data,tx:$tx,success:!1},"*")}catch(e){}},ga.mixpanelInitialized()?ga.paymentFailed(i).finally((function(){return o()})):Promise.resolve().then((function(){return o()})),!0===a&&n((function(){return setTimeout((function(){i&&c(u.actions.updateErrorMessage(i,20))}),0)})),n()):s&&null!==s||!e?s||e||(!function(e){ga.mixpanelInitialized()?ga.paymentFailed(i).finally((function(){return e()})):Promise.resolve().then((function(){return e()}))}((function(){if(hasParent||isWindowOpen)try{return void parentWindow.postMessage({name:$data.name||"opop",data:$data,tx:$tx,success:!1},"*")}catch(e){}})),!0===a&&n((function(){return setTimeout((function(){i&&c(u.actions.updateErrorMessage(i,20))}),0)})),n()):t&&t.activate.call(r)}function cc(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uc(Object(n),!0).forEach((function(t){sc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fc,dc,pc=!1,mc=!1,hc="payment.cancelled.error";function bc(){mc=!1,fc&&(fc.dispatch(nc.actions.updateBackgroundProcessing(mc)),fc=void 0),dc&&(N(dc.close)&&dc.close(),dc=void 0),self.focus(),removeEventListener("message",yc)}function yc(e){var t=e.data,n=e.source;if(dc&&n===dc){!0===pc&&document.querySelector("#iframe-checkout-v3-parent")&&document.querySelector("#iframe-checkout-v3-parent").remove();var r=D(t)?t:{},o=r.name,a=r.respcode,i=r.respmsg;switch(o){case"mmoney-captcha-failed":var c=fc,u=c.INIT_VIEW,l=c.dispatch;ic(!0===U(fc.DATA,"preferences[should_redirect_on_fail]"),xa,u,lc(lc({},fc),{},{$$data:t}),!0,I(t.data)&&t.data.trim()||null,l,Ee),bc();break;case"mmoney-captcha-pending":Ee.actions.updateErrorMessage(""),rc&&rc.activate.call(lc(lc({},fc),{},{$$data:t})),bc();break;case"vbvcomplete":var s=U(fc,"STATE.method.current");if(["mobilemoneygh","mobilemoneymalawi","mobilemoneytanzania"].indexOf(s)>=0&&ko.customerReturnedFromVerificationPage(),["00"].indexOf(a)>=0)Da&&Da.activate.call(lc(lc({},fc),{},{$$data:t}));else{var f,d=fc,p=d.INIT_VIEW,m=d.dispatch,h=d.$charge,b=U(fc,"STATE.method.current"),y=U(fc,"STATE.currency.current");if("paypal"===b)try{"RR-C02"===Ia(t,"vbvrespcode").vbvrespcode&&(Da&&Da.activate.call(lc(lc({},fc),{},{$$data:t})),ko.paypalPendingMerchantAction(),f=!0)}catch(e){}if("opay"===b){var v=Ia(t,"transactionobject").transactionobject;try{if("string"==typeof v.status&&"failed"===v.status.toLowerCase()&&"02"===v.chargeResponseCode){var g=!0===U(fc.DATA,"preferences[should_redirect_on_fail]");fc.REDIRECT_URL=null,setTimeout((function(){ic(g,xa,p,lc(lc({},fc),{},{$$data:t}))}),0)}}catch(e){}}if("enaira"===b)try{if("02"===Ia(t,"vbvrespcode").vbvrespcode){ra&&ra.activate.call(lc(lc({},fc),{},{$$data:t}));var O={onBegin:function(){},onCancel:function(){O.onComplete()},onFailure:function(e){},onSuccessful:function(){Da&&Da.activate.call(lc(lc({},fc),{},{$$data:t}))},onComplete:function(){}};h.poll(O),f=!0}}catch(e){}if("account"===b&&["EUR","GBP","ZAR"].includes(y))try{var _=Ia(t,"vbvrespcode").vbvrespcode;if(t.data&&"failed"!==t.data.status)"02"!==_&&"02"!==a||rc&&rc.activate.call(lc(lc({},fc),{},{$$data:t}));else!0===U(fc.DATA,"preferences[should_redirect_on_fail]")?xa&&xa.activate.call(lc(lc({},fc),{},{$$data:t})):p((function(){return setTimeout((function(){return m(Ee.actions.updateErrorMessage(t.respmsg))}),0)}));f=!0}catch(e){}if("paga"===b)try{var E=U(t,"transactionobject.acctvalrespmsg");if("02"===a)ic(!0===U(fc.DATA,"preferences[should_redirect_on_fail]"),xa,p,lc(lc({},fc),{},{$$data:t}),!0,E,m,Ee);f=!0}catch(e){}if(!0!==f){var C=!0===U(fc.DATA,"preferences[should_redirect_on_fail]"),w=I(i)&&i.trim()||null;ic(C,xa,p,lc(lc({},fc),{},{$$data:t}),!0,w,m,Ee)}}bc()}}}function vc(e){if(!D(this))throw new Error("Cannot retrieve functions without an execution context.");if(!D(e)||!Object.isExtensible(e))throw new Error("Cannot retrieve functions without appropriate context object.");var t,n=this,r=n.mode,o=Boolean(8&r),a=gc({flags:r}),i=a.charge,c=a.poll,u=a.validate,l=a.$context,s=Yi.call(e),f=tc.call(e),d=function(){var t=this;return function(n){var r,o=t.INIT_VIEW,a=t.dispatch;n&&(r=n instanceof Error?n.message:Ta(n)||n),D(this)&&D(this.data)&&(r=(r=this.data.$error)||Ta(this.data)),ic(!0===U(e.DATA,"preferences[should_redirect_on_fail]"),xa,o,e,!1,r),r&&"failed to fetch"===r.toLowerCase()?setTimeout((function(){a(Ee.actions.updateErrorMessage("network.failed.error"))}),100):r&&(setTimeout((function(){a($a.actions.updateInfo({fromCharge:!0}))}),100),setTimeout((function(){a(Ee.actions.updateErrorMessage(r))}),100))}}.call(e);function p(){e.dispatch(nc.actions.updateBackgroundProcessing(mc=!0)),e.dispatch(Ua.actions.on()),e.dispatch(Ee.actions.updateErrorMessage())}function m(){e.dispatch(nc.actions.updateBackgroundProcessing(mc=!1)),e.dispatch(Ua.actions.off())}function h(){try{var t=this.url,n=this.reference;e.reference=n,t.href&&(e.REDIRECT_URL=t)}catch(e){}}function b(){if(m.call(this),D(this)){var t=this.data;e.$$data=M(Object.create(null),{data:t})}}var y=M(Object.create(null),{cancel:function(e){if(mc&&N(t))return t(e)},init:function(e){if(!mc){var t,r=er(e,{onBegin:p,onChargeSuccessful:s,onChargeFailed:d,onComplete:m,onDataResponse:b,onError:d,onRequireRedirection:h,onRequireValidation:f});t=r.data,e=cc(r,["data"]),!Fe(t=lc(lc({amount:U(l.$chargeData,"amount"),currency:U(l.$chargeData,"currency"),country:U(l.$chargeData,"country")||"NG"},D(n.data)?n.data:{}),D(t)?t:{}))&&i(t,e)}},validate:function(e){if(!mc){var t,r=er(e,{onBegin:p,onComplete:m,onDataResponse:b,onError:d,onValidateFailed:d});t=r.data,e=cc(r,["data"]),!Fe(t=lc(lc({},D(n.data)?n.data:{}),D(t)?t:{}))&&u(t,e)}},poll:function(n){if(!mc){var r=D(e.reference)?e.reference:{},a=r.order,i=r.charge,u=o?a:i;if(u){var l=c(u,er(n,{onBegin:function(){e.dispatch(nc.actions.updateBackgroundProcessing(mc=!0))},onComplete:m,onDataResponse:function(t){e.$$data=t},onError:function(r){t&&t(),mc=!1,RangeError,e.$charge.poll(n)},onFailure:d}),e);t=function(n){if(N(l))return l(),t=void 0,e.dispatch(nc.actions.updateBackgroundProcessing(mc=!1)),x(n)(),!0}}}},redirect:function(){if(!mc)try{var t=e.REDIRECT_URL,n="applepay"===U(e,"STATE.method.current"),r="googlepay"===U(e,"STATE.method.current"),o=!0===U(e,"DATA.preferences[can_switch_to_paymob]"),a="account"===U(e,"STATE.method.current")&&["GBP","EUR"].indexOf(U(e,"STATE.currency.current"))>=0,i="account"===U(e,"STATE.method.current")&&"ZAR"===U(e,"STATE.currency.current"),c="opay"===U(e,"STATE.method.current"),u="account"===U(e,"STATE.method.current")&&"NGN"===U(e,"STATE.currency.current"),l="en"===U(e,"STATE.locale")?oc:ac,s=On(l,"iframe.close.text"),f=function(){window.opr&&opr.addons||window.opera||navigator.userAgent.indexOf(" OPR/"),/constructor/i.test(window.HTMLElement)||(!window.safari||safari.pushNotification).toString();var e=
/*@cc_on!@*/
!!document.documentMode,t=!e&&!!window.StyleMedia;return window.chrome&&window.chrome.webstore,!(!e&&!t)}();if((pc=!(!se.isMobile&&!f))&&!1===n&&!1===r&&!1===o&&!1===a&&!1===i&&!1===c&&!1===u){if(function(e,t){var n=document.createElement("div");n.setAttribute("id","iframe-checkout-v3-parent"),n.setAttribute("style","position:relative;background:#fff;top:0;left:0;bottom:0;right:0;border:none;visibility:visible;position:absolute;z-index:999999"),n.classList.add("iframe-loader");var r=document.createElement("iframe"),o=document.createElement("button");return o.textContent=t,o.setAttribute("style","font-weight:bold;background-color:#FF9B00;color:#fff;border-radius:3px;padding:3px;top:10px;right:15px;visibility:visible;position:absolute;z-index:999999999"),o.classList.add("_iframe__close"),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("id","_3dseciframe"),r.src=e,r.onload=function(){n.classList.remove("iframe-loader")},n.appendChild(r),n.appendChild(o),document.body.appendChild(n),o.addEventListener("click",(function(){document.getElementById("iframe-checkout-v3-parent").remove(),setTimeout((function(){return dc.closed=!0}),100)})),n}(t.href,s)){var d=document.getElementById("_3dseciframe");dc=d.contentWindow,e.dispatch(nc.actions.updateBackgroundProcessing(mc=!0)),fc=e,e.dispatch(Ee.actions.updateErrorMessage());var p=setInterval((function(){if(dc){if(dc.closed){e.INIT_VIEW;var t=e.dispatch;clearInterval(p),dc=void 0,self.focus(),t(nc.actions.updateBackgroundProcessing(mc=!1)),t(Ee.actions.updateErrorMessage(hc))}}else clearInterval(p)}),1e3);addEventListener("message",yc)}}else if(dc=window.open(t.href,"_blank")){e.dispatch(nc.actions.updateBackgroundProcessing(mc=!0)),fc=e,e.dispatch(Ee.actions.updateErrorMessage());var m=setInterval((function(){if(dc){if(dc.closed){e.INIT_VIEW;var t=e.dispatch;clearInterval(m),dc=void 0,self.focus(),t(nc.actions.updateBackgroundProcessing(mc=!1)),t(Ee.actions.updateErrorMessage(hc))}}else clearInterval(m)}),1e3);addEventListener("message",yc)}}catch(e){}}});return M(e,{$charge:y})}function gc(e,t){e&&t&&(gc=function(n){var r=V({$chargeData:function(){return e},$state:function(){return t.getState()}},!1);return Object.freeze(M(r,lc({},D(n)?n:{}))),Object.freeze(M(Object.create(null),{$context:r,charge:Hi.bind(r),poll:ni.bind(r),validate:Ci.bind(r)}))})}var Oc,_c=gc;function Ec(){var e=D(this)?this:Object.create(null);return na({NAME:"NOOP_VIEW"}).call(e)}function Cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tc,Ac,Sc,Rc=Object.create(null),jc="https://api.ravepay.co".concat("/v3/checkout/limit"),Ic=Nn(yt.one.limit(3).init(Rn).retry(yt.RetryOnNetworkError,yt.RetryOnTimeout).timeout(In)),Pc=function(){var e=new Error("FETCH_LIMIT_FAILED");return e.name="ERR_FETCH_LIMIT_FAILURE",Object.freeze(e)}();function Nc(){return yo().then((function(e){var t=e.currency,n=e.email,r=U(ed.getState(),"method.current"),o=U(ed.getState(),"view.context.inputs['network'].value")?U(ed.getState(),"view.context.inputs['network'].value").identifier:"VODAFONE",a=btoa("".concat(t,"::").concat(r));Oc||(Oc=e.amount);var i={amount:Oc,currency:t,customer_email:n,payment_method:r,public_key:e.PBFPubKey,checkout_id:e.modalauditid};if("mobilemoneyrwanda"===r&&(i.network="RWF"),"mobilemoneytanzania"===r){var c=U(ed.getState(),"view.context.inputs['network'].value")||null;o=null===c?o:c.identifier,i.network=o||U(e,"mobilemoney_network")||null,a=btoa("".concat(t,"::").concat(r,"::").concat(o))}return Rc[a]?Promise.resolve(Rc[a]):Ic(jc,{body:JSON.stringify(i)}).then((function(e){return Pn(e)?e.json().then((function(e){if(D(e)&&D(e.data)){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cc(Object(n),!0).forEach((function(t){wc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.data),n=t.within_limits,i=t.min_amount,c=t.max_amount,u=t.currency;return Object.defineProperty(Rc,a,{value:{within_limits:n,min_amount:i,max_amount:c,currency:u},configurable:!0}),Rc[a]}return Promise.reject([Pc,o,r])})):Promise.reject([Pc,o,r])}))}))}function Dc(e){var t,n=this;e=N(e)?e:S,t=function(t,r){var o=ed.dispatch,a=function(e){o(Ee.actions.updateErrorMessage(e))},i=U(ed.getState(),"method.current");-1===["mobilemoneytanzania"].indexOf(i)&&(o(Ua.actions.on()),o(nc.actions.updateBackgroundProcessing(!0))),Nc().then((function(t){var r=t.within_limits,i=t.min_amount,c=t.max_amount,u=t.currency;o(Ee.actions.updateErrorMessage());var l=U(ed.getState(),"method.current");if(!0===r)e();else if("mobilemoneytanzania"===l){var s=n.INIT_VIEW;c=+c,i=+i,Number.isFinite(c)&&Oc>c?a("dynamic.limit.exceed.error ".concat(new Ki(c,u))):Number.isFinite(i)&&Oc<i?a("dynamic.limit.below.error ".concat(new Ki(i,u))):Number.isFinite(i)&&Number.isFinite(c)?a("dynamic.limit.range.error ".concat(new Ki(i,u)," dynamic.limit.range.to ").concat(new Ki(c,u))):a("limit.default.error"),s()}else Ec&&Ec.activate.call(n,(function(){c=+c,i=+i,Number.isFinite(c)&&Oc>c?a("dynamic.limit.exceed.error ".concat(new Ki(c,u))):Number.isFinite(i)&&Oc<i?a("dynamic.limit.below.error ".concat(new Ki(i,u))):Number.isFinite(i)&&Number.isFinite(c)?a("dynamic.limit.range.error ".concat(new Ki(i,u)," dynamic.limit.range.to ").concat(new Ki(c,u))):a("limit.default.error")}))}),(function(t){return e(),t instanceof DOMException&&"AbortError"==t.name?void 0:r(t)})).finally((function(){return o(nc.actions.updateBackgroundProcessing(!1)),o(Ua.actions.off()),t()}))},new Promise((function(e,n){return N(t)?t(e,n):e()}))}function Mc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||$c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $c(e,t){if(e){if("string"==typeof e)return Lc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lc(e,t):void 0}}function Lc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Uc=Object.create(null),Vc="https://api.ravepay.co".concat("/v3/checkout/fee"),Fc=Nn((Tc=yt.one.limit(3).init(Rn)).retry.apply(Tc,function(e){return function(e){if(Array.isArray(e))return Lc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||$c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(jn)).timeout(In)),Bc=function(){var e=new Error("FETCH_FEE_FAILED");return e.name="ERR_FETCH_FEE_FAILURE",Object.freeze(e)}();function Hc(e){return yo().then((function(t){var n=t.currency,r=U(ed.getState(),"method.current"),o=U(ed.getState(),"view.context.inputs['network'].value")?U(ed.getState(),"view.context.inputs['network'].value").identifier:"MTN",a=U(ed.getState(),"view.context.inputs['country'].value")?U(ed.getState(),"view.context.inputs['country'].value").code:"";if("card"===r){var i=!0===U(t,"preferences[can_switch_to_paymob]");"EGP"===n&&(i?r="paymob":!i&&e&&/^\d{6}$/.test(e)&&(r=e)),e&&/^\d{6}$/.test(e)&&(r=e)}"1voucher"===r&&(r="flashvoucher"),Sc||(Sc=t.amount);var c=Sc,u=btoa("".concat(n,"::").concat(r)),l={amount:c,currency:n,payment_method:r,public_key:t.PBFPubKey,checkout_id:t.modalauditid};if("mobilemoneytanzania"===r&&(l.network=U(t,"mobilemoney_network")||null,l.payment_method="MOBILEMONEY"),["mobilemoneyghana","mobilemoneyfranco","mobilemoneytanzania","mobilemoneyzambia"].includes(r)){var s=U(ed.getState(),"view.context.inputs['network'].value"),f=U(ed.getState(),"view.context.inputs['country'].value");switch(o=s.identifier,l.network=s.identifier||U(t,"mobilemoney_network")||null,r){case"mobilemoneyghana":l.country="GH",a="GH";break;case"mobilemoneyfranco":l.country=f.code||U(t,"country")||null,a=f.code;break;case"mobilemoneytanzania":l.country="TZ",a="TZ";break;case"mobilemoneyzambia":l.country="ZM",a="ZM"}u=btoa("".concat(n,"::").concat(r,"::").concat(o,"::").concat(a))}return Uc[u]?Promise.resolve(Uc[u]):Fc(Vc,{body:JSON.stringify(l)}).then((function(e){return Pn(e)&&e.ok?e.json().then((function(e){if(D(e)&&D(e.data)){var t,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kc(Object(n),!0).forEach((function(t){xc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.data),a=o.charge_amount,i=o.dcc;if(U(ed.getState(),"campaign")&&Object.keys(U(ed.getState(),"campaign")).length>0){var c=U(ed.getState(),"campaign").discounted_value,l=parseFloat(a)-parseFloat(Sc);t=parseFloat(Sc)-parseFloat(c)+parseFloat(l)}else t=a;return Object.defineProperty(Uc,u,{value:{charge_amount:t.toFixed(2),dcc:i}}),Uc[u]}return Promise.reject([Bc,n,r])})):Promise.reject([Bc,n,r])}))}))}function Gc(e){var t;t=function(t,n){var r=ed.dispatch;r($a.actions.updateInfo({amountUpdate:!0})),Hc(e).then((function(e){r(Ce.actions.updateChargeAmount(e)),t(e),r($a.actions.updateInfo({amountUpdate:!1}))}),(function(t){var o=Mc([].concat(t),3),a=o[0],i=o[1],c=o[2],u=Sc;if(c===e){var l=btoa("".concat(i,"::card"));u=Uc[l]||Sc}var s=U(ed.getState(),"campaign").discounted_value;u&&"number"==typeof u&&(u=(u-s).toFixed(2)),r(Ce.actions.updateChargeAmount(u)),n(a),r($a.actions.updateInfo({amountUpdate:!1}))}))},new Promise((function(e,n){(P(Ac)?Promise.resolve(Ac):yo().then((function(e){return Ac=!U(e,"preferences[merchant_bears_fees]")}))).then((function(r){t(e,n)})).finally(e)}))}function zc(){var e=this.$charge;return zc=na({NAME:"NQR_INIT_VIEW",next:function(){e.init()}}).call(this)}function Wc(){var e=this,t=this.$charge,n=this.$timer,r={onBegin:function(){n.start()},onCancel:function(){r.onComplete()},onSuccessful:function(){Da&&Da.activate.call(e)},onComplete:function(){n.clear(),e.QR_CODE=null}};return Wc=na({NAME:"NQR_CODE_VIEW",mutables:{timerCurrent:"CURRENT_TIME"},constants:{get qrcode(){return e.QR_CODE},instruction:"Scan the QR Code below on your bank's mobile app to complete the payment"},next:function(){t.poll(r)}}).call(this)}var Kc="$0x1",qc="$0x2",Yc="$0x3";var Zc=Object.freeze(M(Object.create(null),{valueOf:function(){return this.time},toString:function(){return e=this.time,t=Math.max(0,+e||0),[Math.floor(t/60),t%60].map((function(e){return"00".concat(e||0).slice(-2)})).join(":");var e,t},countdownTick:function(){return this.time>0?Xc(--this.time):this}}));function Qc(e){return(Qc=function(e){return Math.ceil(e/7.8125)/128}).call(this,e)}function Jc(e){return Math.max(0,+e||0)}function Xc(e){var t,n=Object.create(Zc);return Object.freeze(V.call(n,{time:{getter:function(){return t},setter:function(e){t=Jc(e)}}}),n.time=e)}function eu(e){var t,n,r,o=D(e)?e:(t={},n=(N(e)?"callback":P(e)&&"autostart")||"duration",r=e,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t),a=o.callback,i=o.duration,c=o.autostart,u=void 0!==c&&c;return M(Object.create(null),{autostart:!0===u,callback:x(a),duration:Jc(Math.ceil(parseFloat(i)))})}function tu(e){var t,n,r=D(e)?e:{},o=r.create,a=r.release,i=r.elapsed;return[o,a,i].every(N)?{invisible:function(){!function(){t||(t="__".concat(btoa(String(Math.random())).replace(/[+=\/]/g,"").slice(-3),"__"));o(t,n=Date.now())}(),dispatchEvent(new CustomEvent(Yc,{bubbles:!1,cancelable:!1}))},visible:function(){var e,r,o,c=+i(t,Date.now());if(c){var u=Object.create(V((o=function(){return c},(r=Kc)in(e={})?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e),!0));Object.freeze(M(u,{exact:c,seconds:Qc(c),timestamp:n})),dispatchEvent(new CustomEvent(qc,{detail:u,bubbles:!1,cancelable:!1}))}!function(){t&&a(t,Date.now());t=n=void 0}()}}:{invisible:S,visible:S}}var nu,ru=!0,ou=ie.performance&&tu({create:function(e){return performance.mark(e)},release:function(e){return performance.clearMarks(e)},elapsed:function(e){var t=performance.getEntriesByType("mark").filter((function(t){return t.name===e}))[0];if(t)return performance.now()-t.startTime}})||ie.localStorage&&tu({create:function(e,t){return localStorage.setItem(e,t)},release:function(e){return localStorage.removeItem(e)},elapsed:function(e,t){var n=localStorage.getItem(e);if(n)return t-n}})||tu({create:function(e,t){nu=t},release:function(){nu=void 0},elapsed:function(e,t){if(nu)return t-nu}}),au=ou.invisible,iu=ou.visible,cu=function(){ru&&(ru=!1,au())},uu=function(){!ru&&(ru=!0,iu())},lu=function(e){return e?"".concat(e,"Hidden"):"hidden"},su=function(){for(var e=0,t=["moz","ms","o","webkit"];e<t.length;e++){var n=t[e];if(lu(n)in document)return n}return null}(),fu=lu(su),du="".concat(su||"","visibilitychange");function pu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mu(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function hu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bu(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=yu(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function yu(e,t){if(e){if("string"==typeof e)return vu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vu(e,t):void 0}}function vu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}document.addEventListener(du,(function(){return(document[fu]?cu:uu)()}),!1),document.addEventListener("focus",uu,!1),document.addEventListener("blur",cu,!1),window.addEventListener("focus",uu,!1),window.addEventListener("blur",cu,!1);var gu=function(){var e=new Set,t=Symbol("subscription_callback"),n=Object.freeze(M(Object.create(null),{unsubscribe:function(){var n=this[t];n&&e.has(n)&&e.delete(n)}}));function r(){var t=!1,n=function(){t=!0};return(r=function(){t=!1;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];var i,c=bu(e.values());try{for(c.s();!(i=c.n()).done;){var u=i.value;if(!0===t)break;try{N(u)&&u.apply(void 0,o.concat([n]))}catch(e){console.error(e)}}}catch(e){c.e(e)}finally{c.f()}}).apply(void 0,arguments)}return[r,function(r){return N(r)&&e.add(r),Object.freeze(Object.create(n,hu({},t,{value:r})))},function(e){(function(e){if(D(e))try{return N(Object.getPrototypeOf)?Object.getPrototypeOf(e):U(e,"__proto__")||U(e,"constructor.prototype")}catch(e){}})(e)===n&&e.unsubscribe()}]}(),Ou=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||yu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(gu,3),_u=Ou[0],Eu=Ou[1],Cu=Ou[2];addEventListener(qc,(function(e){var t=e.detail;if(D(t)&&e.target===self){var n=t.exact,r=mu(t,["exact"]);n&&n===t.$0x1&&_u(Object.freeze(M(Object.create(null),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pu(Object(n),!0).forEach((function(t){hu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({exact:n},r))))}}));var wu=Object.freeze(M(Object.create(null),{registerCallback:Eu,unregisterCallback:Cu}));function Tu(e){var t=D(e)?e:{},n=t.tick,r=t.updater;return function(e){if(!N(n))return!1;var t=null,o=0,a=0,i=!1,c=!1,u=eu(e),l=u.callback,s=u.duration,f=u.autostart;function d(){function e(e){if(!0!==c){var t=(D(e)?e:{}).seconds,n=void 0===t?0:t,r=Math.floor(n);o+=r,a=setTimeout(u,1e3*(n-r)),c=!0}}function u(){i||(f(),++o&&!0===n({current:o,duration:s})?a=setTimeout(u,1e3):(h(),i=!0,l()))}function f(){if(N(r))return(f=function(){return r({current:o,duration:s})})()}return(d=function(){e(),t=wu.registerCallback(e),addEventListener(Yc,p)}).call(this)}function p(){a&&clearTimeout(a),a=0,c=!1}function m(e){if(!i)return e=Jc(Math.ceil(e)),s+=e,e}function h(){if(!i)return!1!==c&&(t&&wu.unregisterCallback(t),t=null,removeEventListener(Yc,p),p()),!0}function b(){if(!i&&!0!==c)return d(),!0}s=s||60;var y=M(Object.create(null),{pause:function(){return h.apply(void 0,arguments)||!1},play:function(){return b.apply(void 0,arguments)||!1},stop:function(){return!!h.apply(void 0,arguments)&&(i=!0)},extend:function(){var e=m.apply(void 0,arguments);return null==e?null:e}});return V.call(y,{ticking:function(){return!!a}}),f&&b(),y}}function Au(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Su(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Au(Object(n),!0).forEach((function(t){Ru(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Au(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ru(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ju(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Iu(e){function t(e){var t=D(this)?this:{};return Tu({tick:function(e){return e.current<=e.duration},updater:function(e){var n=e.current,r=Jc(e.duration-n);t.callbacks&&t.callbacks.forEach((function(e){return e(r)}))}})(e)}return Iu=function(e){var n,r=[],o=eu(e);n=o.callback,e=Su(Su({},e=ju(o,["callback"])),{},{callback:function(){r.length=0,r=void 0,n()}});var a=t.call(V({callbacks:function(){return r}}),e);if(D(a))return M(a,{addTickCallback:function(e){var t=N(e);return t&&(r=H(r,e)),t},removeTickCallback:function(e){var t=r&&r.indexOf(e)>=0;return t&&(r=G(r,e)),t}});return null},Iu(e)}function Pu(e){var t,n,r=D(e)?e:{},o=r.duration,a=r.onClear,i=r.onContinue,c=r.onExtend,u=r.onFinish,l=r.onHalt,s=r.onStart,f=r.onTick;function d(e){f(n=Xc(e))}function p(){t=void 0,u()}o=Xc(o),a=x(a),i=x(i),c=x(c),u=x(u),l=x(l),s=x(s),f=x(f);var m=Object.freeze(M(Object.create(null),{clear:function(){var e=!1;try{(e=Boolean(D(this.$timer)&&this.$timer.stop()))&&(t=void 0,n=null,a())}finally{return e}},extend:function(e){var t=!1;try{e=Math.min(Jc(Math.ceil(e)),this.duration.time),(t=Boolean(D(this.$timer)&&e&&(e=this.$timer.extend(e))))&&c(Xc(e))}catch(e){console.error(e)}finally{return t}},halt:function(){var e=!1;try{(e=Boolean(D(this.$timer)&&this.$timer.pause()))&&l()}finally{return e}},start:function(){var e=!1,n=s;if(D(this.$timer)){if(this.$timer.ticking)return!1;n=i}else(t=Iu({callback:p,duration:this.duration.time})).addTickCallback(d);try{(e=Boolean(this.$timer.play()))&&n()}finally{return e}}}));return Object.freeze(V.call(Object.create(m),{$timer:function(){return t},current:function(){return n},duration:function(){return o}}))}function Nu(e,t){if(!D(e)||!Object.isExtensible(e))throw new Error("Cannot setup countdown timer without appropriate context object.");var n=D(t)?t:{},r=n.duration,o=n.onClear,a=n.onContinue,i=n.onExtend,c=n.onFinish,u=n.onHalt,l=n.onStart,s=n.onTick;return M(e,{$timer:Pu({duration:r,onClear:o=x(o),onContinue:a=x(a),onExtend:i=x(i),onFinish:c=x(c),onHalt:u=x(u),onStart:l=x(l),onTick:s=x(s)})})}var Du=Nn(yt.many.init(Rn)),Mu=new URL("/v2/nqr/cancel","https://api.ravepay.co"),ku=[zc,Wc];var xu=Object.freeze({__proto__:null,METHOD:"nqr",METHOD_NAME:"NQR",CHARGE_MODE:8,VIEWS:ku,mount:function(){var e=this;return function(t){Dc.call(e,(function(){var t=e.QR_CODE&&(Wc||(e.QR_CODE=null))||zc;t&&t.activate((function(){return e.startListeningForCancellation()}))})),Gc()}},getChargeData:function(){return{is_nqr:!0,payment_type:"nibss-qr"}},getViewsContext:function(e,t){var n=ur.apply(void 0,[Object.create(null)].concat(["QR_CODE","CURRENT_TIME"])),r=!1,o=function(){a(),i()},a=function(){!0===r&&(removeEventListener(za,o,!1),removeEventListener(Ga,o,!1),r=!1)},i=function(){if("NQR_CODE_VIEW"===U(n.STATE,"view.current")){var t=U(e,"PBFPubKey"),r=(D(n.reference)?n.reference:{}).charge,o=void 0===r?null:r,a=JSON.stringify({public_key:t,reference:o});return Du(Mu,{body:a}).then((function(e){return Pn(e)?e.json().then((function(e){"success"===e.status&&n.$resetContext()})):Promise.reject()})).catch(rr)}};return n.$subscribe("QR_CODE",(function(e,t){setTimeout((function(){!t&&e&&t!==e&&Wc&&Wc.activate()}),0)})),M(n,{TIMER_DURATION:300,$resetContext:function(){n.QR_CODE=null},startListeningForCancellation:function(){!0!==r&&(addEventListener(za,o,!1),addEventListener(Ga,o,!1),r=!0)},stopListeningForCancellation:a,INIT_VIEW:function(e){zc&&zc.activate(e)}}),Nu(n,{duration:300,onTick:function(){n.CURRENT_TIME=n.$timer.current},onFinish:function(){n.$charge.cancel()&&(n.$timer&&n.$timer.clear(),n.CURRENT_TIME=null,n.$resetContext(),a(),setTimeout((function(){Ee.actions.updateErrorMessage(""),rc&&rc.activate.call(n)}),10))}})}});function $u(e){return function(e){if(Array.isArray(e))return Gu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Hu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lu(Object(n),!0).forEach((function(t){Fu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vu(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Fu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||Hu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hu(e,t){if(e){if("string"==typeof e)return Gu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gu(e,t):void 0}}function Gu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zu,Wu=Object.freeze(j(null)),Ku=Function.prototype.call.bind(Object.prototype.hasOwnProperty),qu="SWITCH";function Yu(e){var t=Object.create(null),n=D(e)?e:{},r=n.available,o=n.persists,a=n.required,i=[r,o,a].map((function(e){return N(e)?function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=!P(t)||t,e=x(e),function(){return L(e(),t)}}(e):j(L(e,!0))})),c=Bu(i,3);return r=c[0],o=c[1],a=c[2],V.call(t,{available:r,persists:o,required:a})}function Zu(e){var t=e=D(e)?e:{},n=t.key,r=t.parser,o=t.propagate;if(n=n&&I(n)?n:null,r=x(r,R),o=x(o,S),n){var a=Yu(e),i=c();return V.call(a,{type:function(){return"PLAIN"},defaultValue:c,value:{getter:function(){return i},setter:function(e){var t=i;try{(null===e&&t!==e||t!==(e=r(e)))&&(t=null==e?null:e),i!==t&&o(i=t)}catch(e){i=null,o(e)}}}},!1),M(Object.create(null),Fu({},n,Object.freeze(a)))}throw new Error("Cannot setup input field without appropriate label.");function c(){try{return r(e.defaultValue)}catch(e){return null}}}function Qu(e){var t=e=D(e)?e:{},n=t.key,r=t.propagate;if(n=n&&I(n)?n:null,r=x(r,S),n){var o=Yu(e),a=i();return V.call(o,{type:function(){return qu},defaultValue:i,value:{getter:function(){return a},setter:function(e){var t=a;t=null==e?this.defaultValue:!t,a!==t&&r(a=t)}}}),M(Object.create(null),Fu({},n,Object.freeze(o)))}throw new Error("Cannot setup switch input field without appropriate label.");function i(){try{return L(e.defaultValue,!1)}catch(e){return!1}}}function Ju(e){var t,n,r=e=D(e)?e:{},o=r.key,a=r.propagate;if(o=o&&I(o)?o:null,a=x(a,S),o){var i=Yu(e),c=s();return V.call(i,{type:function(){return"SELECTION"},options:u,defaultValue:s,value:{getter:function(){return c},setter:function(e){var t=c;try{(null===e&&t!==e||t!==(e=l(e)))&&(t=e),c!==t&&a(c=t)}catch(e){c=null,a(e)}}}}),M(Object.create(null),Fu({},o,Object.freeze(i)))}throw new Error("Cannot setup selection input field without appropriate label.");function u(){return t&&t===e.options?n:n=[].concat(t=e.options).filter(Boolean)}function l(t){var n=u(),r=x(e.selector,Wu);return n.indexOf(t)>=0||n.indexOf(t=r(t))>=0?t:null}function s(){var t=u();return 1===t.length?t[0]:l(e.defaultValue)}}function Xu(e,t){if(!D(e)||!Object.isExtensible(e))throw new Error("Cannot setup input fields without appropriate context object.");var n=Object.create(null),r=Object.create(null),o=function(e,t){var n=[t][0],r=null;if(t instanceof Error){var o=[r,n];n=o[0],r=o[1]}var i=a[e];i.value,i.defaultValue,i.available,i.persists;var c=Vu(i,["value","defaultValue","available","persists"]),u=M(Object.create(null),Uu({value:n},c));return r&&M(u,{error:r}),u},a=D(t)?Object.keys(t).reduce((function(a,i){var c,u,l,s=t[i];return s=D(s)?s:{defaultValue:N(s)?s.call(e):s},I(i)&&Object.isExtensible(s)&&(s.key=i,s.propagate=r[i]=(l=o.bind(null,i),function(e){c&&clearTimeout(c),u=l(e),c=setTimeout((function(){n[i]=u,c&&clearTimeout(c),c=void 0}),0)}),a=Uu(Uu({},a),(Ku(s,"options")?Ju:P(s.defaultValue)?Qu:Zu)(s))),a}),Object.create(null)):Object.create(null);return ur.apply(void 0,[n].concat($u(Object.keys(a)))),Object.keys(r).forEach((function(e){x(r[e])(a[e].defaultValue)})),Object.defineProperties(n,{$available:{value:function(e){return Ku(a,e)&&!1!==a[e].available}},$refresh:{value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];(t.length?t:Object.keys(a)).forEach((function(e){if(Ku(a,e)){var t=a[e];t.type!==qu&&(t.value=t.value),x(r[e])(t.value)}}))}},$reset:{value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];(t.length?t:Object.keys(a)).forEach((function(e){if(Ku(a,e)){var t=a[e],n=t.defaultValue;t.value!==n&&(t.value=n)}}))}},$update:{value:function(e,t){Ku(a,e)&&(a[e].value=t)}}}),M(e,{$inputs:n})}function el(){var e=this,t=this.$inputs;function n(){var t=(D(e.authModel)?e.authModel:{}).auth;return"AVS"===t||"PIN"===t?t:null}return el=na({NAME:"CARD_AUTH_VIEW",inputs:["pin","billing_address","billing_city","billing_country","billing_state","billing_zip","card_holder_name","phonenumber"],constants:{get auth(){return n()},get cardNumber(){var e=U(t,"[card_number].value");return I(e)?e.replace(/^\d+?(\d{4})$/,(function(e,t){return"**** ".concat(t)})):e}},next:function(){n()&&ll.call(e)}}).call(this)}function tl(){var e=D(this)?this:Object.create(null);return na({NAME:"PLACEHOLDER_VIEW"}).call(e)}function nl(){var e=this,t=this.$charge,n=this.INIT_VIEW,r=this.$inputs,o=this.dispatch,a=function(){ic(!0===U(e.DATA,"preferences[should_redirect_on_fail]"),xa,n,e)},i=function(){r.$reset("saved_card")},c=function(){var t=this,n=U(this,"validation_code"),i=U(this,"message.validation"),c=/^5[1-5]/.test(U(r,"[card_number].value")),u=sn.get("custom_retry")||null;if(c&&!(/insufficient/i.test(i)||["RR-59"].indexOf(n)>=0)&&null===u)setTimeout((function(){return ll.call(e,U(t,"reference.transaction"))}),0);else{a();var l="".concat(-1===i.indexOf("We could not charge this card. Reason")?"We could not charge this card. Reason: ":"").concat(i);setTimeout((function(){return o(Ee.actions.updateErrorMessage(l))}),100)}};return nl=na({NAME:"CARD_OTP_VIEW",inputs:["otp"],constants:{resendOTP:function(){return!0===e.CAN_RESEND_OTP?tl&&tl.activate((function(){return(e.SAVED_CARDS_ACTIVE?sl:ll).call(e)})):Promise.resolve(!1)}},mutables:{canResendOTP:"CAN_RESEND_OTP"},next:function(){var n=(D(e.reference)?e.reference:{}).charge,o=void 0===n?null:n,u=U(r,"[otp].value");if(u)if(e.SAVED_CARDS_ACTIVE&&e.useOldSavedCardFlow){var l=U(e.$savedCards,"device.phone"),s=U(r,"[saved_card].value"),f=s.hash;t.init({data:{otp:u,card_hash:f,device_key:l,is_visa:"VISA"===s.brand,is_saved_card_charge:!0,include_card_country:!0,payment_type:"saved-card"},onError:i,onChargeFailed:i})}else t.validate({data:{otp:u,transaction_reference:o},onError:a,onValidateFailed:c,onValidateSuccessful:function(){Da&&Da.activate.call(e)},onComplete:function(){e.clearResendTimer()}})}}).call(this)}function rl(){var e=this,t=this.$charge,n=this.INIT_VIEW,r=this.$inputs,o=this.dispatch,a=function(){ic(!0===U(e.DATA,"preferences[should_redirect_on_fail]"),xa,n,e)},i=function(){r.$reset("saved_card")},c=function(){var t=this,n=U(this,"validation_code"),i=U(this,"message.validation"),c=/^5[1-5]/.test(U(r,"[card_number].value")),u=sn.get("custom_retry")||null;if(c&&!(/insufficient/i.test(i)||["RR-59"].indexOf(n)>=0)&&null===u)setTimeout((function(){return ll.call(e,U(t,"reference.transaction"))}),0);else{a();var l="".concat(-1===i.indexOf("We could not charge this card. Reason")?"We could not charge this card. Reason: ":"").concat(i);setTimeout((function(){return o(Ee.actions.updateErrorMessage(l))}),100)}};return rl=na({NAME:"CARD_MOBILE_NUMBER_VIEW",inputs:["otp"],constants:{get instructions(){return e.COLLECT_MOBILE_INSTRUCTIONS}},mutables:{},next:function(){var n=(D(e.reference)?e.reference:{}).charge,o=void 0===n?null:n,u=U(r,"[otp].value");if(u)if(e.SAVED_CARDS_ACTIVE&&e.useOldSavedCardFlow){var l=U(e.$savedCards,"device.phone"),s=U(r,"[saved_card].value"),f=s.hash;t.init({data:{otp:u,card_hash:f,device_key:l,is_visa:"VISA"===s.brand,is_saved_card_charge:!0,include_card_country:!0,payment_type:"saved-card"},onError:i,onChargeFailed:i})}else t.validate({data:{otp:u,transaction_reference:o},onError:a,onValidateFailed:c,onValidateSuccessful:function(){Da&&Da.activate.call(e)},onComplete:function(){e.clearResendTimer()}})}}).call(this)}function ol(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return al(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return al(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function al(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function il(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?il(Object(n),!0).forEach((function(t){ul(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):il(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ul(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ll(e){var t=this,n=this.$charge,r=this.$inputs,o=D(t.authModel)?t.authModel:{},a=o.auth,i=o.suggested_auth,c=void 0===i?null:i,u={};if("PIN"===a){var l=U(r,"[pin].value");if(!l||!/^\d{4}$/.test(l))return;u=cl(cl({},u),{},{pin:l,suggested_auth:c})}if("AVS"===a){var s=U(r,"[billing_address].value"),f=U(r,"[billing_city].value"),d=U(r,"[billing_country].value.sortname"),p=U(r,"[billing_state].value"),m=U(r,"[billing_zip].value"),h=U(r,"[card_holder_name].value")||null,b=U(r,"[phonenumber].value")||null;if(!(s&&f&&d&&p&&m&&h&&b))return;u=cl(cl({},u),{},{billingaddress:s,billingcity:f,billingcountry:d,billingstate:p,billingzip:m,cardholdername:h,phonenumber:b,suggested_auth:"AVS_NOAUTH"})}var y=U(r,"[expiry].value"),v=U(r,"[cvv].value")||null,g=U(r,"[card_number].value")||null,O=ol(I(y)?y.trim().split(/\s*\/\s*/):String(),2),_=O[0],E=void 0===_?null:_,C=O[1],w=void 0===C?null:C;if(g&&v&&E&&w){u=cl(cl({},u),{},{cardno:g,cvv:v,expirymonth:E,expiryyear:w});var T=!0===U(r,"[remember_card].value");if(e&&(u=cl(cl({},u),{},{retry_charge:e})),T){var A=U(r,"[remember_email].value")||null,S=U(r,"[remember_phone].value")||null;A&&S?(ie.localStorage&&S&&localStorage.setItem("device_mobile_key",S),u=cl(cl({},u),{},{remember_device:T,remember_device_email:A,remember_device_mobile_key:S})):u=null}if(u){var R=function(){return setTimeout((function(){fl&&fl.activate.call(t)}),0)};t.CAN_RESEND_OTP=!1,n.init({data:u,onError:R,onFailed:R,onChargeFailed:function(){return setTimeout((function(){t.authModel=null,r.$reset()}),0)},onRequireSuggestedAuth:function(){var e=D(this)?this:{},n=e.auth,r=e.suggested_auth;t.authModel={auth:n,suggested_auth:r},el&&el.activate()},onRequireValidation:function(){var e=U((D(this)?this:{}).data,"chargeResponseMessage");e.includes("Kindly enter the mobile no registered with your bank")?(t.COLLECT_MOBILE_INSTRUCTIONS=e,rl&&rl.activate()):(t.SHOULD_VALIDATE_CHARGE=!1,t.SHOULD_VALIDATE_CHARGE=!0)}})}}}function sl(){var e=this.DATA,t=this.$charge,n=this.$inputs,r=this.dispatch,o=this.useOldSavedCardFlow,a=this.startResendTimer,i=U(n,"[saved_card].value");if(D(i)){var c=i.hash,u=U(this.$savedCards,"device.phone");o?nl&&nl.activate((function(){r(Ee.actions.updateErrorMessage()),n.$reset("otp"),Vi(new URL("/v2/gpx/users/send_otp","https://api.ravepay.co"),{body:JSON.stringify({card_hash:c,device_key:u,public_key:U(e,"PBFPubKey"),modalauditid:U(e,"modalauditid")})}).then((function(e){if(Pn(e)&&e.ok)return e.json().then((function(e){var t=D(e)?e:{},n=t.message;return"success"===t.status&&"OTP-SENT"===n&&(a(),!0)}))})).catch(rr)})):t.init({data:{card_hash:c,device_key:u,is_visa:"VISA"===i.brand,is_saved_card_charge:!0,include_card_country:!0,payment_type:"saved-card",otp:String(1e5*Math.random()).split("").reverse().join("").replace(/^\d+(?=\d{6})|\.\d+$/g,"")}})}}function fl(){var e=this;return fl=na({NAME:"CARD_INIT_VIEW",inputs:["card_number::cardnumber","expiry","cvv","remember_card::remember","remember_phone::rememberPhone","remember_email::rememberEmail","saved_card::savedcard"],constants:{removeSavedCard:function(t){return e.SAVED_CARDS_ACTIVE&&e.SAVED_CARDS_AVAILABLE?e.$savedCards.remove(t):Promise.resolve(!1)},removeCardType:function(){return e.resetCardType()}},mutables:{hasSavedCard:"SAVED_CARDS_AVAILABLE",useSavedCard:"SAVED_CARDS_ACTIVE",$cards:"SAVED_CARDS",cardType:"CARD_TYPE"},next:function(){return(e.SAVED_CARDS_ACTIVE?sl:ll).call(e)},switch:function(){e.SAVED_CARDS_ACTIVE=!!e.SAVED_CARDS_AVAILABLE&&!e.SAVED_CARDS_ACTIVE}}).call(this)}function dl(){var e=this.$charge,t=this.$inputs;return dl=na({NAME:"PAYMOB_INIT_VIEW",inputs:["billing_zip","billing_city","billing_address","billing_state","billing_country","card_holder_name","phonenumber"],next:function(){var n={},r=U(t,"[billing_zip].value"),o=U(t,"[billing_city].value"),a=U(t,"[billing_address].value"),i=U(t,"[billing_state].value"),c=U(t,"[billing_country].value.sortname"),u=U(t,"[card_holder_name].value"),l=U(t,"[phonenumber].value");a&&r&&o&&i&&c&&u&&l&&(n={billingaddress:a,billingcity:o,billingcountry:c,billingstate:i,billingzip:r,card_holder_name:u,phonenumber:l},e.init({data:n}))}}).call(this)}function pl(){var e=D(this)?this:Object.create(null);return na({NAME:"REDIRECT_VIEW",constants:{get resetView(){return"enaira"===U(e,"STATE.method.current")&&e.cancelOption||null}},next:function(){var t,n,r=U(e,"STATE.method.current");t=r,n=r,"enaira"===r&&(n="".concat(t," ").concat(U(e.$inputs.eNairaPaymentOption,"value.name"))),ko.customerOpenedRedirectURL(t,n),x(U(e.$charge,"redirect"))()}}).call(e)}function ml(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yl=Object.create(null),vl=Nn((zu=yt.one.limit(3)).retry.apply(zu,function(e){return function(e){if(Array.isArray(e))return bl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return bl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(jn)).timeout(In));function gl(e,t){var n=U(e,"DATA.currency"),r=btoa("".concat(n,"::").concat(t));return yl[r]?Promise.resolve(yl[r]):vl(new URL("v2/cardbin?cardbin=".concat(t,"&public_key=").concat(U(e,"DATA.PBFPubKey")),"https://api.ravepay.co")).then((function(e){if(Pn(e)&&e.ok)return e.json().then((function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ml(Object(n),!0).forEach((function(t){hl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ml(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.data),n=t.card_type;return Object.defineProperty(yl,r,{value:{card_type:n}}),yl[r]}))})).catch(rr)}var Ol=[fl,el,dl,rl,nl];var _l=Object.freeze({__proto__:null,METHOD:"card",METHOD_NAME:"Card",CHARGE_MODE:7,VIEWS:Ol,mount:function(){var e=this;return function(t){Dc.call(e,(function(){var t=U(e.STATE,"currency.current"),n=!0===U(e.DATA,"preferences[can_switch_to_paymob]"),r=e.REDIRECT_URL&&(pl||e.$resetContext())||e.SHOULD_VALIDATE_CHARGE&&(nl||e.$resetContext())||e.COLLECT_MOBILE_INSTRUCTIONS&&(rl||e.$resetContext())||e.authModel&&(el||e.$resetContext())||"EGP"===t&&n&&dl||fl;r&&r.activate.call(e,(function(){r===fl&&e.$savedCards.fetch()}))})),Gc()}},getChargeData:function(){if(!this.SHOULD_VALIDATE_CHARGE){var e=U(this.STATE,"currency.current"),t=!0===U(this.DATA,"preferences[can_switch_to_paymob]");return{include_card_country:!0,payment_type:"EGP"===e&&t?"paymob":"card"}}},getViewsContext:function(e,t){var n,r=U(e,"currency"),o=!0===U(e,"preferences[can_switch_to_paymob]"),a=M(Object.create(null),{useOldSavedCardFlow:!0===U(e,"preferences[use_old_saved_card_flow]"),$resetContext:function(){a.REDIRECT_URL=a.SHOULD_VALIDATE_CHARGE=a.COLLECT_MOBILE_INSTRUCTIONS=a.authModel=a.CARD_TYPE=null,a.$inputs.$reset()},INIT_VIEW:function(e){"EGP"===r&&o?dl&&dl.activate(e):fl&&(a.$resetContext(),fl.activate(e))},clearResendTimer:function(){n&&clearTimeout(n),n=null,a.CAN_RESEND_OTP=!1},startResendTimer:function(){a.clearResendTimer(),n=setTimeout((function(){return a.CAN_RESEND_OTP=!0}),9e4)}});return ur.apply(void 0,[a].concat(["CAN_RESEND_OTP","REDIRECT_URL","SAVED_CARDS","SAVED_CARDS_ACTIVE","SAVED_CARDS_AVAILABLE","SHOULD_VALIDATE_CHARGE","COLLECT_MOBILE_INSTRUCTIONS","CARD_TYPE"])),yr(a,(function(){a.SAVED_CARDS_ACTIVE=!1,a.SAVED_CARDS_AVAILABLE=!1,a.$savedCards.$subscribe((function(e,t){e!==t&&(a.SAVED_CARDS=e,a.SAVED_CARDS_AVAILABLE=!!(a.$savedCards.enabled&&a.SAVED_CARDS&&a.SAVED_CARDS.length>0),!a.SAVED_CARDS_AVAILABLE&&(a.SAVED_CARDS_ACTIVE=!1))}))})),Xu(a,{otp:null,pin:c(!0),billing_address:c(),billing_city:c(),billing_country:c(!1,{options:Kr,selector:qr.bind(a,Kr)}),billing_state:c(),billing_zip:c(),card_holder_name:u(),phonenumber:u(),card_number:i(),expiry:i(),cvv:i(),remember_card:i({defaultValue:!1,required:!1}),remember_email:i(2,U(e,"email")||null),remember_phone:i(2,U(e,"phone")||null),saved_card:i(1,{get options(){return a.SAVED_CARDS},get selector(){return br.bind(a,this.options)}})}),a.resetCardType=function(){a.CARD_TYPE=null},a.$subscribe("REDIRECT_URL",(function(e,t){setTimeout((function(){(!t||t!==e)&&e instanceof URL&&pl&&pl.activate.call(a)}),0)})),a.$subscribe("SHOULD_VALIDATE_CHARGE",(function(e,t){setTimeout((function(){t||t===e||!0!==e||(nl&&nl.activate(),a.startResendTimer())}),0)})),a.$subscribe("SAVED_CARDS_ACTIVE",(function(e,t){t!==e&&P(e)&&a.$inputs.$refresh("saved_card")})),a.$inputs.$subscribe("saved_card",(function(e,t){setTimeout((function(){t!==e&&l(U(e,"[value].masked_pan"))}),0)})),a.$inputs.$subscribe("card_number",(function(e,t){setTimeout((function(){t!==e&&l(U(e,"[value]"))}),0)})),a;function i(e,t){if(Number.isInteger(e)){var n=[t,e];e=n[0],t=n[1]}return t=+t||0,null==(e=D(e)?e:{defaultValue:e}).defaultValue&&(e.defaultValue=null),e.available=function(){var e=!0,n=a.SAVED_CARDS_ACTIVE;return e=e&&!!(1&t?n:!n&&(!(2&t)||U(a.$inputs,"[remember_card].value")))},e}function c(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return null==(t=t&&D(t)?t:{defaultValue:t}).defaultValue&&(t.defaultValue=null),t.available=function(){var t=!0;return t=(D(a.authModel)?a.authModel:{}).auth===(!0===e?"PIN":"AVS"),"EGP"===r&&(t=!0),t},t}function u(e){return null==(e=e&&D(e)?e:{defaultValue:e}).defaultValue&&(e.defaultValue=null),e.available=function(){var e=!1,t=(D(a.authModel)?a.authModel:{}).auth;return"EGP"!==r&&"AVS"!==t||(e=!0),e},e}function l(e){e&&(e=e.replace(/\s+/g,""))&&/^\d{6}/.test(e)&&(Gc(e.slice(0,6)),gl(a,e.slice(0,6)).then((function(e){a.CARD_TYPE=e?e.card_type:null})))}}});function El(){var e=this.$charge;return El=na({NAME:"PAGA_INIT_VIEW",constants:{hasBackAction:!1},next:function(){e.init({})}}).call(this)}var Cl=[El];var wl=Object.freeze({__proto__:null,METHOD:"paga",METHOD_NAME:"Paga",CHARGE_MODE:1,VIEWS:Cl,mount:function(){var e=this;return function(t){Dc.call(e,(function(){var t=e.REDIRECT_URL&&(pl||(e.REDIRECT_URL=null))||El;t&&t.activate.call(e)})),Gc()}},getChargeData:function(){return{payment_type:"paga"}},getViewsContext:function(e,t){var n=ur.apply(void 0,[Object.create(null)].concat(["REDIRECT_URL"]));return n.$subscribe("REDIRECT_URL",(function(e,t){setTimeout((function(){(!t||t!==e)&&e instanceof URL&&pl&&pl.activate.call(n)}),0)})),M(n,{$resetContext:function(){n.REDIRECT_URL=null},INIT_VIEW:function(e){El&&(n.$resetContext(),El.activate(e))}})}});function Tl(){var e=this,t=this.$inputs,n=this.$timer;return Tl=na({NAME:"USSD_CODE_VIEW",mutables:{ussdCode:"USSD_CODE",timerCurrent:"CURRENT_TIME"},constants:{hasBackAction:!0,instruction:"Dial the USSD code below on your mobile phone to complete the payment",get selectedBank(){return U(t,"[bank].value")},get timerDuration(){return n.duration}},back:function(){e.INIT_VIEW((function(){return t.$reset()}))}}).call(this)}function Al(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Sl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rl(){var e,t=this,n=this.$charge,r=this.$inputs,o=this.$timer;return Rl=na({NAME:"USSD_INIT_VIEW",inputs:["bank"],constants:{hasBackAction:!1,instruction:"Please choose your bank to begin payment"},next:function(){var a,i,c,u,l=U(r,"[bank].value.code");l&&(e===l&&t.USSD_CODE?Tl&&Tl.activate():(a=e=l,o&&o.clear(),n.init({data:{accountbank:a,accountnumber:"00000",orderRef:(i=Al(String(1e7*Math.random()).split("."),2),c=i[0],u=i[1],String().concat(Date.now(),c.substr(-3),u.substr(0,3)))}})))}}).call(this)}var jl=[Rl,Tl];var Il=Object.freeze({__proto__:null,METHOD:"ussd",METHOD_NAME:"USSD",CHARGE_MODE:0,VIEWS:jl,mount:function(){var e=this;return function(t){Dc.call(e,(function(){var t=e.USSD_CODE&&(Tl||(e.USSD_CODE=null))||Rl;t&&t.activate((function(){t===Tl&&e.CURRENT_TIME&&e.$charge.poll(e.pollConfig)}))})),Gc()}},getChargeData:function(){return{is_ussd:!0,payment_type:"USSD"}},getViewsContext:function(e,t){var n=U(e,"banks.ussd")||[],r=ur.apply(void 0,[Object.create(null)].concat(["CURRENT_TIME","USSD_CODE"]));return r.pollConfig={onBegin:function(){r.$timer.start()},onCancel:function(){r.pollConfig.onComplete()},onSuccessful:function(){Da&&Da.activate.call(r)},onComplete:function(){r.USSD_CODE=null,r.$timer.clear()}},r.$subscribe("USSD_CODE",(function(e,t){setTimeout((function(){!t&&t!==e&&e&&Tl&&Tl.activate((function(){r.$charge.poll(r.pollConfig)}))}),0)})),Xu(r,{bank:{options:n,selector:Gr.bind(r,n)}}),M(r,{TIMER_DURATION:300,INIT_VIEW:function(e){Rl&&(r.USSD_CODE=null,Rl.activate(e))}}),Nu(r,{duration:300,onClear:function(){r.$charge.cancel()},onTick:function(){r.CURRENT_TIME=r.$timer.current},onFinish:function(){r.USSD_CODE=null,r.$charge.cancel()&&(Rl&&Rl.activate(),setTimeout((function(){return r.dispatch(Ee.actions.updateErrorMessage("ussd.code.expiry.error",20))}),100))}})}});function Pl(){var e=this,t=this.$inputs,n=this.$timer;return e.pollConfig={onBegin:function(){n.start()},onCancel:function(){e.pollConfig.onComplete()},onSuccessful:function(){Da&&Da.activate.call(e)},onComplete:function(){n.clear(),e.mpesaOverrideTimeout&&clearTimeout(e.mpesaOverrideTimeout),e.mpesaPollingCompleted=!0}},Pl=na({NAME:"MPESA_CONFIRM_VIEW",mutables:{fallbackDetails:"FALLBACK_DETAILS",instruction:"MPESA_INSTRUCTION",secondaryInstruction:"MPESA_SECONDARY_INSTRUCTION",timerCurrent:"CURRENT_TIME"},constants:{hasBackAction:!1,get phone(){return U(t,"[phone].value")},get selectedNetwork(){return U(t,"[network].value")}}}).call(this)}function Nl(){var e=this,t=this.$charge,n=this.$inputs;return e.CAN_SWITCH_TO_CONFIRM=!1,Nl=na({NAME:"MPESA_INIT_VIEW",inputs:["network","phone"],mutables:{timerCurrent:"CURRENT_TIME"},constants:{hasBackAction:!1},next:function(){var r=U(n,"[network].value"),o=U(n,"[phone].value");o&&D(r)&&t.init({data:{phonenumber:o,network:r.identifier},onBegin:function(){e.mpesaOverrideTimeout&&clearTimeout(e.mpesaOverrideTimeout),e.mpesaOverrideTimeout=null,e.mpesaPollingCompleted=!1},onRequireValidation:function(){e.CAN_SWITCH_TO_CONFIRM=!0}})}}).call(this)}var Dl=[Nl,Pl];var Ml=Object.freeze({__proto__:null,METHOD:"mpesa",METHOD_NAME:"Mobile Money",CHARGE_MODE:1,VIEWS:Dl,mount:function(){var e=this;return function(t){Dc.call(e,(function(){Nl&&Nl.activate()})),Gc()}},getChargeData:function(){return{is_mpesa:!0,is_mpesa_lipa:!0,payment_type:"mpesa"}},getViewsContext:function(e,t){var n=U(e,"mobilemoney_networks[KE]"),r=ur.apply(void 0,[Object.create(null)].concat(["CURRENT_TIME","FALLBACK_DETAILS","MPESA_INSTRUCTION","MPESA_SECONDARY_INSTRUCTION","CAN_SWITCH_TO_CONFIRM"]));return r.$subscribe("CAN_SWITCH_TO_CONFIRM",(function(e,t){setTimeout((function(){t||t===e||!0!==e||"boolean"!=typeof e||Pl&&Pl.activate((function(){setTimeout((function(){r.$charge.poll(r.pollConfig)}),0)}))}))})),Xu(r,{phone:U(e,"phone")||null,network:{options:n,selector:Tr.bind(r,n),defaultValue:U(e,"mobilemoney_network")||null}}),M(r,{TIMER_DURATION:300,$resetContext:function(){r.FALLBACK_DETAILS=r.MPESA_INSTRUCTION=r.MPESA_SECONDARY_INSTRUCTION=r.CAN_SWITCH_TO_CONFIRM=null,r.mpesaOverrideTimeout&&clearTimeout(r.mpesaOverrideTimeout),r.mpesaOverrideTimeout=null,r.mpesaPollingCompleted=!1},INIT_VIEW:function(e){Nl&&(r.$resetContext(),Nl.activate(e))}}),Nu(r,{duration:300,onTick:function(){r.CURRENT_TIME=r.$timer.current},onFinish:function(){r.$charge.cancel()&&(r.$timer&&r.$timer.clear(),r.CURRENT_TIME=null,r.reference=null,r.$resetContext(),setTimeout((function(){Ee.actions.updateErrorMessage(""),rc&&rc.activate.call(r)}),10))}})}});function kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kl(Object(n),!0).forEach((function(t){$l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ll(){var e,t,n=this.$charge,r=(e=!1,t=null,function(){return!0!==e&&(e=!0)?yo().then((function(e){try{var n=e.billing_metadata;D(n)&&(t=Object.create(null),Object.keys(n).forEach((function(e){void 0!==n[e]&&(t[e]=n[e])})),Object.freeze(t))}catch(e){}return t})):t});return Ll=na({NAME:"PAYPAL_INIT_VIEW",constants:{hasBackAction:!1},next:function(){Promise.resolve(r()).then((function(e){n.init({data:D(e)?xl({},e):null})}))}}).call(this)}var Ul=[Ll];var Vl=Object.freeze({__proto__:null,METHOD:"paypal",METHOD_NAME:"Paypal",CHARGE_MODE:1,VIEWS:Ul,mount:function(){var e=this;return function(t){Dc.call(e,(function(){var t=e.REDIRECT_URL&&(pl||(e.REDIRECT_URL=null))||Ll;t&&t.activate.call(e)})),Gc()}},getChargeData:function(){return{payment_type:"paypal"}},getViewsContext:function(e,t){var n=ur.apply(void 0,[Object.create(null)].concat(["REDIRECT_URL"]));return n.$subscribe("REDIRECT_URL",(function(e,t){setTimeout((function(){(!t||t!==e)&&e instanceof URL&&pl&&pl.activate.call(n)}),0)})),M(n,{INIT_VIEW:function(e){Ll&&Ll.activate(e)}})}});function Fl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Bl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hl(){var e=this,t=this.$inputs,n=this.$charge,r=this.dispatch;return function(){var o=U(t,"[bank].value.code")||null;if("232"===o)return r(Ua.actions.on()),void setTimeout((function(){var t={onCancel:function(){t.onComplete()},onFailure:function(e){},onSuccessful:function(){Da&&Da.activate.call(e)},onComplete:function(){}};n.poll(t)}),1e4);var a=Ia(this.data,"validateInstruction").validateInstruction,i=Ia(this.data,"validateInstructions").validateInstructions;if(D(i)){var c=i.valparams;if(1===(c=B(c)).length&&String(c[0]).toUpperCase().indexOf("OTP")>=0){if(e.VALIDATE_INSTRUCTION=U(i,"instruction")||"",["044","101"].indexOf(o)>=0){var u=Fl(String(a).match(jt)||[],2)[1];if(u){var l=U(t,"[account_number].value")||null;l=I(l)?l.replace(/^(\d{3})(\d+?)(\d{4})$/,(function(e,t,n,r){return"".concat(t).concat(n.replace(/./g,"*")).concat(r)})):"your account",e.VALIDATE_INSTRUCTION="Dial ".concat(u," on the mobile number registered with ").concat(l," to get your OTP.")}}e.SHOULD_VALIDATE_CHARGE=!1,e.SHOULD_VALIDATE_CHARGE=!0}}}}function Gl(){var e=this,t=this.DATA,n=this.$charge,r=this.$inputs;switch(U(t,"currency")||"NGN"){case"EUR":case"GBP":var o=U(e.DATA,"phone"),a=U(e.DATA,"redirect_url"),i={payment_type:"account-ach-uk",is_token_io:1};o&&(i.phonenumber=o),i.redirect_url=null!==a?a:"#checkout:no_json_render",n.init({data:i});break;case"NGN":var c={payment_type:"account",phonenumber:U(e.DATA,"phone"),is_mono:!0},u=function(){return setTimeout((function(){zl&&zl.activate.call(e)}),0)};e.CAN_RESEND_OTP=!1,n.init({data:c,onError:u,onFailed:u,onRequireValidation:Hl.call(e)});break;case"USD":n.init({data:{country:"US",is_us_bank_charge3:!0,ach_redirect_url:new URL("/usach/complete").href}});break;case"ZAR":var l=U(r,"[sa_bank].value.code");n.init({data:{sabankcode:l,country:"ZA",is_sa_call_pay:!0}})}}function zl(){var e=this;return zl=na({NAME:"BANK_INIT_VIEW",inputs:["sa_bank"],next:function(){return Gl.call(e)},afterSetup:function(){e._subscribeInputsOnce()}}).call(this)}function Wl(){var e=this,t=this.DATA,n=this.$charge,r=this.$inputs;return Wl=na({NAME:"BANK_OTP_VIEW",inputs:["otp"],mutables:{instruction:"VALIDATE_INSTRUCTION",canResendOTP:"CAN_RESEND_OTP"},constants:{resendOTP:function(){return!0===e.CAN_RESEND_OTP?Gl.call(e):Promise.resolve(!1)}},next:function(){var t=(D(e.reference)?e.reference:{}).charge,o=void 0===t?null:t,a=U(r,"[otp].value"),i=U(r,"[bank].value.code");if(a){var c={otp:a,transactionreference:o,validateparameter:"OTP"};["044","050"].indexOf(i)>=0&&(c.use_access=!0),n.validate({data:c,onBegin:function(){e.SHOULD_VALIDATE_CHARGE=!1},onRequireValidation:Hl.call(e),onValidateSuccessful:function(){Da&&Da.activate.call(e)},onComplete:function(){e.clearResendTimer()}})}},back:function(){"NGN"===(U(t,"currency")||"NGN")&&(zl&&zl.activate(),r.$reset())}}).call(this)}var Kl=[zl,Wl];var ql=Object.freeze({__proto__:null,METHOD:"account",METHOD_NAME:"Bank",CHARGE_MODE:5,VIEWS:Kl,mount:function(){var e=this;return function(t){Dc.call(e,(function(){var t=U(e.STATE,"currency.current"),n=e.REDIRECT_URL&&(pl||(e.REDIRECT_URL=null))||zl;n&&n.activate((function(){var r;n===zl&&"ZAR"===t&&(r=e,Promise.resolve(Object.isFrozen(Ar)||Sr(new URL("/flwv3-pug/getpaidx/api/sa_banks?PBFPubKey=".concat(U(r,"DATA.PBFPubKey")),"https://api.ravepay.co")).then((function(e){if(Pn(e))return e.json().then((function(e){var t=!1,n=(D(e)?e:{}).data;if("array"===Jn(n))try{M(Ar,{banks:n}),!0!==t&&(t=!0)}catch(e){}return!(!0!==t||!Object.freeze(Ar))}))})).catch(rr))).then((function(){e.$inputs.$reset("sa_bank"),e.SA_BANKS=U(e,"DATA.sa_banks.banks")}))}))})),Gc()}},getChargeData:function(){if(!this.SHOULD_VALIDATE_CHARGE)return{payment_type:"account"}},getViewsContext:function(e,t){var n,r,o=U(e,"currency")||"NGN",a=U(e,"banks.account")||[],i=ur.apply(void 0,[Object.create(null)].concat(["CAN_RESEND_OTP","REDIRECT_URL","VALIDATE_INSTRUCTION","SHOULD_VALIDATE_CHARGE","SA_BANKS"]));return i.pollConfig={onCancel:function(){i.pollConfig.onComplete()},onSuccessful:function(){Da&&Da.activate.call(i)},onComplete:function(){}},i.$subscribe("SA_BANKS",(function(e,t){setTimeout((function(){e!==t&&(i.$inputs.$refresh("sa_bank"),i.$inputs.$reset("sa_bank"))}),0)})),Xu(i,{otp:null,account_bvn:c(["033"]),account_dob:c(["033","057"]),account_number:c(["044","050","033","232","057","215","101"]),account_otp:c(["232"]),account_phone:c(["050","232","215"],U(e,"phone")||null),bank:{options:a,selector:Gr.bind(i,a),available:function(){return"NGN"===o}},sa_bank:{get options(){return i.SA_BANKS},get selector(){return Rr.bind(i,this.options)},available:function(){return"ZAR"===o}}}),i._subscribeInputsOnce=(r=!1,function(){!0!==r&&(r=!0)&&i.$inputs.$subscribe("bank",(function(e,t){e!==t&&i.dispatch(Ee.actions.updateErrorMessage())}))}),i.$subscribe("REDIRECT_URL",(function(e,t){setTimeout((function(){(!t||t!==e)&&e instanceof URL&&pl&&pl.activate.call(i)}),0)})),i.$subscribe("SHOULD_VALIDATE_CHARGE",(function(e,t){setTimeout((function(){t||t===e||!0!==e||(Wl&&Wl.activate(),i.clearResendTimer(),n=setTimeout((function(){return i.CAN_RESEND_OTP=!0}),9e4))}),0)})),M(i,{$resetContext:function(){i.$inputs.$reset("sa_bank"),i.REDIRECT_URL=i.SHOULD_VALIDATE_CHARGE=null},INIT_VIEW:function(e){var t=U(i,"$$data.data.response_code"),n=!0==!!U(i,"$$data.data.$error")||"failed"===U(i,"$$data.status");["00","02"].includes(t)?"02"!==t||n||setTimeout((function(){ra&&ra.activate((function(){i.$charge.poll({onCancel:function(){this.onComplete()},onSuccessful:function(){Da&&Da.activate.call(i)},onComplete:function(){}})}))}),0):(i.$resetContext(),zl&&zl.activate(e))},clearResendTimer:function(){n&&clearTimeout(n),n=null,i.CAN_RESEND_OTP=!1}});function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(e instanceof Array))if(1===arguments.length){var n=[[],e];e=n[0],t=n[1]}else if(t instanceof Array){var r=[t,e];e=r[0],t=r[1]}else e=[];return e=B(e),{defaultValue:t=t||null,available:function(){var t=U(i.$inputs,"[bank].value.code")||null;return"NGN"===o&&e.indexOf(t)>=0}}}}});function Yl(){var e=this.$charge,t=this.$inputs;return Yl=na({NAME:"FAWRYPAY_INIT_VIEW",inputs:["phone"],constants:{hasBackAction:!1},next:function(){var n=U(t,"[phone].value");n&&e.init({data:{phonenumber:n}})}}).call(this)}function Zl(){var e=this,t=this.$inputs;return Zl=na({NAME:"FAWRYPAY_CONFIRM_VIEW",constants:{hasBackAction:!1,get phone(){return U(t,"[phone].value")},get reference(){return e.FAWRY_REFERENCE}},next:function(){}}).call(this)}var Ql=[Yl,Zl];var Jl=Object.freeze({__proto__:null,METHOD:"fawrypay",METHOD_NAME:"Fawry",CHARGE_MODE:1,VIEWS:Ql,mount:function(){var e=this;return function(t){Dc.call(e,(function(){var t=e.FAWRY_REFERENCE&&(Zl||e.$resetContext())||Yl;t&&t.activate.call(e)})),Gc()}},getChargeData:function(){return{country:"EG",currency:"EGP",network:"MTN",payment_type:"fawry_pay"}},getViewsContext:function(e,t){var n=ur(Object.create(null),"FAWRY_REFERENCE");return Xu(n,{phone:U(e,"phone")||null}),n.$subscribe("FAWRY_REFERENCE",(function(e,t){setTimeout((function(){!t&&t!==e&&e&&Zl&&Zl.activate()}),0)})),M(n,{$resetContext:function(){n.FAWRY_REFERENCE=null},INIT_VIEW:function(e){n.$resetContext(),Yl&&Yl.activate(e)}})}});function Xl(){var e=this.$charge;return Xl=na({NAME:"APPLEPAY_INIT_VIEW",constants:{hasBackAction:!1},next:function(){e.init()}}).call(this)}var es=[Xl];var ts=Object.freeze({__proto__:null,METHOD:"applepay",METHOD_NAME:"Apple Pay",CHARGE_MODE:1,VIEWS:es,mount:function(){var e=this;return function(t){Dc.call(e,(function(){var t=e.REDIRECT_URL&&(pl||(e.REDIRECT_URL=null))||Xl;t&&t.activate.call(e)})),Gc()}},getChargeData:function(){return{payment_type:"applepay"}},getViewsContext:function(e,t){var n=ur.apply(void 0,[Object.create(null)].concat(["REDIRECT_URL"]));return n.$subscribe("REDIRECT_URL",(function(e,t){setTimeout((function(){(!t||t!==e)&&e instanceof URL&&pl&&pl.activate.call(n)}),0)})),M(n,{INIT_VIEW:function(e){Xl&&Xl.activate(e)}})}});function ns(){var e=this.$charge;return ns=na({NAME:"GOOGLEPAY_INIT_VIEW",constants:{hasBackAction:!1},next:function(){e.init()}}).call(this)}var rs=[ns];var os=Object.freeze({__proto__:null,METHOD:"googlepay",METHOD_NAME:"Google Pay",CHARGE_MODE:1,VIEWS:rs,mount:function(){var e=this;return function(t){Dc.call(e,(function(){var t=e.REDIRECT_URL&&(pl||(e.REDIRECT_URL=null))||ns;t&&t.activate.call(e)})),Gc()}},getChargeData:function(){return{payment_type:"googlepay"}},getViewsContext:function(e,t){var n=ur.apply(void 0,[Object.create(null)].concat(["REDIRECT_URL"]));return n.$subscribe("REDIRECT_URL",(function(e,t){setTimeout((function(){(!t||t!==e)&&e instanceof URL&&pl&&pl.activate.call(n)}),0)})),M(n,{INIT_VIEW:function(e){ns&&ns.activate(e)}})}});function as(){var e=this.$charge,t=this.$inputs;return as=na({NAME:"1VOUCHER_INIT_VIEW",inputs:["phone","voucher"],constants:{hasBackAction:!1},next:function(){var n=U(t,"[voucher].value"),r=U(t,"[phone].value");n&&r&&e.init({data:{pin:n,phonenumber:r}})}}).call(this)}function is(){var e=this,t=this.$inputs;return is=na({NAME:"1VOUCHER_CONFIRM_VIEW",constants:{hasBackAction:!1,get changeVoucher(){return e.CHANGE_VOUCHER},get phone(){return U(t,"[phone].value")}},next:function(){Da&&Da.activate.call(e)}}).call(this)}var cs=[as,is];var us=Object.freeze({__proto__:null,METHOD:"1voucher",METHOD_NAME:"1Voucher",CHARGE_MODE:0,VIEWS:cs,mount:function(){var e=this;return function(t){Dc.call(e,(function(){as&&as.activate()})),Gc()}},getChargeData:function(){return{country:"ZA",is_flash_voucher:!0,payment_type:"1voucher"}},getViewsContext:function(e,t){var n=ur.apply(void 0,[Object.create(null)].concat(["CHANGE_VOUCHER"]));return n.$subscribe("CHANGE_VOUCHER",(function(e,t){setTimeout((function(){t||t===e||(!1===e?Da&&Da.activate.call(n):is&&is.activate())}),0)})),Xu(n,{voucher:null,phone:U(e,"phone")||null}),M(n,{INIT_VIEW:function(e){as&&as.activate(e)}})}});function ls(){var e=this.DATA,t=this.dispatch,n=this.$charge;return ls=na({NAME:"BANK_TRANSFER_INIT_VIEW",next:function(){switch(U(e,"currency")||"NGN"){case"EUR":case"GBP":var r={is_bank_transfer:void 0,is_uk_bank_charge2:!0,accountname:"Account Name",payment_type:"account"};n.init({data:r});break;case"NGN":case"USD":var o=U(e,"expires");o&&(o<60||o>31536e3)?setTimeout((function(){return t(Ee.actions.updateErrorMessage("bank.transfer.expiry.error"))}),100):n.init()}}}).call(this)}function ss(){var e=this,t=this.$charge,n=this.$timer;return e.pollConfig={onBegin:function(){n.start()},onCancel:function(){e.pollConfig.onComplete()},onFailure:function(e){},onSuccessful:function(){Da&&Da.activate.call(e)},onComplete:function(){e.TRANSFER_DETAILS=null,n.clear()}},ss=na({NAME:"BANK_TRANSFER_DETAILS_VIEW",mutables:{timerCurrent:"CURRENT_TIME"},constants:{get details(){return e.TRANSFER_DETAILS},instruction:"Proceed to your bank app to complete this transfer",get timerDuration(){return n.duration}},next:function(){var n=U(e,"STATE.backgroundProcessing"),r=U(e,"STATE.currency.current")||"NGN";!1===n&&"NGN"===r&&t.poll(e.pollConfig)}}).call(this)}var fs,ds=[ls,ss];var ps=Object.freeze({__proto__:null,METHOD:"banktransfer",METHOD_NAME:"Bank Transfer",CHARGE_MODE:8,VIEWS:ds,mount:function(){var e=this;return function(t){Dc.call(e,(function(){var t=e.TRANSFER_DETAILS&&(ss||(e.TRANSFER_DETAILS=null))||ls;fs=e,t&&t.activate((function(){t===ss&&e.CURRENT_TIME&&e.$charge.poll(e.pollConfig),e.startListeningForCancellation(),e.visibilityCheck()}))})),Gc()}},getChargeData:function(){return{is_bank_transfer:!0,payment_type:"banktransfer"}},getViewsContext:function(e,t){var n=U(e,"currency")||"NGN",r=60*("NGN"===n?5:3),o=ur.apply(void 0,[Object.create(null)].concat(["CURRENT_TIME","TRANSFER_DETAILS"])),a=!1,i=function(){c(),u()},c=function(){!0===a&&(removeEventListener(Ga,i,!1),a=!1)},u=function(){gn(U(o,"reference")||null)&&M(o,{reference:Object.create(null)})};return o.$subscribe("TRANSFER_DETAILS",(function(e,t){setTimeout((function(){!t&&t!==e&&e&&ss&&ss.activate((function(){"NGN"===n&&setTimeout((function(){"banktransfer"===U(o,"STATE.method.current")&&fs.$charge.poll(fs.pollConfig)}),6e4)}))}),0)})),M(o,{TIMER_DURATION:r,startListeningForCancellation:function(){!0!==a&&(addEventListener(Ga,i,!1),a=!0)},stopListeningForCancellation:c,visibilityCheck:function(){},INIT_VIEW:function(e){ls&&ls.activate(e)}}),Nu(o,{duration:r,onTick:function(){o.CURRENT_TIME=o.$timer.current},onFinish:function(){o.$charge.cancel()&&!cf&&(o.$timer&&o.$timer.clear(),o.CURRENT_TIME=null,o.TRANSFER_DETAILS=null,c(),setTimeout((function(){return rc&&rc.activate.call(o)}),10))}})}});function ms(){var e=this.$charge;return ms=na({NAME:"CRYPTO_INIT_VIEW",constants:{hasBackAction:!1},next:function(){e.init()}}).call(this)}var hs=[ms];var bs=Object.freeze({__proto__:null,METHOD:"cryptocurrency",METHOD_NAME:"BitPay",CHARGE_MODE:1,VIEWS:hs,mount:function(){var e=this;return function(t){Dc.call(e,(function(){var t=e.REDIRECT_URL&&(pl||(e.REDIRECT_URL=null))||ms;t&&t.activate.call(e)})),Gc()}},getChargeData:function(){return{payment_type:"cryptocurrency"}},getViewsContext:function(e,t){var n=ur.apply(void 0,[Object.create(null)].concat(["REDIRECT_URL"]));return n.$subscribe("REDIRECT_URL",(function(e,t){setTimeout((function(){(!t||t!==e)&&e instanceof URL&&pl&&pl.activate.call(n)}),0)})),M(n,{INIT_VIEW:function(e){ms&&ms.activate(e)}})}});function ys(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.href){var r=e.href.split("/").filter(Boolean);e.href.includes("lang-")||r.splice(4,0,"lang-".concat(t));var o=r.join("/"),a=o.split("captcha"),i="https://checkout.flutterwave.com",c=new URL("captcha".concat(a[1]),i);return!0===n&&"https://checkout.flutterwave.com"===i&&(c=new URL("captcha".concat(a[1]),e.origin)),e.href=c,e}}function vs(){var e=this,t=this.$charge,n=this.$inputs;return e.CAN_SWITCH_TO_CONFIRM=!1,vs=na({NAME:"MOMO_GHANA_INIT_VIEW",inputs:["network","phone","voucher"],mutables:{timerCurrent:"CURRENT_TIME"},next:function(){var r=U(n,"[network].value"),o=U(n,"[phone].value"),a=U(n,"[voucher].value")||null;o&&D(r)&&t.init({data:{phonenumber:o,voucher:a,network:r.identifier},onRequireValidation:function(){e.CAN_SWITCH_TO_CONFIRM=!0},onRequireRedirection:function(){var t=U(e,"STATE.locale")||"en",n=U(e,"STATE.isTestMode")||!1;try{ys(this.url,t,n)}catch(e){}}})}}).call(this)}function gs(){var e=this,t=this.$inputs,n=this.$timer;return e.pollConfig={onBegin:function(){n.start()},onCancel:function(){e.pollConfig.onComplete()},onSuccessful:function(){Da&&Da.activate.call(e)},onComplete:function(){n.clear()}},gs=na({NAME:"MOMO_GHANA_CONFIRM_VIEW",mutables:{timerCurrent:"CURRENT_TIME"},constants:{get instructions(){return e.MOMO_INSTRUCTIONS},get phone(){return U(t,"[phone].value")},get selectedNetwork(){return U(t,"[network].value")}}}).call(this)}var Os=[vs,gs];var _s=Object.freeze({__proto__:null,METHOD:"mobilemoneyghana",METHOD_NAME:"Mobile Money",CHARGE_MODE:1,VIEWS:Os,mount:function(){var e=this;return function(t){Dc.call(e,(function(){var t=e.REDIRECT_URL&&(pl||(e.REDIRECT_URL=null))||vs;t&&t.activate.call(e)})),Gc()}},getChargeData:function(){return{is_mobile_money_gh:!0,payment_type:"mobilemoneygh"}},getViewsContext:function(e,t){var n=U(e,"mobilemoney_networks[GH]"),r=ur.apply(void 0,[Object.create(null)].concat(["MOMO_INSTRUCTIONS","REDIRECT_URL","CURRENT_TIME","CAN_SWITCH_TO_CONFIRM"]));return r.$subscribe("CAN_SWITCH_TO_CONFIRM",(function(e,t){setTimeout((function(){t||t===e||!0!==e||"boolean"!=typeof e||gs&&gs.activate((function(){setTimeout((function(){r.$charge.poll(r.pollConfig)}),0)}))}))})),r.$subscribe("REDIRECT_URL",(function(e,t){setTimeout((function(){(!t||t!==e)&&e instanceof URL&&pl&&pl.activate.call(r)}),0)})),Xu(r,{voucher:{defaultValue:null,required:!1,available:function(){return"AIRTEL"===U(r.$inputs,"[network].value.identifier")}},phone:U(e,"phone")||null,network:{options:n,selector:Tr.bind(r,n),defaultValue:U(e,"mobilemoney_network")||null}}),r.$inputs.$subscribe("network",(function(e,t){setTimeout((function(){var n=r.STATE,o=n.currency,a=n.method;t!==e&&"GHS"===o.current&&"mobilemoneyghana"===a.current&&setTimeout((function(){Gc()}),0)}),0)})),M(r,{TIMER_DURATION:300,$resetContext:function(){r.REDIRECT_URL=r.MOMO_INSTRUCTIONS=null},INIT_VIEW:function(e){vs&&vs.activate(e)}}),Nu(r,{duration:300,onTick:function(){r.CURRENT_TIME=r.$timer.current},onFinish:function(){r.$charge.cancel()&&(r.$timer&&r.$timer.clear(),r.CURRENT_TIME=null,r.reference=null,r.$resetContext(),setTimeout((function(){return rc&&rc.activate.call(r)}),10))}})}});function Es(){var e=this.$charge,t=this.$inputs,n=this;return Es=na({NAME:"MOMO_FRANCO_INIT_VIEW",inputs:["country","network","phone","authorization_code"],next:function(){var r=U(t,"[country].value"),o=U(t,"[network].value"),a=U(t,"[phone].value"),i=U(t,"[authorization_code].value");if(a&&D(r)){var c={country:r.code,network:U(o,"identifier")||null,phonenumber:a};if("BF"===c.country&&"mobicash"!==c.network&&(c.authorization_code=i),["SN","CI"].includes(c.country)&&"wave"===c.network){var u=U(n.DATA,"redirect_url");c.redirect_url=null!==u?u:"#checkout:no_json_render"}e.init({data:c})}}}).call(this)}function Cs(){var e=this,t=this.$charge,n=this.$inputs;return Cs=na({NAME:"MOMO_FRANCO_OTP_VIEW",inputs:["otp"],constants:{get phone(){return U(n,"[phone].value")},get selectedNetwork(){return U(n,"[network].value")}},next:function(){var r=D(e.reference)?e.reference:{},o=r.charge,a=void 0===o?null:o,i=r.order,c=void 0===i?null:i,u=U(n,"[otp].value");u&&t.validate({data:{otp:u,flw_reference:a,transactionreference:c},onSuccessful:function(){Da&&Da.activate.call(e)},onComplete:function(){}})}}).call(this)}function ws(){var e=this,t=this.$inputs;return ws=na({NAME:"MOMO_FRANCO_CONFIRM_VIEW",constants:{get instruction(){return e.CONFIRM_INSTRUCTION},get phone(){return U(t,"[phone].value")},get selectedNetwork(){return U(t,"[network].value")}}}).call(this)}var Ts=[Es,Cs,ws];var As=Object.freeze({__proto__:null,METHOD:"mobilemoneyfranco",METHOD_NAME:"Mobile Money",CHARGE_MODE:1,VIEWS:Ts,mount:function(){var e=this;return function(t){Dc.call(e,(function(){Es&&Es.activate((function(){Cr(e).then((function(){e.$inputs.$update("country",null),e.$inputs.$reset("country")}))}))})),Gc()}},getChargeData:function(){return this.SHOULD_VALIDATE_CHARGE?{momo_sn:!0}:{is_mobile_money_franco:!0,payment_type:"mobilemoneyfranco"}},getViewsContext:function(e,t){var n=U(e,"mobilemoneyfranco_countries"),r=U(e,"currency"),o=n;["XAF","XOF"].indexOf(r)>=0&&(o=n.filter((function(e){return e.currency===r})));var a=ur.apply(void 0,[Object.create(null)].concat(["NETWORKS","CONFIRM_INSTRUCTION","REDIRECT_URL","SHOULD_VALIDATE_CHARGE","CURRENT_TIME"]));function i(){return U(a.NETWORKS,"length")>0}return a.pollConfig={onBegin:function(){a.$timer&&a.$timer.start()},onCancel:function(){a.pollConfig.onComplete()},onSuccessful:function(){Da&&Da.activate.call(a)},onError:function(){a.CONFIRM_INSTRUCTION=null,a.$timer&&a.$timer.clear()},onComplete:function(){a.$timer&&a.$timer.clear()}},a.$subscribe("REDIRECT_URL",(function(e,t){setTimeout((function(){(!t||t!==e)&&e instanceof URL&&pl&&pl.activate.call(a)}),0)})),a.$subscribe("SHOULD_VALIDATE_CHARGE",(function(e,t){setTimeout((function(){t!==e&&P(e)&&(!0===e?Cs&&Cs.activate():ws&&ws.activate((function(){a.$charge.poll(a.pollConfig)})))}),0)})),a.$subscribe("NETWORKS",(function(e,t){setTimeout((function(){t!==e&&(a.$inputs.$refresh("network"),a.$inputs.$reset("network"))}),0)})),Xu(a,{phone:U(e,"phone")||null,country:{options:o,get selector(){return wr.bind(a,this.options)},defaultValue:U(e,"country")||null},network:{get options(){return a.NETWORKS},get selector(){return Tr.bind(a,this.options)},defaultValue:U(e,"mobilemoney_network")||null,available:i,required:i},authorization_code:U(e,"authorization_code")||null}),a.$inputs.$subscribe("country",(function(t,n){setTimeout((function(){if(n!==t){var r=U(t,"[value].code")||null;a.NETWORKS=r&&U(e,"mobilemoney_networks[".concat(r,"]")),setTimeout((function(){r&&void 0===U(e,"mobilemoney_networks[".concat(r,"]"))&&Cr(a)}),3500)}}),0)})),a.$inputs.$subscribe("network",(function(e,t){setTimeout((function(){var n=a.STATE,r=n.currency,o=n.method;t===e||"XOF"!==r.current&&"XAF"!==r.current||"mobilemoneyfranco"!==o.current||setTimeout((function(){Gc()}),0)}),0)})),M(a,{TIMER_DURATION:300,$resetContext:function(){a.CONFIRM_INSTRUCTION=a.REDIRECT_URL=a.SHOULD_VALIDATE_CHARGE=null},INIT_VIEW:function(e){var t=U(a,"$$data.data.response_code"),n=!0==!!U(a,"$$data.data.$error")||"failed"===U(a,"$$data.status");["00","02"].includes(t)?"02"!==t||n||setTimeout((function(){ra&&ra.activate((function(){a.$charge.poll(a.pollConfig)}))}),0):(a.$resetContext(),Es&&Es.activate(e))}}),Nu(a,{duration:300,onTick:function(){a.CURRENT_TIME=a.$timer.current},onFinish:function(){a.$charge.cancel()&&(a.$timer&&a.$timer.clear(),a.CURRENT_TIME=null,a.CONFIRM_INSTRUCTION=null,setTimeout((function(){return rc&&rc.activate.call(a)}),10))}})}});function Ss(){var e=this,t=this.$charge,n=this.$inputs;return e.CAN_SWITCH_TO_CONFIRM=!1,Ss=na({NAME:"MOMO_MALAWI_INIT_VIEW",inputs:["phone"],mutables:{timerCurrent:"CURRENT_TIME"},next:function(){var r=U(n,"[phone].value");r&&(ko.customerAttemptingCharge("Mobile money malawi"),t.init({data:{phonenumber:r},onRequireValidation:function(){e.CAN_SWITCH_TO_CONFIRM=!0},onRequireRedirection:function(){var t=U(e,"STATE.locale")||"en",n=U(e,"STATE.isTestMode")||!1;try{ys(this.url,t,n)}catch(e){}}}))}}).call(this)}function Rs(){var e=this,t=this.$inputs,n=this.$timer;return e.pollConfig={onBegin:function(){n.start()},onCancel:function(){e.pollConfig.onComplete()},onSuccessful:function(){Da&&Da.activate.call(e)},onComplete:function(){n.clear()}},Rs=na({NAME:"MOMO_MALAWI_CONFIRM_VIEW",mutables:{timerCurrent:"CURRENT_TIME"},constants:{get phone(){return U(t,"[phone].value")}}}).call(this)}var js=[Ss,Rs];var Is=Object.freeze({__proto__:null,METHOD:"mobilemoneymalawi",METHOD_NAME:"Mobile Money",CHARGE_MODE:1,VIEWS:js,mount:function(){var e=this;return function(t){Dc.call(e,(function(){var t=e.REDIRECT_URL&&(pl||(e.REDIRECT_URL=null))||Ss;t&&t.activate.call(e)})),Gc()}},getChargeData:function(){return{is_mobile_money_mw:!0,payment_type:"mobilemoneymw"}},getViewsContext:function(e,t){var n=ur.apply(void 0,[Object.create(null)].concat(["REDIRECT_URL","CURRENT_TIME","CAN_SWITCH_TO_CONFIRM"]));return n.$subscribe("CAN_SWITCH_TO_CONFIRM",(function(e,t){setTimeout((function(){t||t===e||!0!==e||"boolean"!=typeof e||Rs&&Rs.activate((function(){setTimeout((function(){n.$charge.poll(n.pollConfig)}),0)}))}))})),n.$subscribe("REDIRECT_URL",(function(e,t){setTimeout((function(){(!t||t!==e)&&e instanceof URL&&pl&&pl.activate.call(n)}),0)})),Xu(n,{phone:U(e,"phone")||null}),M(n,{TIMER_DURATION:300,$resetContext:function(){n.REDIRECT_URL=null},INIT_VIEW:function(e){Ss&&Ss.activate(e)}}),Nu(n,{duration:300,onTick:function(){n.CURRENT_TIME=n.$timer.current},onFinish:function(){n.$charge.cancel()&&(n.$timer&&n.$timer.clear(),n.CURRENT_TIME=null,n.reference=null,n.$resetContext(),setTimeout((function(){return rc&&rc.activate.call(n)}),10))}})}});function Ps(){var e=this,t=this.$charge,n=this.$inputs;return e.CAN_SWITCH_TO_CONFIRM=!1,Ps=na({NAME:"MOMO_RWANDA_INIT_VIEW",inputs:["phone"],next:function(){var r=U(n,"[phone].value");r&&t.init({data:{phonenumber:r},onRequireValidation:function(){e.CAN_SWITCH_TO_CONFIRM=!0},onRequireRedirection:function(){var t=U(e,"STATE.locale")||"en",n=U(e,"STATE.isTestMode")||!1;try{ys(this.url,t,n)}catch(e){}}})}}).call(this)}function Ns(){var e=this,t=this.$inputs,n=this.$timer;return e.pollConfig={onBegin:function(){n.start()},onCancel:function(){e.pollConfig.onComplete()},onSuccessful:function(){Da&&Da.activate.call(e)},onComplete:function(){n.clear()}},Ns=na({NAME:"MOMO_RWANDA_CONFIRM_VIEW",mutables:{timerCurrent:"CURRENT_TIME"},constants:{get phone(){return U(t,"[phone].value")}}}).call(this)}var Ds=[Ps,Ns];var Ms=Object.freeze({__proto__:null,METHOD:"mobilemoneyrwanda",METHOD_NAME:"Mobile Money",CHARGE_MODE:1,VIEWS:Ds,mount:function(){var e=this;return function(t){Dc.call(e,(function(){var t=e.REDIRECT_URL&&(pl||(e.REDIRECT_URL=null))||Ps;t&&t.activate.call(e)})),Gc()}},getChargeData:function(){return{is_mobile_money_gh:!0,payment_type:"mobilemoneygh"}},getViewsContext:function(e,t){var n=ur.apply(void 0,[Object.create(null)].concat(["REDIRECT_URL","CURRENT_TIME","CAN_SWITCH_TO_CONFIRM"]));return n.$subscribe("CAN_SWITCH_TO_CONFIRM",(function(e,t){setTimeout((function(){t||t===e||!0!==e||"boolean"!=typeof e||Ns&&Ns.activate((function(){setTimeout((function(){n.$charge.poll(n.pollConfig)}),0)}))}))})),n.$subscribe("REDIRECT_URL",(function(e,t){setTimeout((function(){(!t||t!==e)&&e instanceof URL&&pl&&pl.activate.call(n)}),0)})),Xu(n,{phone:U(e,"phone")||null}),M(n,{TIMER_DURATION:300,$resetContext:function(){n.REDIRECT_URL=null},INIT_VIEW:function(e){Ps&&Ps.activate(e)}}),Nu(n,{duration:300,onTick:function(){n.CURRENT_TIME=n.$timer.current},onFinish:function(){n.$charge.cancel()&&(n.$timer&&n.$timer.clear(),n.CURRENT_TIME=null,n.reference=null,n.$resetContext(),setTimeout((function(){return rc&&rc.activate.call(n)}),10))}})}});function ks(){var e=this,t=this.$charge,n=this.$inputs;return e.CAN_SWITCH_TO_CONFIRM=!1,ks=na({NAME:"MOMO_UGANDA_INIT_VIEW",inputs:["phone"],next:function(){var r=U(n,"[phone].value");r&&t.init({data:{phonenumber:r},onRequireValidation:function(){e.CAN_SWITCH_TO_CONFIRM=!0},onRequireRedirection:function(){var t=U(e,"STATE.locale")||"en",n=U(e,"STATE.isTestMode")||!1;try{ys(this.url,t,n)}catch(e){}}})}}).call(this)}function xs(){var e=this,t=this.$inputs,n=this.$timer;return e.pollConfig={onBegin:function(){n.start()},onCancel:function(){e.pollConfig.onComplete()},onSuccessful:function(){Da&&Da.activate.call(e)},onComplete:function(){n.clear()}},xs=na({NAME:"MOMO_UGANDA_CONFIRM_VIEW",mutables:{timerCurrent:"CURRENT_TIME"},constants:{get phone(){return U(t,"[phone].value")}}}).call(this)}var $s=[ks,xs];var Ls=Object.freeze({__proto__:null,METHOD:"mobilemoneyuganda",METHOD_NAME:"Mobile Money",CHARGE_MODE:1,VIEWS:$s,mount:function(){var e=this;return function(t){Dc.call(e,(function(){var t=e.REDIRECT_URL&&(pl||(e.REDIRECT_URL=null))||ks;t&&t.activate.call(e)})),Gc()}},getChargeData:function(){return{is_mobile_money_gh:!0,payment_type:"mobilemoneygh"}},getViewsContext:function(e,t){var n=ur.apply(void 0,[Object.create(null)].concat(["REDIRECT_URL","CURRENT_TIME","CAN_SWITCH_TO_CONFIRM"]));return n.$subscribe("CAN_SWITCH_TO_CONFIRM",(function(e,t){setTimeout((function(){t||t===e||!0!==e||"boolean"!=typeof e||xs&&xs.activate((function(){setTimeout((function(){n.$charge.poll(n.pollConfig)}),0)}))}))})),n.$subscribe("REDIRECT_URL",(function(e,t){setTimeout((function(){(!t||t!==e)&&e instanceof URL&&pl&&pl.activate.call(n)}),0)})),Xu(n,{phone:U(e,"phone")||null}),M(n,{TIMER_DURATION:300,$resetContext:function(){n.REDIRECT_URL=null},INIT_VIEW:function(e){ks&&ks.activate(e)}}),Nu(n,{duration:300,onTick:function(){n.CURRENT_TIME=n.$timer.current},onFinish:function(){n.$charge.cancel()&&(n.$timer&&n.$timer.clear(),n.CURRENT_TIME=null,n.reference=null,n.$resetContext(),setTimeout((function(){return rc&&rc.activate.call(n)}),10))}})}});function Us(){var e=this,t=this.$charge,n=this.$inputs;return e.CAN_SWITCH_TO_CONFIRM=!1,Us=na({NAME:"MOMO_ZAMBIA_INIT_VIEW",inputs:["network","phone"],next:function(){var r=U(n,"[network].value"),o=U(n,"[phone].value");o&&D(r)&&t.init({data:{phonenumber:o,network:r.identifier},onRequireValidation:function(){e.CAN_SWITCH_TO_CONFIRM=!0},onRequireRedirection:function(){var t=U(e,"STATE.locale")||"en",n=U(e,"STATE.isTestMode")||!1;try{ys(this.url,t,n)}catch(e){}}})}}).call(this)}function Vs(){var e=this,t=this.$inputs,n=this.$timer;return e.pollConfig={onBegin:function(){n.start()},onCancel:function(){e.pollConfig.onComplete()},onSuccessful:function(){Da&&Da.activate.call(e)},onComplete:function(){n.clear()}},Vs=na({NAME:"MOMO_ZAMBIA_CONFIRM_VIEW",mutables:{timerCurrent:"CURRENT_TIME"},constants:{get phone(){return U(t,"[phone].value")},get selectedNetwork(){return U(t,"[network].value")}}}).call(this)}var Fs=[Us,Vs];var Bs=Object.freeze({__proto__:null,METHOD:"mobilemoneyzambia",METHOD_NAME:"Mobile Money",CHARGE_MODE:1,VIEWS:Fs,mount:function(){var e=this;return function(t){Dc.call(e,(function(){var t=e.REDIRECT_URL&&(pl||(e.REDIRECT_URL=null))||Us;t&&t.activate.call(e)})),Gc()}},getChargeData:function(){return{is_mobile_money_gh:!0,payment_type:"mobilemoneygh"}},getViewsContext:function(e,t){var n=U(e,"mobilemoney_networks[ZM]"),r=ur.apply(void 0,[Object.create(null)].concat(["REDIRECT_URL","CURRENT_TIME","CAN_SWITCH_TO_CONFIRM"]));return r.$subscribe("CAN_SWITCH_TO_CONFIRM",(function(e,t){setTimeout((function(){t||t===e||!0!==e||"boolean"!=typeof e||Vs&&Vs.activate((function(){setTimeout((function(){r.$charge.poll(r.pollConfig)}),0)}))}))})),r.$subscribe("REDIRECT_URL",(function(e,t){setTimeout((function(){(!t||t!==e)&&e instanceof URL&&pl&&pl.activate.call(r)}),0)})),Xu(r,{phone:U(e,"phone")||null,network:{options:n,selector:Tr.bind(r,n),defaultValue:U(e,"mobilemoney_network")||null}}),r.$inputs.$subscribe("network",(function(e,t){setTimeout((function(){var n=r.STATE,o=n.currency,a=n.method;t!==e&&"ZMW"===o.current&&"mobilemoneyzambia"===a.current&&setTimeout((function(){Gc()}),0)}),0)})),M(r,{TIMER_DURATION:300,$resetContext:function(){r.REDIRECT_URL=null},INIT_VIEW:function(e){Us&&Us.activate(e)}}),Nu(r,{duration:300,onTick:function(){r.CURRENT_TIME=r.$timer.current},onFinish:function(){r.$charge.cancel()&&(r.$timer&&r.$timer.clear(),r.CURRENT_TIME=null,r.reference=null,r.$resetContext(),setTimeout((function(){return rc&&rc.activate.call(r)}),10))}})}});function Hs(){var e=this,t=this.$charge,n=this.$inputs;return e.CAN_SWITCH_TO_CONFIRM=!1,Hs=na({NAME:"MOMO_TANZANIA_INIT_VIEW",inputs:["phone","network"],mutables:{timerCurrent:"CURRENT_TIME"},next:function(){var r=U(n,"[phone].value"),o=U(n,"[network].value");r&&t.init({data:{phonenumber:r,network:o.identifier},onRequireValidation:function(){e.CAN_SWITCH_TO_CONFIRM=!0},onRequireRedirection:function(){var t=U(e,"STATE.locale")||"en",n=U(e,"STATE.isTestMode")||!1;try{ys(this.url,t,n)}catch(e){}}})}}).call(this)}function Gs(){var e=this,t=this.$inputs,n=this.$timer;return e.pollConfig={onBegin:function(){n.start()},onCancel:function(){e.pollConfig.onComplete()},onSuccessful:function(){Da&&Da.activate.call(e)},onComplete:function(){n.clear()}},Gs=na({NAME:"MOMO_TANZANIA_CONFIRM_VIEW",mutables:{timerCurrent:"CURRENT_TIME"},constants:{get phone(){return U(t,"[phone].value")},get selectedNetwork(){return U(t,"[network].value")}}}).call(this)}var zs,Ws=[Hs,Gs];var Ks=Object.freeze({__proto__:null,METHOD:"mobilemoneytanzania",METHOD_NAME:"Mobile Money",CHARGE_MODE:1,VIEWS:Ws,mount:function(){var e=this;return function(t){Dc.call(zs=e,(function(){var t=e.REDIRECT_URL&&(pl||(e.REDIRECT_URL=null))||Hs;t&&t.activate.call(e)})),Gc()}},getChargeData:function(){return{is_mobile_money_tz:!0,payment_type:"mobilemoneytz"}},getViewsContext:function(e,t){var n=U(e,"mobilemoney_networks[TZ]"),r=ur.apply(void 0,[Object.create(null)].concat(["REDIRECT_URL","MOMO_INSTRUCTIONS","CURRENT_TIME","CAN_SWITCH_TO_CONFIRM"]));return r.$subscribe("CAN_SWITCH_TO_CONFIRM",(function(e,t){setTimeout((function(){t||t===e||!0!==e||"boolean"!=typeof e||Gs&&Gs.activate((function(){setTimeout((function(){r.$charge.poll(r.pollConfig)}),0)}))}))})),r.$subscribe("REDIRECT_URL",(function(e,t){setTimeout((function(){(!t||t!==e)&&e instanceof URL&&pl&&pl.activate.call(r)}),0)})),Xu(r,{phone:U(e,"phone")||null,network:{options:n,selector:Tr.bind(r,n),defaultValue:U(e,"mobilemoney_network")||null}}),r.$inputs.$subscribe("network",(function(e,t){setTimeout((function(){var n=r.STATE,o=n.currency,a=n.method;t!==e&&"TZS"===o.current&&"mobilemoneytanzania"===a.current&&setTimeout((function(){Gc(),Dc.call(zs)}),5)}),0)})),M(r,{TIMER_DURATION:300,$resetContext:function(){r.REDIRECT_URL=r.MOMO_INSTRUCTIONS=null},INIT_VIEW:function(e){Hs&&Hs.activate(e)}}),Nu(r,{duration:300,onTick:function(){r.CURRENT_TIME=r.$timer.current},onFinish:function(){r.$charge.cancel()&&(r.$timer&&r.$timer.clear(),r.CURRENT_TIME=null,r.reference=null,r.$resetContext(),setTimeout((function(){return rc&&rc.activate.call(r)}),10))}})}});function qs(){var e=this,t=this.$charge,n=this.$timer,r={onBegin:function(){e.CAN_GO_BACK=!1,n.start()},onCancel:function(){r.onComplete()},onSuccessful:function(){Da&&Da.activate.call(e)},onComplete:function(){e.CAN_GO_BACK=!0,n.clear(),e.QR_CODE=null}};return qs=na({NAME:"ENAIRA_QR_VIEW",mutables:{hasBackAction:"CAN_GO_BACK",timerCurrent:"CURRENT_TIME"},constants:{get qrcode(){return e.QR_CODE},instruction:"Scan the QR Code below on your eNaira mobile app to complete the payment",resetView:function(){t.cancel(),e.cancelOption()}},next:function(){t.poll(r)},back:function(){e.CAN_GO_BACK&&e.INIT_VIEW()}}).call(this)}function Ys(){var e=this.$charge,t=U(this.$inputs,"eNairaPaymentOption[value]");switch(t.identifier){case"QR":e.init({data:{is_qr:!0}});break;case"TOKEN":e.init({data:{is_token:!0}});break;case"DIRECT_WALLET_DEBIT":e.init()}ko.eNairaOptionSelected(t.label)}function Zs(){var e=this;return Zs=na({NAME:"ENAIRA_INIT_VIEW",inputs:["eNairaPaymentOption"],constants:{hasBackAction:!1},next:function(){return Ys.call(e)}}).call(this)}function Qs(){var e=this,t=this.$charge,n=this.$inputs,r=this.DATA;return Qs=na({NAME:"ENAIRA_OTP_VIEW",inputs:["phone","otp"],constants:{resetView:function(){return e.cancelOption()}},next:function(){var o=(D(e.reference)?e.reference:{}).charge,a=void 0===o?null:o,i=U(n,"[phone].value"),c=U(n,"[otp].value"),u=r.PBFPubKey;if(i&&c){var l={otp:c,is_enaira:1,PBFPubKey:u,phonenumber:i,transactionreference:a};ko.startEnairaTokenValidation(),t.validate({data:l,onBegin:function(){e.CAN_GO_BACK=!1},onValidateSuccessful:function(){Da&&Da.activate.call(e)},onComplete:function(){}})}}}).call(this)}var Js=[Zs,qs,Qs];var Xs=Object.freeze({__proto__:null,METHOD:"enaira",METHOD_NAME:"eNaira",CHARGE_MODE:1,VIEWS:Js,mount:function(){var e=this;return function(t){Dc.call(e,(function(){var t=e.QR_CODE&&(qs||e.$resetContext())||e.REDIRECT_URL&&(pl||e.$resetContext())||e.SHOULD_VALIDATE_CHARGE&&(Qs||e.$resetContext())||Zs;t&&t.activate.call(e)})),Gc()}},getChargeData:function(){return{payment_type:"enaira"}},getViewsContext:function(e,t){var n=ur.apply(void 0,[Object.create(null)].concat(["CURRENT_TIME","REDIRECT_URL","CAN_GO_BACK","QR_CODE","SHOULD_VALIDATE_CHARGE"]));return Xu(n,{otp:null,phone:U(e,"phone")||null,eNairaPaymentOption:{options:Dr,selector:Mr.bind(n,Dr),defaultValue:Dr[0]}}),n.cancelOption=function(){n.$resetContext(),Zs.activate.call(n)},n.$subscribe("REDIRECT_URL",(function(e,t){setTimeout((function(){(!t||t!==e)&&e instanceof URL&&pl&&pl.activate.call(n)}),0)})),n.$subscribe("QR_CODE",(function(e,t){setTimeout((function(){!t&&e&&t!==e&&qs&&qs.activate()}),0)})),n.CAN_GO_BACK=!0,n.$subscribe("SHOULD_VALIDATE_CHARGE",(function(e,t){setTimeout((function(){t||t===e||!0!==e||(Qs&&Qs.activate(),n.CAN_GO_BACK=!0)}),0)})),M(n,{TIMER_DURATION:300,$resetContext:function(){n.$inputs.$reset("otp"),n.$inputs.$reset("phone"),n.CAN_GO_BACK=!1,n.REDIRECT_URL=n.QR_CODE=n.SHOULD_VALIDATE_CHARGE=null},INIT_VIEW:function(e){!0===U(n,"SHOULD_VALIDATE_CHARGE")&&"TOKEN"===U(n.$inputs,"eNairaPaymentOption.value.identifier")||Zs&&(n.$resetContext(),Zs.activate(e))}}),Nu(n,{duration:300,onTick:function(){n.CURRENT_TIME=n.$timer.current},onFinish:function(){n.$charge.cancel()&&(n.$timer&&n.$timer.clear(),n.CURRENT_TIME=null,n.$resetContext(),setTimeout((function(){Ee.actions.updateErrorMessage(""),rc&&rc.activate.call(n)}),10))}})}});function ef(){var e=this.$charge;return ef=na({NAME:"OPAY_INIT_VIEW",constants:{hasBackAction:!1},next:function(){e.init()}}).call(this)}var tf=[ef];var nf=Object.freeze({__proto__:null,METHOD:"opay",METHOD_NAME:"OPay",CHARGE_MODE:1,VIEWS:tf,mount:function(){var e=this;return function(t){Dc.call(e,(function(){var t=e.REDIRECT_URL&&(pl||(e.REDIRECT_URL=null))||ef;t&&t.activate.call(e)})),Gc()}},getChargeData:function(){return{payment_type:"opay"}},getViewsContext:function(e,t){var n=ur.apply(void 0,[Object.create(null)].concat(["REDIRECT_URL"]));return n.$subscribe("REDIRECT_URL",(function(e,t){setTimeout((function(){(!t||t!==e)&&e instanceof URL&&pl&&pl.activate.call(n)}),0)})),M(n,{INIT_VIEW:function(e){ef&&ef.activate(e)}})}});function rf(e,t){var n=t.dispatch,r=t.getState,o=this.CHARGE_MODE,a=this.getChargeData,i=(0,this.getViewsContext)(e,t)||Object.create(null),c=M(Object.create(null),{mode:o});return Object.freeze(V.call(c,{data:x(a).bind(i)})),vc.call(c,i),M(i,{dispatch:n}),V.call(i,{DATA:function(){return e},STATE:function(){return r()}})}function of(e,t){if(D(this)){var n=this.VIEWS,r=this.METHOD,o=this.METHOD_NAME,a=this.mount,i=this.unmount,c=rf.call(this,e,t),u=n.map((function(e){return e.call(c)}));return{method:r,name:o,views:u,mount:x(a).bind(c),unmount:x(i).bind(c),$context:c}}}var af,cf,uf=[xu,_l,wl,Il,Ml,Xs,Vl,ql,Jl,ts,os,nf,us,ps,bs,_s,As,Is,Ms,Ls,Bs,Ks].map((function(e){return of.bind(e)}));function lf(){return D(this)||Object.create(null),na({NAME:"TIMEOUT_VIEW",mount:function(){var e,t=this.$$data,n=this.data,r=D(t)?t:D(n)?n:null,o=("vbvcomplete"===U(r,"name")?Ia(r,"transactionobject").transactionobject:Ia(r,"tx").tx||Ia(r,"data").data||r)||null;ko.transactionTimeout(),e=function(){if(Pa||Na)try{return void va.postMessage({name:r.name||"opop",data:r,tx:o,success:!1},"*")}catch(e){}setTimeout((function(){yo().then((function(e){try{var t=U(e,"redirect_url"),n=U(e,"txref");if(t&&n){var a=new URL(t),i=a.searchParams;if(!0===e.use_v3){var c=Ia(o,"id::transaction_id","status"),u=c.transaction_id,l=c.status;i.set("status",l),i.set("tx_ref",n),i.set("transaction_id",u||null),ko.redirectingToMerchant(o).finally((function(){return window.location.href=a.href}))}else{var s=dn("redirect_post","redirect_no_json"),f=s.redirect_post,d=s.redirect_no_json,p=+f?"POST":"GET";if("GET"===p&&+d)return void ko.redirectingToMerchant(o).finally((function(){return window.location.href=a.href}));var m=document.createElement("form"),h=document.createElement("textarea");h.setAttribute("name","resp"),h.setAttribute("hidden","hidden"),h.setAttribute("readonly","readonly"),h.classList.add("sr-only"),h.value=JSON.stringify(r),m.setAttribute("method",p),m.setAttribute("action",a.href),m.setAttribute("hidden","hidden"),m.classList.add("sr-only"),m.appendChild(h),document.body.appendChild(m),ko.redirectingToMerchant(o).finally((function(){return m.submit()}))}}}catch(e){}}))}),5e3)},ga.mixpanelInitialized()?ga.paymentTimeout().finally((function(){return e()})):Promise.resolve().then((function(){return e()}))}}).call(this)}function sf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ff={},df="view",pf=Object.create(null),mf=Object.create(null);function hf(e){if(N(e)&&D(this)){var t=e(this.$data,this.$store),n=t.name,r=t.method,o=t.views,a=t.mount,i=t.unmount,c=t.$context;M(mf,sf({},r,Object.freeze(M(Object.create(null),{name:n,mount:x(a),unmount:x(i)})))),this.$paymentMethods.indexOf(r)>=0&&[].concat(o).forEach((function(e){if(D(e)){var t=e.NAME;M(e,{$rootContext:c}),t&&M(pf,sf({},t,e))}}))}}function bf(e){if(e=D(e)?e:pf[e],D(e)&&D(this)){var t=this,n=e.NAME,r=this.$store,o=r.dispatch,a=r.getState;V.call(e,{DATA:function(){return t.$data},STATE:function(){return U(a(),"".concat(df,"[context]"))},ACTIVE:function(){var e=U(a(),"".concat(df,"[current]"));return n===e}}),M(e,{activate:function(n){t.$store.refresh.view.call(e)&&(af=e)&&x(n)(o,e.STATE)}})}}function yf(e,t){var n=V({$data:function(){return e},$store:function(){return t},$paymentMethods:function(){return U(e,"payment_options")||[]}});if([tl,Ec,pl,Da,ra,rc,xa,lf].forEach((function(e){N(e)&&M(e,{activate:function(t){var r=e.call(this);if(D(r)&&r.NAME){var o=r.NAME;o in pf||M(pf,sf({},o,e)),bf.call(n,r)}D(r)&&N(r.activate)&&(e!==tl&&tl.activate(),r.activate(t),e===Da&&(cf=!0),N(r.$mount)&&r.$mount())}})})),uf.forEach(hf.bind(n)),Object.keys(pf).forEach(bf.bind(n)),N(t.refresh)){var r=j(Object.create(null));M(t.refresh,{view:function(){var e=D(this)?this:{};if(P(e.ACTIVE)&&!e.ACTIVE){af&&x(af.Reducer.teardown)();var n=e.NAME,o=void 0===n?null:n,a=e.Reducer,i=e.setup;if(!N(a)&&N(i))a=(i(),e).Reducer;return ff.view=X({current:j(o),context:N(a)?a:r}),t.refresh(),x(U(e.$rootContext,"$inputs.$refresh"))(),e.ACTIVE}return!1}}),t.refresh.view(),tl&&tl.activate()}}function vf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vf(Object(n),!0).forEach((function(t){Of(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Of(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _f=Object.fromEntries(Array.from(Bn,(function(e,t){return[e,t]})));function Ef(){var e=this,t=Object.create(null),n=this.data,r=this.dispatch,o=U(n,"currencies"),a=U(n,"initial_currency"),i=U(n,"preferences[use_dynamic_currency_conversion]"),c=U(n,"integrity_hash"),l=i&&!c,p=y.call(e,a),m=we({available:l?o:Object.freeze([a].filter(Boolean))}),h=La.call(this,{actions:{on:f,off:d},initialState:!1,key:"switching"}),b=X(gf(gf(gf({},h),m),{},{current:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;if(t.type===u){var n=payload,r=n.currency;return o.indexOf(r)>=0&&r!==e?r:e}return e},methods:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,r=arguments.length>1?arguments[1]:void 0;if(r.type===s){var o=t.STATE.current;return y.call(e,o)}return n}}));function y(e){var t=(D(this)&&U(this.data,"currency_options[".concat(e,"]"))||[]).sort((function(e,t){return _f[e]-_f[t]||0})),n=t.reduce((function(e,t){return M(e,Of({},t,U(mf,"".concat(t,"[name]"))||null))}),Object.create(null));return Object.freeze(Object.defineProperties(t,{labels:{value:Object.freeze(n)}}))}function v(){return function(e){var n=t.STATE,r=n.methods,o=n.current,a=Af.STATE.current,i=r.indexOf(a)?a:"NGN"===o&&r.indexOf("card")>=0?"card":r[0];e(Af.actions.switchMethod(i))}}function g(e){return function(n){if(!0!==cf&&!0!==mc&&l){var r=t.STATE.current;(e=String(Lt.from(e)))!==Lt.NONE&&e!==r&&Lt.DCC.indexOf(e)>=0&&(n(h.actions.on()),Promise.resolve().then((function(){n({type:u,payload:{currency:e}}),n({type:s}),n(v()),n(h.actions.off())})))}}}return M(t,{NAME:"currency",Reducer:b,actions:M(Object.create(null),{switchCurrency:g}),exposedActions:M(Object.create(null),{Currency:te({switch:g},r)})}),setTimeout((function(){r(v())}),0),Ef=t}function Cf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cf(Object(n),!0).forEach((function(t){Tf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Af(){var e,t=Object.create(null),n=this.data,r=this.dispatch,o=U(n,"initial_method"),a={current:o,initial:o,label:U(mf,"".concat(o,"[name]"))||null},i=!0;function c(n){return function(r){var o=t.STATE.current,a=Ef.STATE,c=a.methods,u=a.current;if(!0!==cf&&!0!==mc&&c.indexOf(n)>=0){var s=!(n===o&&e&&e===u);s&&(s=function(e){var t=U(mf,e);N(t)&&N(t=t())&&r(t)}),s&&s("".concat(o,"[unmount]")),n!==o?(dispatchEvent(new CustomEvent(za,{bubbles:!1,cancelable:!1,detail:{current:n,previous:o}})),r({type:l,payload:{method:n}}),r(Ee.actions.updateErrorMessage()),ko.switchedMethod(t.STATE.label||t.STATE.current)):!0===i&&(i=!1,ko.switchedMethod(t.STATE.label||t.STATE.current)),s&&s("".concat(n,"[mount]")),e=Ef.STATE.current}}}return M(t,{NAME:"method",Reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0,n=D(t.payload)?t.payload:{};if(t.type===l){var r=n.method,o=e.current;return r!==o?wf(wf({},e),{},{current:r,label:U(mf,"".concat(r,"[name]"))||null}):e}return e},actions:M(Object.create(null),{switchMethod:c}),exposedActions:M(Object.create(null),{PaymentMethod:te({switch:c},r)})}),Af=t}function Sf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jf(){var e,t,n,r=Object.create(null),o=this.data,a=X(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sf(Object(n),!0).forEach((function(t){Rf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},we({name:(t=U(o,"firstname"),n=U(o,"lastname"),[t,n].filter(Boolean).join(" ")||"Anonymous Customer"),email:(e=U(o,"email"),!0===U(o,"preferences[prefers_hidden_email]")?null:e||null)})));return M(r,{NAME:"customer",Reducer:a}),jf=r}function If(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nf(){var e=Object.create(null),t=this.data,n=X(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?If(Object(n),!0).forEach((function(t){Pf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):If(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},we({name:U(t,"merchant_name"),logo:U(t,"merchant_logo"),poweredby:"Flutterwave"})));return M(e,{NAME:"merchant",Reducer:n}),Nf=e}function Df(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kf(){var e=Object.create(null),t=X(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Df(Object(n),!0).forEach((function(t){Mf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Df(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},we({mobile:se.isMobile,width:window.innerWidth,height:window.innerHeight,orientation:null})));return M(e,{NAME:"viewport",Reducer:t}),kf=e}function xf(){var e=Object.create(null),t=this.data;return M(e,{NAME:"isTestMode",Reducer:function(){return!!(e=U(t,"PBFPubKey"))&&e.includes("_TEST");var e}}),xf=e}function $f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uf(){var e=Object.create(null),t=U(this.data,"session_duration")||null,n=null;"number"==typeof t&&t>0&&t<=1440&&(n=t);var r=X(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$f(Object(n),!0).forEach((function(t){Lf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},we({session_duration:n})));return M(e,{NAME:"session",Reducer:r}),Uf=e}var Vf={},Ff={},Bf={};function Hf(e){return function(e){if(Array.isArray(e))return Gf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Gf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zf(){yo().then((function(e){var t,n=U(e,"forter_site_id");if(n){var r,o=Nn((r=yt.one).retry.apply(r,Hf(jn).concat([function(e){return function(e){return Pn(e)?e.json():e.text().then(JSON.parse).catch(Sn)}(e).then((function(e){return!(D(e)&&"success"===e.status)}))}])).delay(yt.ProgressiveDelay()).init(Rn).limit(10));document.addEventListener("ftr:tokenReady",(function(t){o("https://api.ravepay.co".concat("/v2/forter/events"),{body:JSON.stringify({modal_audit_uuid:U(e,"modalauditid"),public_key:U(e,"PBFPubKey"),forter_site_id:n,token:t.detail})}).catch(S)})),t=n,function(){function e(e,t){for(var n=e.split(""),r=0;r<n.length;++r)n[r]=String.fromCharCode(n[r].charCodeAt(0)+t);return n.join("")}function n(n){return e(n,-f).replace(/%SN%/g,t)}function r(e){try{E.ex=e,window.ga&&"noopfn"===window.ga.name&&-1===E.ex.indexOf(_.uB)&&(E.ex+=_.uB),!(!navigator.brave||"function"!=typeof navigator.brave.isBrave)&&-1===E.ex.indexOf(_.uBr)&&(E.ex+=_.uBr),document.currentScript&&document.currentScript.src&&-1===E.ex.indexOf(_.nIL)&&(E.ex+=_.nIL),window.ftr__snp_cwc||(E.ex+=_.s),g(E)}catch(e){}}function o(e,t){function n(o){try{o.blockedURI===e&&(t(),document.removeEventListener(r,n))}catch(e){document.removeEventListener(r,n)}}var r="securitypolicyviolation";document.addEventListener(r,n),setTimeout((function(){document.removeEventListener(r,n)}),12e4)}function a(){!function(e,t,n){var r=new XMLHttpRequest;if(o(e,(function(){n(new Error("CSP Violation"),!0),isErrorEventCalled=!0})),"withCredentials"in r)r.open("GET",e,!0);else{if("undefined"==typeof XDomainRequest)return;(r=new XDomainRequest).open("GET",e)}r.onload=function(){"function"==typeof t&&t(r)},r.onerror=function(e){if("function"==typeof n&&!isErrorEventCalled)try{n(e,!1),isErrorEventCalled=!0}catch(e){}},r.onprogress=function(){},r.ontimeout=function(){"function"==typeof n&&n("timeout",!1)},setTimeout((function(){r.send()}),0)}(d,(function(r){try{var o=r.getAllResponseHeaders().toLowerCase();if(o.indexOf(m.toLowerCase())<0)return;var a=e(r.getResponseHeader(m),-f-1);if(a){var u=a.split(":");if(u&&3===u.length){var l=u[0],s=u[1],d=u[2];switch(s){case"none":c=l+p;break;case"res":c=l+p+d;break;case"enc":c=l+n("1forxgiurqw1qhw2vq2(VQ(2vfulsw1mv");break;case"enc-res":for(var b="",y=0,g=0;y<20;++y)b+=y%3>0&&g<12?t.charAt(g++):E.id.charAt(y);var O=d.split(".");if(O.length>1){var C=O[0],w=O[1];c=l+p+C+"."+b+"."+w}}if(o.indexOf(h.toLowerCase())>=0){var T=e(r.getResponseHeader(h),-f-1);window.ftr__altd=T}R(_.dUAL),setTimeout(i,v,_.dUAL)}}}catch(e){}}),(function(e,t){r(t?_.uAS+_.cP:_.uAS)}))}function i(e){try{var t=e===_.uDF?b:c;if(!t)return;!function(e,t,n,r){var a=!1;o(e="https://"+e,(function(){r(!0),a=!0}));var i=document.createElement("script");i.onerror=function(){if(!a)try{r(!1),a=!0}catch(e){}},i.onload=n,i.type="text/javascript",i.id="ftr__script",i.async=!0,i.src=e;var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(i,c)}(t,0,(function(){try{j(),r(e+_.uS)}catch(e){}}),(function(t){try{j(),E.td=1*new Date-E.ts,r(t?e+_.uF+_.cP:e+_.uF),e===_.uDF&&a()}catch(e){r(_.eUoe)}}))}catch(t){r(e+_.eTlu)}}var c,u="forterToken",l={write:function(e,t,n,r){var o,a;if(void 0===r&&(r=!0),n?((o=new Date).setTime(o.getTime()+24*n*60*60*1e3),a="; expires="+o.toGMTString()):a="",r)for(var i=1,c=document.domain.split("."),u=10,s=!0;s&&c.length>=i&&u>0;){var f=c.slice(-i).join(".");document.cookie=escape(e)+"="+escape(t)+a+"; path=/; domain="+f;var d=l.read(e);null!=d&&d==t||(f="."+f,document.cookie=escape(e)+"="+escape(t)+a+"; path=/; domain="+f),s=-1===document.cookie.indexOf(e+"="+t),i++,u--}else document.cookie=escape(e)+"="+escape(t)+a+"; path=/"},read:function(e){var t=null;try{for(var n=escape(e)+"=",r=document.cookie.split(";"),o=0;o<r.length;o++){for(var a=r[o];32===a.charCodeAt(0);)a=a.substring(1,a.length);0===a.indexOf(n)&&(t=unescape(a.substring(n.length,a.length)))}}finally{return t}}},s=function(e){if(document.head){var t=function(){var t=document.createElement("link");return t.setAttribute("rel","preconnect"),t.setAttribute("crossorigin","anonymous"),t.onload=function(){document.head.removeChild(t)},t.onerror=function(e){document.head.removeChild(t)},t.setAttribute("href",e),document.head.appendChild(t),t}();setTimeout((function(){document.head.removeChild(t)}),3e3)}},f=3,d=n("22g4zl{5jf5fjtlv1forxgiurqw1qhw2vwdwxv"),p=e("1forxgiurqw1qhw2",-f),m=e("[0Uhtxhvw0LG",-f),h=e("[0Fruuhodwlrq0LG",-f),b=n("(VQ(1fgq71iruwhu1frp2vq2(VQ(2vfulsw1mv"),y=n("(VQ(1fgq71iruwhu1frp2vqV2(VQ(2vfulsw1mv"),v=10;window.ftr__startScriptLoad=1*new Date;var g=function(e){var t=function(e){return e||""},n=t(e.id)+"_"+t(e.ts)+"_"+t(e.td)+"_"+t(e.ex)+"_"+t("13ck");l.write(u,n,1825,!0),function(e){window.ftr__tt&&clearTimeout(window.ftr__tt),window.ftr__tt=setTimeout((function(){try{delete window.ftr__tt,e+="_tt";var t=document.createEvent("Event");t.initEvent("ftr:tokenReady",!1,!1),t.detail=e,document.dispatchEvent(t)}catch(e){}}),1e3)}(n),window.ftr__gt=n},O=function(){for(var e={},t=[],n=0;n<256;n++)t[n]=(n<16?"0":"")+n.toString(16);return e.safeGenerateNoDash=function(){try{var e=function(){if(window.Uint32Array&&window.crypto&&window.crypto.getRandomValues){var e=new window.Uint32Array(4);return window.crypto.getRandomValues(e),{d0:e[0],d1:e[1],d2:e[2],d3:e[3]}}return{d0:4294967296*Math.random()>>>0,d1:4294967296*Math.random()>>>0,d2:4294967296*Math.random()>>>0,d3:4294967296*Math.random()>>>0}}();return function(e,n,r,o,a){var i=a?"-":"";return t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+i+t[255&n]+t[n>>8&255]+i+t[n>>16&15|64]+t[n>>24&255]+i+t[63&r|128]+t[r>>8&255]+i+t[r>>16&255]+t[r>>24&255]+t[255&o]+t[o>>8&255]+t[o>>16&255]+t[o>>24&255]}(e.d0,e.d1,e.d2,e.d3,!1)}catch(e){try{return"fgu"+function(){var e="",t=function(e,t){for(var n="",r=e;r>0;--r)n+=t.charAt(1e3*Math.random()%t.length);return n};return e+=t(2,"0123456789"),(e+=t(1,"123456789"))+t(8,"0123456789")}()}catch(e){}}},e.isValidNumericalToken=function(e){return e&&e.toString().length<=11&&e.length>=9&&parseInt(e,10).toString().length<=11&&parseInt(e,10).toString().length>=9},e.isValidUUIDToken=function(e){return e&&32===e.toString().length&&/^[a-z0-9]+$/.test(e)},e.isValidFGUToken=function(e){return 0==e.indexOf("fgu")&&e.length>=12},e}(),_={uDF:"UDF",dUAL:"dUAL",uAS:"UAS",mLd:"1",eTlu:"2",eUoe:"3",uS:"4",uF:"9",tmos:["T5","T10","T15","T30","T60"],tmosSecs:[5,10,15,30,60],bIR:"43",uB:"u",uBr:"b",cP:"c",nIL:"i",s:"s"};try{var E=function(){var e=(l.read(u)||"").split("_"),t=function(t){return e[t]||void 0};return{id:t(0),ts:t(1),td:t(2),ex:t(3),vr:t(4)}}();try{E.id&&(O.isValidNumericalToken(E.id)||O.isValidUUIDToken(E.id)||O.isValidFGUToken(E.id))?window.ftr__ncd=!1:(E.id=O.safeGenerateNoDash(),window.ftr__ncd=!0),E.ts=window.ftr__startScriptLoad,g(E),window.ftr__snp_cwc=!!l.read(u),window.ftr__snp_cwc||(b=y);for(var C="forter.com",w="https://"+E.id+"-"+t+".cdn."+C,T=["https://cdn9.forter.com",w,"https://cdn3.forter.com"],A=0;A<T.length;A++)s(T[A]);var S=new Array(_.tmosSecs.length),R=function(e){for(var t=0;t<_.tmosSecs.length;t++)S[t]=setTimeout(r,1e3*_.tmosSecs[t],e+_.tmos[t])},j=function(){for(var e=0;e<_.tmosSecs.length;e++)clearTimeout(S[e])};!function(e,t){for(var n=_.tmos,r=0;r<n.length;r++)if(e+n[r]===t)return!0;return!1}(_.uDF,E.ex)?(R(_.uDF),setTimeout(i,v,_.uDF)):loadAlternate()}catch(e){r(_.mLd)}}catch(e){}}()}}))}function Wf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qf(e,t){var n=1440;if(e&&t){var r={data:{status:"session_expired",message:"Checkout session expired",transaction_id:null,id:null}},o=V({$chargeData:function(){return e},$state:function(){return t.getState()},$$data:function(){return r}},!1),a=sn.get("custom_session_duration")||1440;isNaN(a)||(n=a<=0||a>1440?1440:a),setTimeout((function(){var e=o.$state.view&&o.$state.view.current||"PLACEHOLDER_VIEW";["SUCCESS_VIEW","TIMEOUT_VIEW","FAILURE_VIEW"].includes(e)||lf&&lf.activate.call(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wf(Object(n),!0).forEach((function(t){Kf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o))}),6e4*n)}}function Yf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yf(Object(n),!0).forEach((function(t){Qf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jf,Xf=!1,ed=function e(t,n,r){var o;if("function"==typeof n&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(e)(t,n)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var a=t,i=n,c=[],u=c,l=!1;function s(){u===c&&(u=c.slice())}function f(){if(l)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function d(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(l)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return s(),u.push(e),function(){if(t){if(l)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,s();var n=u.indexOf(e);u.splice(n,1),c=null}}}function p(e){if(!Q(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error("Reducers may not dispatch actions.");try{l=!0,i=a(i,e)}finally{l=!1}for(var t=c=u,n=0;n<t.length;n++){(0,t[n])()}return e}function m(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");a=e,p({type:Z.REPLACE})}function h(){var e,t=d;return(e={subscribe:function(e){if("object"!==q(e)||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[K]=function(){return this},e}return p({type:Z.INIT}),(o={dispatch:p,subscribe:d,getState:f,replaceReducer:m})[K]=h,o}(td(),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(o)}));return oe({},n,{dispatch:r=ae.apply(void 0,a)(n.dispatch)})}}}(r));function td(){return X(Zf(Zf({},Vf),ff))}function nd(){var e=ed.dispatch,t=ed.getState,n=ed.subscribe,r=V({dispatch:function(){return e},getState:function(){return t},subscribe:function(){return n}},!1);return Object.freeze(M(r,Zf({},Bf)))}function rd(e){!0!==Xf&&(Xf=!0,dispatchEvent(e))}function od(){return Jf||(Jf=yo().then((function(e){var t,n,r,o=Zf({},D(e)?e:{});return zf(),ga.init(),Object.defineProperty(ed,"refresh",{value:function(){return ed.replaceReducer(td())}}),_c(o,ed),qf(o,ed),yf(o,ed),t=o,n=ed,r=V({actions:function(){return Ff},data:function(){return t},dispatch:function(){return n.dispatch}}),[Ce,Re,_e,Ef,jf,z,Ee,$a,$o,Nf,Af,xf,kf,Ua,nc,Uf].forEach((function(e){if(N(e)){var t=e.call(r),o=t.NAME,a=t.Reducer,i=t.actions,c=t.exposedActions,u=k.bind(t);i&&(Ff[o]=i),c&&M(Bf,c),Vf[o]=a,u("STATE",(function(){return U(n.getState(),"".concat(o))}))}})),M(Bf,{LogUntranslatedErrors:M(Object.create(null),{logError:function(e){ko.logUntranslatedError(e)}}),Control:M(Object.create(null),{close:function(e){e&&"function"==typeof U(e,"preventDefault")&&e.preventDefault();var t=U(ed.getState(),"view.current"),r=On("en"===U(n.getState(),"locale")?oc:ac,"close.checkout.notice");if(!cf&&"PENDING_VIEW"!==t||!Pa&&!Na){if(!cf&&confirm(r)&&(Pa||Na))try{dispatchEvent(new CustomEvent(Ga,{bubbles:!1,cancelable:!1})),ko.closeModal(),va.postMessage({name:"closeiframe",data:{cancelled:!0}},"*")}catch(e){}}else try{dispatchEvent(new CustomEvent(Ga,{bubbles:!1,cancelable:!1})),ko.closeModal(!0),va.postMessage({name:"closeiframe",data:{}},"*")}catch(e){}}})}),ed.refresh(),sn.hasErrors()&&Ec&&Ec.activate((function(){ed.dispatch(Ee.actions.updateErrorMessage(sn.getError()))})),new CustomEvent("checkout:ready",{bubbles:!1,cancelable:!1,detail:V({store:nd})})}))),Jf}addEventListener("checkout:app",(function e(){removeEventListener("checkout:app",e,!1),od().then(rd)}),!1),od().then(rd),zn()}));
//# sourceMappingURL=checkout.js.map
